import{a as xt,b as sl,c as rl,d as il,e as ul,f as cl,g as dl}from"./index-ebd3332b.js";import{u as lt}from"./dev-ed3fdf54.js";import{a as Y,k as A,aa as F,p as nt,v as ot,o as h,c as V,O as le,_ as ne,aj as pl,ak as ie,e as x,b as B,l as ve,D as at,y as k,t as Z,z as st,r as y,i as o,w as s,F as T,g as j,u as M,al as kt,h as D,j as Ne,am as ye,A as fe,af as me,an as fl,ao as _e,E as Ue,ap as Qe,aq as ml,n as zt,ar as vl,as as Ut,at as rt,N as hl,au as _l,av as gl,aw as yl,ax as bl,ab as Ge,ay as wl,az as Fe,aA as xl,aB as kl,aC as Cl,aD as Vl,aE as $l,aF as Ml,aG as Sl,aH as zl,aI as Ul,ah as te,B as it,C as ut}from"./index-05f082af.js";import{E as Et}from"./codeEditor-f6ef3342.js";import{_ as El}from"./index.vue_vue_type_script_setup_true_lang-88f55344.js";import{f as Il}from"./data-10fa9501.js";import{a as Rl}from"./time-194208a7.js";const Hl=Y({__name:"Area",emits:["move","up"],setup(e,{expose:t,emit:n}){const l=n,a=A(!1),r=A({width:0,height:0,top:0,left:0}),i=F(()=>{const{width:c,height:d,top:f,left:m}=r.value;return{width:c+"px",height:d+"px",top:f+"px",left:m+"px"}});function u(c){const{pageX:d,pageY:f}=c,m=c.target.getBoundingClientRect(),v=d-m.left,p=f-m.top,g=$=>{const S=$.pageX-d,_=$.pageY-f;let C=v,z=p,G=Math.abs(S),J=Math.abs(_);(G>2||J>2)&&(a.value=!0),S<0&&(C=v-G),_<0&&(z=p-J),r.value={width:G,height:J,left:C,top:z},l("move",{...r.value})},w=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",w),a.value=!1,r.value={width:0,height:0,top:0,left:0},l("up",r.value)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",w)}return t({onMouseDown:u,areaData:r}),(c,d)=>nt((h(),V("div",{class:"es-editor-area",style:le(i.value)},null,4)),[[ot,a.value]])}}),ql=ne(Hl,[["__scopeId","data-v-f8facc6a"]]);var It={exports:{}},Rt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ht={exports:{}},Al=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},Dl=Al,Tl=Array.prototype.concat,Ll=Array.prototype.slice,Ct=Ht.exports=function(t){for(var n=[],l=0,a=t.length;l<a;l++){var r=t[l];Dl(r)?n=Tl.call(n,Ll.call(r)):n.push(r)}return n};Ct.wrap=function(e){return function(){return e(Ct(arguments))}};var Pl=Ht.exports,ze=Rt,Ie=Pl,qt=Object.hasOwnProperty,At=Object.create(null);for(var We in ze)qt.call(ze,We)&&(At[ze[We]]=We);var re=It.exports={to:{},get:{}};re.get=function(e){var t=e.substring(0,3).toLowerCase(),n,l;switch(t){case"hsl":n=re.get.hsl(e),l="hsl";break;case"hwb":n=re.get.hwb(e),l="hwb";break;default:n=re.get.rgb(e),l="rgb";break}return n?{model:l,value:n}:null};re.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,l=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,r=/^(\w+)$/,i=[0,0,0,1],u,c,d;if(u=e.match(n)){for(d=u[2],u=u[1],c=0;c<3;c++){var f=c*2;i[c]=parseInt(u.slice(f,f+2),16)}d&&(i[3]=parseInt(d,16)/255)}else if(u=e.match(t)){for(u=u[1],d=u[3],c=0;c<3;c++)i[c]=parseInt(u[c]+u[c],16);d&&(i[3]=parseInt(d+d,16)/255)}else if(u=e.match(l)){for(c=0;c<3;c++)i[c]=parseInt(u[c+1],0);u[4]&&(u[5]?i[3]=parseFloat(u[4])*.01:i[3]=parseFloat(u[4]))}else if(u=e.match(a)){for(c=0;c<3;c++)i[c]=Math.round(parseFloat(u[c+1])*2.55);u[4]&&(u[5]?i[3]=parseFloat(u[4])*.01:i[3]=parseFloat(u[4]))}else return(u=e.match(r))?u[1]==="transparent"?[0,0,0,0]:qt.call(ze,u[1])?(i=ze[u[1]],i[3]=1,i):null:null;for(c=0;c<3;c++)i[c]=ge(i[c],0,255);return i[3]=ge(i[3],0,1),i};re.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var l=parseFloat(n[4]),a=(parseFloat(n[1])%360+360)%360,r=ge(parseFloat(n[2]),0,100),i=ge(parseFloat(n[3]),0,100),u=ge(isNaN(l)?1:l,0,1);return[a,r,i,u]}return null};re.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var l=parseFloat(n[4]),a=(parseFloat(n[1])%360+360)%360,r=ge(parseFloat(n[2]),0,100),i=ge(parseFloat(n[3]),0,100),u=ge(isNaN(l)?1:l,0,1);return[a,r,i,u]}return null};re.to.hex=function(){var e=Ie(arguments);return"#"+qe(e[0])+qe(e[1])+qe(e[2])+(e[3]<1?qe(Math.round(e[3]*255)):"")};re.to.rgb=function(){var e=Ie(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};re.to.rgb.percent=function(){var e=Ie(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),l=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+n+"%, "+l+"%)":"rgba("+t+"%, "+n+"%, "+l+"%, "+e[3]+")"};re.to.hsl=function(){var e=Ie(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};re.to.hwb=function(){var e=Ie(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};re.to.keyword=function(e){return At[e.slice(0,3)]};function ge(e,t,n){return Math.min(Math.max(t,e),n)}function qe(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var Fl=It.exports;const Ee=Rt,Dt={};for(const e of Object.keys(Ee))Dt[Ee[e]]=e;const I={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var Tt=I;for(const e of Object.keys(I)){if(!("channels"in I[e]))throw new Error("missing channels property: "+e);if(!("labels"in I[e]))throw new Error("missing channel labels property: "+e);if(I[e].labels.length!==I[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=I[e];delete I[e].channels,delete I[e].labels,Object.defineProperty(I[e],"channels",{value:t}),Object.defineProperty(I[e],"labels",{value:n})}I.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,l=e[2]/255,a=Math.min(t,n,l),r=Math.max(t,n,l),i=r-a;let u,c;r===a?u=0:t===r?u=(n-l)/i:n===r?u=2+(l-t)/i:l===r&&(u=4+(t-n)/i),u=Math.min(u*60,360),u<0&&(u+=360);const d=(a+r)/2;return r===a?c=0:d<=.5?c=i/(r+a):c=i/(2-r-a),[u,c*100,d*100]};I.rgb.hsv=function(e){let t,n,l,a,r;const i=e[0]/255,u=e[1]/255,c=e[2]/255,d=Math.max(i,u,c),f=d-Math.min(i,u,c),m=function(v){return(d-v)/6/f+1/2};return f===0?(a=0,r=0):(r=f/d,t=m(i),n=m(u),l=m(c),i===d?a=l-n:u===d?a=1/3+t-l:c===d&&(a=2/3+n-t),a<0?a+=1:a>1&&(a-=1)),[a*360,r*100,d*100]};I.rgb.hwb=function(e){const t=e[0],n=e[1];let l=e[2];const a=I.rgb.hsl(e)[0],r=1/255*Math.min(t,Math.min(n,l));return l=1-1/255*Math.max(t,Math.max(n,l)),[a,r*100,l*100]};I.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,l=e[2]/255,a=Math.min(1-t,1-n,1-l),r=(1-t-a)/(1-a)||0,i=(1-n-a)/(1-a)||0,u=(1-l-a)/(1-a)||0;return[r*100,i*100,u*100,a*100]};function Ol(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}I.rgb.keyword=function(e){const t=Dt[e];if(t)return t;let n=1/0,l;for(const a of Object.keys(Ee)){const r=Ee[a],i=Ol(e,r);i<n&&(n=i,l=a)}return l};I.keyword.rgb=function(e){return Ee[e]};I.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,l=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,l=l>.04045?((l+.055)/1.055)**2.4:l/12.92;const a=t*.4124+n*.3576+l*.1805,r=t*.2126+n*.7152+l*.0722,i=t*.0193+n*.1192+l*.9505;return[a*100,r*100,i*100]};I.rgb.lab=function(e){const t=I.rgb.xyz(e);let n=t[0],l=t[1],a=t[2];n/=95.047,l/=100,a/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,l=l>.008856?l**(1/3):7.787*l+16/116,a=a>.008856?a**(1/3):7.787*a+16/116;const r=116*l-16,i=500*(n-l),u=200*(l-a);return[r,i,u]};I.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,l=e[2]/100;let a,r,i;if(n===0)return i=l*255,[i,i,i];l<.5?a=l*(1+n):a=l+n-l*n;const u=2*l-a,c=[0,0,0];for(let d=0;d<3;d++)r=t+1/3*-(d-1),r<0&&r++,r>1&&r--,6*r<1?i=u+(a-u)*6*r:2*r<1?i=a:3*r<2?i=u+(a-u)*(2/3-r)*6:i=u,c[d]=i*255;return c};I.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,l=e[2]/100,a=n;const r=Math.max(l,.01);l*=2,n*=l<=1?l:2-l,a*=r<=1?r:2-r;const i=(l+n)/2,u=l===0?2*a/(r+a):2*n/(l+n);return[t,u*100,i*100]};I.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let l=e[2]/100;const a=Math.floor(t)%6,r=t-Math.floor(t),i=255*l*(1-n),u=255*l*(1-n*r),c=255*l*(1-n*(1-r));switch(l*=255,a){case 0:return[l,c,i];case 1:return[u,l,i];case 2:return[i,l,c];case 3:return[i,u,l];case 4:return[c,i,l];case 5:return[l,i,u]}};I.hsv.hsl=function(e){const t=e[0],n=e[1]/100,l=e[2]/100,a=Math.max(l,.01);let r,i;i=(2-n)*l;const u=(2-n)*a;return r=n*a,r/=u<=1?u:2-u,r=r||0,i/=2,[t,r*100,i*100]};I.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,l=e[2]/100;const a=n+l;let r;a>1&&(n/=a,l/=a);const i=Math.floor(6*t),u=1-l;r=6*t-i,i&1&&(r=1-r);const c=n+r*(u-n);let d,f,m;switch(i){default:case 6:case 0:d=u,f=c,m=n;break;case 1:d=c,f=u,m=n;break;case 2:d=n,f=u,m=c;break;case 3:d=n,f=c,m=u;break;case 4:d=c,f=n,m=u;break;case 5:d=u,f=n,m=c;break}return[d*255,f*255,m*255]};I.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,l=e[2]/100,a=e[3]/100,r=1-Math.min(1,t*(1-a)+a),i=1-Math.min(1,n*(1-a)+a),u=1-Math.min(1,l*(1-a)+a);return[r*255,i*255,u*255]};I.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,l=e[2]/100;let a,r,i;return a=t*3.2406+n*-1.5372+l*-.4986,r=t*-.9689+n*1.8758+l*.0415,i=t*.0557+n*-.204+l*1.057,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,a=Math.min(Math.max(0,a),1),r=Math.min(Math.max(0,r),1),i=Math.min(Math.max(0,i),1),[a*255,r*255,i*255]};I.xyz.lab=function(e){let t=e[0],n=e[1],l=e[2];t/=95.047,n/=100,l/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;const a=116*n-16,r=500*(t-n),i=200*(n-l);return[a,r,i]};I.lab.xyz=function(e){const t=e[0],n=e[1],l=e[2];let a,r,i;r=(t+16)/116,a=n/500+r,i=r-l/200;const u=r**3,c=a**3,d=i**3;return r=u>.008856?u:(r-16/116)/7.787,a=c>.008856?c:(a-16/116)/7.787,i=d>.008856?d:(i-16/116)/7.787,a*=95.047,r*=100,i*=108.883,[a,r,i]};I.lab.lch=function(e){const t=e[0],n=e[1],l=e[2];let a;a=Math.atan2(l,n)*360/2/Math.PI,a<0&&(a+=360);const i=Math.sqrt(n*n+l*l);return[t,i,a]};I.lch.lab=function(e){const t=e[0],n=e[1],a=e[2]/360*2*Math.PI,r=n*Math.cos(a),i=n*Math.sin(a);return[t,r,i]};I.rgb.ansi16=function(e,t=null){const[n,l,a]=e;let r=t===null?I.rgb.hsv(e)[2]:t;if(r=Math.round(r/50),r===0)return 30;let i=30+(Math.round(a/255)<<2|Math.round(l/255)<<1|Math.round(n/255));return r===2&&(i+=60),i};I.hsv.ansi16=function(e){return I.rgb.ansi16(I.hsv.rgb(e),e[2])};I.rgb.ansi256=function(e){const t=e[0],n=e[1],l=e[2];return t===n&&n===l?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(l/255*5)};I.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=(~~(e>50)+1)*.5,l=(t&1)*n*255,a=(t>>1&1)*n*255,r=(t>>2&1)*n*255;return[l,a,r]};I.ansi256.rgb=function(e){if(e>=232){const r=(e-232)*10+8;return[r,r,r]}e-=16;let t;const n=Math.floor(e/36)/5*255,l=Math.floor((t=e%36)/6)/5*255,a=t%6/5*255;return[n,l,a]};I.rgb.hex=function(e){const n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};I.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];t[0].length===3&&(n=n.split("").map(u=>u+u).join(""));const l=parseInt(n,16),a=l>>16&255,r=l>>8&255,i=l&255;return[a,r,i]};I.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,l=e[2]/255,a=Math.max(Math.max(t,n),l),r=Math.min(Math.min(t,n),l),i=a-r;let u,c;return i<1?u=r/(1-i):u=0,i<=0?c=0:a===t?c=(n-l)/i%6:a===n?c=2+(l-t)/i:c=4+(t-n)/i,c/=6,c%=1,[c*360,i*100,u*100]};I.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,l=n<.5?2*t*n:2*t*(1-n);let a=0;return l<1&&(a=(n-.5*l)/(1-l)),[e[0],l*100,a*100]};I.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,l=t*n;let a=0;return l<1&&(a=(n-l)/(1-l)),[e[0],l*100,a*100]};I.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,l=e[2]/100;if(n===0)return[l*255,l*255,l*255];const a=[0,0,0],r=t%1*6,i=r%1,u=1-i;let c=0;switch(Math.floor(r)){case 0:a[0]=1,a[1]=i,a[2]=0;break;case 1:a[0]=u,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=i;break;case 3:a[0]=0,a[1]=u,a[2]=1;break;case 4:a[0]=i,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=u}return c=(1-n)*l,[(n*a[0]+c)*255,(n*a[1]+c)*255,(n*a[2]+c)*255]};I.hcg.hsv=function(e){const t=e[1]/100,n=e[2]/100,l=t+n*(1-t);let a=0;return l>0&&(a=t/l),[e[0],a*100,l*100]};I.hcg.hsl=function(e){const t=e[1]/100,l=e[2]/100*(1-t)+.5*t;let a=0;return l>0&&l<.5?a=t/(2*l):l>=.5&&l<1&&(a=t/(2*(1-l))),[e[0],a*100,l*100]};I.hcg.hwb=function(e){const t=e[1]/100,n=e[2]/100,l=t+n*(1-t);return[e[0],(l-t)*100,(1-l)*100]};I.hwb.hcg=function(e){const t=e[1]/100,l=1-e[2]/100,a=l-t;let r=0;return a<1&&(r=(l-a)/(1-a)),[e[0],a*100,r*100]};I.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};I.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};I.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};I.gray.hsl=function(e){return[0,0,e[0]]};I.gray.hsv=I.gray.hsl;I.gray.hwb=function(e){return[0,100,e[0]]};I.gray.cmyk=function(e){return[0,0,0,e[0]]};I.gray.lab=function(e){return[e[0],0,0]};I.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,l=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(l.length)+l};I.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const Oe=Tt;function Bl(){const e={},t=Object.keys(Oe);for(let n=t.length,l=0;l<n;l++)e[t[l]]={distance:-1,parent:null};return e}function jl(e){const t=Bl(),n=[e];for(t[e].distance=0;n.length;){const l=n.pop(),a=Object.keys(Oe[l]);for(let r=a.length,i=0;i<r;i++){const u=a[i],c=t[u];c.distance===-1&&(c.distance=t[l].distance+1,c.parent=l,n.unshift(u))}}return t}function Nl(e,t){return function(n){return t(e(n))}}function Gl(e,t){const n=[t[e].parent,e];let l=Oe[t[e].parent][e],a=t[e].parent;for(;t[a].parent;)n.unshift(t[a].parent),l=Nl(Oe[t[a].parent][a],l),a=t[a].parent;return l.conversion=n,l}var Yl=function(e){const t=jl(e),n={},l=Object.keys(t);for(let a=l.length,r=0;r<a;r++){const i=l[r];t[i].parent!==null&&(n[i]=Gl(i,t))}return n};const Ze=Tt,Jl=Yl,Ve={},Ql=Object.keys(Ze);function Wl(e){const t=function(...n){const l=n[0];return l==null?l:(l.length>1&&(n=l),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function Xl(e){const t=function(...n){const l=n[0];if(l==null)return l;l.length>1&&(n=l);const a=e(n);if(typeof a=="object")for(let r=a.length,i=0;i<r;i++)a[i]=Math.round(a[i]);return a};return"conversion"in e&&(t.conversion=e.conversion),t}Ql.forEach(e=>{Ve[e]={},Object.defineProperty(Ve[e],"channels",{value:Ze[e].channels}),Object.defineProperty(Ve[e],"labels",{value:Ze[e].labels});const t=Jl(e);Object.keys(t).forEach(l=>{const a=t[l];Ve[e][l]=Xl(a),Ve[e][l].raw=Wl(a)})});var Kl=Ve;const $e=Fl,se=Kl,Lt=["keyword","gray","hex"],et={};for(const e of Object.keys(se))et[[...se[e].labels].sort().join("")]=e;const Be={};function ee(e,t){if(!(this instanceof ee))return new ee(e,t);if(t&&t in Lt&&(t=null),t&&!(t in se))throw new Error("Unknown model: "+t);let n,l;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof ee)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const a=$e.get(e);if(a===null)throw new Error("Unable to parse color from string: "+e);this.model=a.model,l=se[this.model].channels,this.color=a.value.slice(0,l),this.valpha=typeof a.value[l]=="number"?a.value[l]:1}else if(e.length>0){this.model=t||"rgb",l=se[this.model].channels;const a=Array.prototype.slice.call(e,0,l);this.color=tt(a,l),this.valpha=typeof e[l]=="number"?e[l]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const a=Object.keys(e);"alpha"in e&&(a.splice(a.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const r=a.sort().join("");if(!(r in et))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=et[r];const{labels:i}=se[this.model],u=[];for(n=0;n<i.length;n++)u.push(e[i[n]]);this.color=tt(u)}if(Be[this.model])for(l=se[this.model].channels,n=0;n<l;n++){const a=Be[this.model][n];a&&(this.color[n]=a(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}ee.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in $e.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const n=t.valpha===1?t.color:[...t.color,this.valpha];return $e.to[t.model](n)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),n=t.valpha===1?t.color:[...t.color,this.valpha];return $e.to.rgb.percent(n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=se[this.model],{labels:n}=se[this.model];for(let l=0;l<t;l++)e[n[l]]=this.color[l];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new ee([...this.color.map(en(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new ee([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:Q("rgb",0,K(255)),green:Q("rgb",1,K(255)),blue:Q("rgb",2,K(255)),hue:Q(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:Q("hsl",1,K(100)),lightness:Q("hsl",2,K(100)),saturationv:Q("hsv",1,K(100)),value:Q("hsv",2,K(100)),chroma:Q("hcg",1,K(100)),gray:Q("hcg",2,K(100)),white:Q("hwb",1,K(100)),wblack:Q("hwb",2,K(100)),cyan:Q("cmyk",0,K(100)),magenta:Q("cmyk",1,K(100)),yellow:Q("cmyk",2,K(100)),black:Q("cmyk",3,K(100)),x:Q("xyz",0,K(95.047)),y:Q("xyz",1,K(100)),z:Q("xyz",2,K(108.833)),l:Q("lab",0,K(100)),a:Q("lab",1),b:Q("lab",2),keyword(e){return e!==void 0?new ee(e):se[this.model].keyword(this.color)},hex(e){return e!==void 0?new ee(e):$e.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new ee(e);const t=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),$e.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[n,l]of e.entries()){const a=l/255;t[n]=a<=.04045?a/12.92:((a+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return ee.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),l=this.rgb(),a=t===void 0?.5:t,r=2*a-1,i=n.alpha()-l.alpha(),u=((r*i===-1?r:(r+i)/(1+r*i))+1)/2,c=1-u;return ee.rgb(u*n.red()+c*l.red(),u*n.green()+c*l.green(),u*n.blue()+c*l.blue(),n.alpha()*a+l.alpha()*(1-a))}};for(const e of Object.keys(se)){if(Lt.includes(e))continue;const{channels:t}=se[e];ee.prototype[e]=function(...n){return this.model===e?new ee(this):n.length>0?new ee(n,e):new ee([...tn(se[this.model][e].raw(this.color)),this.valpha],e)},ee[e]=function(...n){let l=n[0];return typeof l=="number"&&(l=tt(n,t)),new ee(l,e)}}function Zl(e,t){return Number(e.toFixed(t))}function en(e){return function(t){return Zl(t,e)}}function Q(e,t,n){e=Array.isArray(e)?e:[e];for(const l of e)(Be[l]||(Be[l]=[]))[t]=n;return e=e[0],function(l){let a;return l!==void 0?(n&&(l=n(l)),a=this[e](),a.color[t]=l,a):(a=this[e]().color[t],n&&(a=n(a)),a)}}function K(e){return function(t){return Math.max(0,Math.min(e,t))}}function tn(e){return Array.isArray(e)?e:[e]}function tt(e,t){for(let n=0;n<t;n++)typeof e[n]!="number"&&(e[n]=0);return e}var ln=ee;const Pt=pl(ln);let nn=1;function we(e="es-drager"){return`${e}-${Date.now()}-${nn++}`}function Se(e){return JSON.parse(JSON.stringify(e))}function on(e,t){const n=e.filter(m=>m.selected);if(!n.length)return e;let l=1/0,a=1/0,r=-1/0,i=-1/0;Math.max(...n.map(m=>m.left)),n.forEach(m=>{const v=document.getElementById(m.id).getBoundingClientRect();l=Math.min(l,v.left-t.left),r=Math.max(r,v.right-t.left),a=Math.min(a,v.top-t.top),i=Math.max(i,v.bottom-t.top)});const u={left:l,top:a,width:r-l,height:i-a};let c=!1;n.forEach(m=>{m.left=m.left-l,m.top=m.top-a,m.groupStyle={...m.style,width:Ae(m.width/u.width),height:Ae(m.height/u.height),left:Ae(m.left/u.width),top:Ae(m.top/u.height),transform:`rotate(${m.angle||0}deg)`,position:"absolute"},m.angle&&(c=!0)});const d={id:we(),component:"es-group",group:!0,selected:!0,...u,equalProportion:c,props:{elements:n}};return[...e.filter(m=>!m.selected),d]}function an(e,t){const n=e.find(i=>i.selected);if(!n||n.component!=="es-group")return e;const a=n.props.elements.map(i=>{const u=document.getElementById(i.id).getBoundingClientRect(),c={x:u.left-t.left+u.width/2,y:u.top-t.top+u.height/2},d=i.groupStyle,f=n.width*Vt(d.width),m=n.height*Vt(d.height),v={width:f,height:m,left:c.x-f/2,top:c.y-m/2,angle:(i.angle||0)+(n.angle||0)};return i.groupStyle={},{...i,...v}});return[...e.filter(i=>i!==n),...a]}function Ae(e){return e*100+"%"}function Vt(e){return parseFloat(e)/100}function sn(e){return`${e}`.match(/^[0-9.-]+(px|%|rem|em|vh|vw)$/)?e:e+"px"}const rn=["fontSize","lineHeight","borderWidth","borderRadius"],$t=["fontSize","fontWeight","fontFamily","color","lineHeight","fontStyle","textDecoration","justifyContent","alignItems"];function je(e,t=!0){if(!e)return e;const n={},l=Object.keys(e).filter(a=>t?$t.includes(a):!$t.includes(a));for(const a of l)n[a]=rn.includes(a)?sn(e[a]):e[a];return n}function un(e,t){return Object.keys(e).reduce((n,l)=>(t.includes(l)||(n[l]=e[l]),n),{})}const cn={width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},dn=["id","width","height"],pn=["d","stroke"],fn=["id","width","height"],mn=["width","height","fill"],vn=["d","stroke"],hn=["fill"],_n=Y({__name:"GridRect",props:{grid:{type:Number,default:10},gridCount:{type:Number,default:5},showSmall:{type:Boolean,default:!0},borderColor:{type:String},smallGridId:String,gridId:String},setup(e){const t=ie(),n=e,l=F(()=>n.smallGridId||we("smallGrid")),a=F(()=>n.gridId||we("grid")),r=F(()=>n.grid*n.gridCount),i=F(()=>{if(n.borderColor)return{bigGrid:n.borderColor,grid:Pt(n.borderColor).fade(.5).rgb().string()};const c=[["#e4e7ed","#ebeef5"],["#414243","#363637"]],[d,f]=c[t.theme==="light"?0:1];return{bigGrid:d,grid:f}}),u=F(()=>({"--border-color":i.value.bigGrid}));return(c,d)=>(h(),V("div",{class:"grid-rect",style:le(u.value)},[(h(),V("svg",cn,[x("defs",null,[e.showSmall?(h(),V("pattern",{key:0,id:l.value,width:e.grid,height:e.grid,patternUnits:"userSpaceOnUse"},[x("path",{d:`M ${e.grid} 0 L 0 0 0 ${e.grid}`,fill:"none",stroke:i.value.grid,"stroke-width":"0.5"},null,8,pn)],8,dn)):B("",!0),x("pattern",{id:a.value,width:r.value,height:r.value,patternUnits:"userSpaceOnUse"},[e.showSmall?(h(),V("rect",{key:0,width:r.value,height:r.value,fill:`url(#${l.value})`},null,8,mn)):B("",!0),x("path",{d:`M ${r.value} 0 L 0 0 0 ${r.value}`,fill:"none",stroke:i.value.bigGrid,"stroke-width":"1"},null,8,vn)],8,fn)]),x("rect",{width:"100%",height:"100%",fill:`url(#${a.value})`},null,8,hn)]))],4))}}),gn=ne(_n,[["__scopeId","data-v-ce09f61b"]]),yn=["contenteditable"],bn=Y({__name:"TextEditor",props:{editable:{type:Boolean,default:!1},text:{type:String}},setup(e){const t=e,n=A();function l(){if(!n.value)return;const a=document.createRange();a.selectNode(n.value),window.getSelection().removeAllRanges(),window.getSelection().addRange(a)}return ve(()=>[t.editable],()=>{t.editable&&l()}),(a,r)=>(h(),V("div",{ref_key:"textRef",ref:n,class:st(["es-text",{editable:e.editable}]),contenteditable:e.editable},[at(a.$slots,"default",{},()=>[k(Z(e.text),1)],!0)],10,yn))}}),Ft=ne(bn,[["__scopeId","data-v-d48cebe2"]]),wn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M938.666667 553.92V768c0 64.8-52.533333 117.333333-117.333334 117.333333H202.666667c-64.8 0-117.333333-52.533333-117.333334-117.333333V256c0-64.8 52.533333-117.333333 117.333334-117.333333h618.666666c64.8 0 117.333333 52.533333 117.333334 117.333333v297.92z m-64-74.624V256a53.333333 53.333333 0 0 0-53.333334-53.333333H202.666667a53.333333 53.333333 0 0 0-53.333334 53.333333v344.48A290.090667 290.090667 0 0 1 192 597.333333a286.88 286.88 0 0 1 183.296 65.845334C427.029333 528.384 556.906667 437.333333 704 437.333333c65.706667 0 126.997333 16.778667 170.666667 41.962667z m0 82.24c-5.333333-8.32-21.130667-21.653333-43.648-32.917333C796.768 511.488 753.045333 501.333333 704 501.333333c-121.770667 0-229.130667 76.266667-270.432 188.693334-2.730667 7.445333-7.402667 20.32-13.994667 38.581333-7.68 21.301333-34.453333 28.106667-51.370666 13.056-16.437333-14.634667-28.554667-25.066667-36.138667-31.146667A222.890667 222.890667 0 0 0 192 661.333333c-14.464 0-28.725333 1.365333-42.666667 4.053334V768a53.333333 53.333333 0 0 0 53.333334 53.333333h618.666666a53.333333 53.333333 0 0 0 53.333334-53.333333V561.525333zM320 480a96 96 0 1 1 0-192 96 96 0 0 1 0 192z m0-64a32 32 0 1 0 0-64 32 32 0 0 0 0 64z"></path></svg>',xn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M896 896H96a32 32 0 0 1-32-32V224a32 32 0 0 1 64 0v608h768a32 32 0 1 1 0 64z"></path><path fill="currentColor" d="M247.008 640a32 32 0 0 1-20.992-56.192l200.992-174.24a32 32 0 0 1 42.272 0.288l172.128 153.44 229.088-246.304a32 32 0 0 1 46.88 43.616l-250.432 269.216a31.936 31.936 0 0 1-44.704 2.08l-174.56-155.52-179.744 155.84a31.872 31.872 0 0 1-20.928 7.776z"></path></svg>',kn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 928C282.624 928 96 741.376 96 512S282.624 96 512 96s416 186.624 416 416-186.624 416-416 416z m0-768C317.92 160 160 317.92 160 512s157.92 352 352 352 352-157.92 352-352S706.08 160 512 160z"></path></svg>',Cn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M821.816 328.808H203.12c-49.072 0-88.192 33.656-88.192 74.6V701.52c0 41.504 39.792 74.6 88.192 74.6h618.688c49.072 0 88.184-33.656 88.184-74.6V403.408c0.008-40.944-39.784-74.6-88.176-74.6z m-1.96 423.496H203.76c-68.36 0-61.888-59.064-61.888-133.152v-131.68c0-73.096-6.472-133.16 61.888-133.16h616.104c68.328 0 61.88 60.064 61.88 133.16v131.688c0 73.064 6.44 133.144-61.888 133.144z"></path><path fill="currentColor" d="M693.784 460.728H329.816c-40.384 0-36.56 27.696-36.56 61.384v60.72c0 34.144-3.824 61.376 36.56 61.376h363.968c40.384 0 36.576-27.688 36.576-61.376v-60.72c0-33.688 3.808-61.384-36.576-61.384z"></path></svg>',Vn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M853.333333 138.666667H170.666667c-17.066667 0-32 14.933333-32 32v128c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V202.666667h277.333333v618.666666H384c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h256c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32h-96v-618.666666h277.333333V298.666667c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V170.666667c0-17.066667-14.933333-32-32-32z"></path></svg>',$n='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M864 896H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h704a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zM192 832h640V192H192v640z"></path></svg>',Mn=Object.assign({"./svg/图片.svg":wn,"./svg/图表.svg":xn,"./svg/圆形.svg":kn,"./svg/按钮.svg":Cn,"./svg/文本.svg":Vn,"./svg/矩形.svg":$n}),Sn={name:String,color:String,size:[String,Number]},zn=e=>e?Mn[`./svg/${e}.svg`]:"",Un=["innerHTML"],En=Y({__name:"Icon",props:Sn,setup(e){const t=e,n=F(()=>zn(t.name)),l=F(()=>!t.size&&!t.color?{}:{fontSize:typeof t.size=="string"?t.size:`${t.size}px`,"--color":t.color});return(a,r)=>(h(),V("i",{class:"es-icon",style:le(l.value),innerHTML:n.value},null,12,Un))}}),In=ne(En,[["__scopeId","data-v-9993e1f7"]]),Rn={class:"es-layout-aside"},Hn={class:"collapse-content"},qn=["onDragstart"],An={class:"block-text"},Dn={class:"collapse-content"},Tn=["onDragstart"],Ln=Y({__name:"Aside",emits:["dragstart","dragend"],setup(e,{emit:t}){const n=t,l=A(["1","2"]);function a(i,u){let c=50,d=50;u.component!=="es-icon"&&(c=u.width||i.target.offsetWidth,d=u.height||i.target.offsetHeight),n("dragstart",{...u,width:c,height:d})}function r(){n("dragend")}return(i,u)=>{const c=y("el-collapse-item"),d=y("el-collapse");return h(),V("div",Rn,[at(i.$slots,"default",{},()=>[o(d,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=f=>l.value=f)},{default:s(()=>[o(c,{title:"通用",name:"1"},{default:s(()=>[x("div",Hn,[(h(!0),V(T,null,j(M(kt).componentList,f=>(h(),V("div",{class:"es-block",draggable:"true",onDragstart:m=>a(m,f),onDragend:r},[o(In,{name:f.text},null,8,["name"]),x("span",An,Z(f.text),1)],40,qn))),256))])]),_:1}),o(c,{title:"图标",name:"2"},{default:s(()=>[x("div",Dn,[(h(!0),V(T,null,j(M(kt).iconList,f=>(h(),V("div",{class:"es-block",draggable:"true",onDragstart:m=>a(m,f),onDragend:r},[f.component?(h(),D(Ne(f.component),ye({key:0,ref_for:!0},f.props),null,16)):(h(),V(T,{key:1},[k(Z(f.props.icon),1)],64))],40,Tn))),256))])]),_:1})]),_:1},8,["modelValue"])])])}}}),Pn={class:"es-input-number-prefix"},Fn=Y({__name:"InputNumber",props:{prefix:{type:String}},setup(e){return(t,n)=>{const l=y("el-input-number");return h(),V("div",{class:st(["es-input-number",{"has-prefix":e.prefix||t.$slots.prefix}])},[x("div",Pn,[at(t.$slots,"prefix",{},()=>[e.prefix?(h(),V(T,{key:0},[k(Z(e.prefix)+":",1)],64)):B("",!0)],!0)]),o(l,ye(t.$attrs,{"controls-position":"right"}),null,16)],2)}}}),de=ne(Fn,[["__scopeId","data-v-32503cf1"]]),be=Y({__name:"ColorPicker",setup(e){const t=we()+"-picker",n=["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"];return fe(()=>{const l=document.querySelector(`.${t}`);l&&l.addEventListener("click",a=>a.stopPropagation())}),(l,a)=>{const r=y("el-color-picker");return h(),D(r,{"popper-class":t,"show-alpha":"",predefine:n})}}}),Ot=Y({__name:"Background",props:{modelValue:{type:String}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,l=t,a={startColor:"rgba(255, 255, 255, 1)",endColor:"rgba(255, 255, 255, 1)",gradientRotate:90},r=F({get:()=>(n.modelValue||"").includes("gradient")?g("startColor"):n.modelValue,set:$=>{l("update:modelValue",$)}}),i=[{label:"纯色背景",value:1},{label:"渐变背景",value:2}],u=A(i[0].value),c=[{label:"线性渐变",value:"linear"},{label:"径向渐变",value:"radial"}],d=A(c[0].value),f=F({get:()=>g("startColor"),set:$=>{w(v.value,$,m.value)}}),m=F({get:()=>g("endColor"),set:$=>{w(v.value,f.value,$)}}),v=F({get:()=>g("gradientRotate"),set:$=>{w($,f.value,m.value)}});function p(){u.value===1?l("update:modelValue",r.value):w(v.value,f.value,m.value)}function g($){const S=n.modelValue||"rgba(255, 255, 255, 1)";if(!S.includes("gradient"))return $==="startColor"?Pt(S).rgb().string():a[$];let C=/gradient\((\d+deg),\s*(rgba?\([^)]+\)),\s*(rgba?\([^)]+\))\)/;S.includes("radial")&&(C=/(gradient)\(.*(rgba?\([^)]+\)),\s*(rgba?\([^)]+\))\)/);const G=S.match(C),J=a[$];return G?$==="startColor"?G[2]||J:$==="endColor"?G[3]||J:$==="gradientRotate"&&parseInt(G[1])||J:J}function w($,S,_){let C=`linear-gradient(${$}deg, ${S}, ${_})`;d.value==="radial"&&(C=`radial-gradient(${S}, ${_})`),l("update:modelValue",C)}return($,S)=>{const _=y("el-option"),C=y("el-select"),z=y("el-col"),G=y("el-row"),J=y("el-slider");return h(),V(T,null,[o(G,{gutter:10},{default:s(()=>[o(z,{span:12},{default:s(()=>[o(C,{modelValue:u.value,"onUpdate:modelValue":S[0]||(S[0]=N=>u.value=N),onChange:p},{default:s(()=>[(h(),V(T,null,j(i,N=>o(_,ye({ref_for:!0},N),null,16)),64))]),_:1},8,["modelValue"])]),_:1}),o(z,{span:12},{default:s(()=>[u.value===1?(h(),D(be,{key:0,modelValue:r.value,"onUpdate:modelValue":S[1]||(S[1]=N=>r.value=N),"color-format":"rgb"},null,8,["modelValue"])):(h(),D(C,{key:1,modelValue:d.value,"onUpdate:modelValue":S[2]||(S[2]=N=>d.value=N),onChange:S[3]||(S[3]=N=>w(v.value,f.value,m.value))},{default:s(()=>[(h(),V(T,null,j(c,N=>o(_,ye({ref_for:!0},N),null,16)),64))]),_:1},8,["modelValue"]))]),_:1})]),_:1}),u.value===2?(h(),V(T,{key:0},[o(G,{gutter:10},{default:s(()=>[o(z,{span:12},{default:s(()=>[k("起点颜色:")]),_:1}),o(z,{span:12},{default:s(()=>[o(be,{modelValue:f.value,"onUpdate:modelValue":S[4]||(S[4]=N=>f.value=N)},null,8,["modelValue"])]),_:1})]),_:1}),o(G,{gutter:10},{default:s(()=>[o(z,{span:12},{default:s(()=>[k("终点颜色:")]),_:1}),o(z,{span:12},{default:s(()=>[o(be,{modelValue:m.value,"onUpdate:modelValue":S[5]||(S[5]=N=>m.value=N)},null,8,["modelValue"])]),_:1})]),_:1}),d.value==="linear"?(h(),D(G,{key:0,gutter:10},{default:s(()=>[o(z,{span:12},{default:s(()=>[k("渐变角度:")]),_:1}),o(z,{span:12},{default:s(()=>[o(J,{size:"small",modelValue:v.value,"onUpdate:modelValue":S[6]||(S[6]=N=>v.value=N),max:360},null,8,["modelValue"])]),_:1})]),_:1})):B("",!0)],64)):B("",!0)],64)}}}),On={style:{display:"flex","justify-content":"flex-end"}},Bn={style:{display:"flex","justify-content":"flex-end"}},jn={style:{display:"flex","justify-content":"flex-end"}},Nn=Y({__name:"EditorStyle",setup(e){const t=ie(),n=A(100),l=F({get:()=>{const{width:u,height:c}=t.data.container.style;return`${u} x ${c}`},set:u=>{const[c,d]=u.split(" x ");t.data.container.style.width=+c,t.data.container.style.height=+d}}),a=[{label:"PC",options:[{label:"1360 x 760",value:"1360 x 760"},{label:"1280 x 720",value:"1280 x 720"},{label:"800 x 600",value:"800 x 600"}]},{label:"H5",options:[{label:"360 x 780",value:"360 x 780"},{label:"iPhone 6/7/8",value:"375 x 667"},{label:"iPhone 6/7/8 Plus",value:"414 x 736"}]}],r=F({get:()=>t.data.container.style.background||t.data.container.style.backgroundColor,set:u=>{t.data.container.style.background=u}}),i=u=>{t.data.container.scaleRatio=u/100};return(u,c)=>{const d=y("el-col"),f=y("el-option"),m=y("el-option-group"),v=y("el-select"),p=y("el-row"),g=y("el-input"),w=y("el-divider"),$=y("el-switch"),S=y("el-form");return h(),D(S,{model:M(t).data.container,"label-width":"90px","label-position":"left",style:{padding:"0 10px"}},{default:s(()=>[o(p,{gutter:10},{default:s(()=>[o(d,{span:10},{default:s(()=>[k("画布尺寸:")]),_:1}),o(d,{span:14},{default:s(()=>[o(v,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=_=>l.value=_)},{default:s(()=>[(h(),V(T,null,j(a,_=>o(m,{key:_.label,label:_.label},{default:s(()=>[(h(!0),V(T,null,j(_.options,C=>(h(),D(f,{label:C.label,value:C.value},null,8,["label","value"]))),256))]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(p,{gutter:10},{default:s(()=>[o(d,{span:10},{default:s(()=>[k("缩放比例:")]),_:1}),o(d,{span:14},{default:s(()=>[o(g,{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=_=>n.value=_),modelModifiers:{number:!0},onChange:i},{suffix:s(()=>[k("%")]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(p,{gutter:10},{default:s(()=>[o(d,{span:10},{default:s(()=>[k("画布宽度:")]),_:1}),o(d,{span:14},{default:s(()=>[o(de,{modelValue:M(t).data.container.style.width,"onUpdate:modelValue":c[2]||(c[2]=_=>M(t).data.container.style.width=_)},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{gutter:10},{default:s(()=>[o(d,{span:10},{default:s(()=>[k("画布高度:")]),_:1}),o(d,{span:14},{default:s(()=>[o(de,{modelValue:M(t).data.container.style.height,"onUpdate:modelValue":c[3]||(c[3]=_=>M(t).data.container.style.height=_)},null,8,["modelValue"])]),_:1})]),_:1}),o(w),o(Ot,{modelValue:r.value,"onUpdate:modelValue":c[4]||(c[4]=_=>r.value=_)},null,8,["modelValue"]),o(w),o(p,{gutter:10},{default:s(()=>[o(d,{span:10},{default:s(()=>[k("网格吸附:")]),_:1}),o(d,{span:14},{default:s(()=>[x("div",On,[o($,{modelValue:M(t).data.container.snap,"onUpdate:modelValue":c[5]||(c[5]=_=>M(t).data.container.snap=_)},null,8,["modelValue"])])]),_:1})]),_:1}),o(p,{gutter:10},{default:s(()=>[o(d,{span:10},{default:s(()=>[k("画布网格:")]),_:1}),o(d,{span:14},{default:s(()=>[x("div",Bn,[o($,{modelValue:M(t).data.container.snapToGrid,"onUpdate:modelValue":c[6]||(c[6]=_=>M(t).data.container.snapToGrid=_)},null,8,["modelValue"])])]),_:1})]),_:1}),M(t).data.container.snapToGrid?(h(),V(T,{key:0},[o(p,{gutter:10},{default:s(()=>[o(d,{span:10},{default:s(()=>[k("网格大小:")]),_:1}),o(d,{span:14},{default:s(()=>[o(de,{modelValue:M(t).data.container.gridSize,"onUpdate:modelValue":c[7]||(c[7]=_=>M(t).data.container.gridSize=_)},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{gutter:10},{default:s(()=>[o(d,{span:10},{default:s(()=>[k("网格颜色:")]),_:1}),o(d,{span:14},{default:s(()=>[o(be,{modelValue:M(t).data.container.gridColor,"onUpdate:modelValue":c[8]||(c[8]=_=>M(t).data.container.gridColor=_)},null,8,["modelValue"])]),_:1})]),_:1})],64)):B("",!0),o(w),o(p,{gutter:10},{default:s(()=>[o(d,{span:10},{default:s(()=>[k("参考线:")]),_:1}),o(d,{span:14},{default:s(()=>[x("div",jn,[o($,{modelValue:M(t).data.container.markline.show,"onUpdate:modelValue":c[9]||(c[9]=_=>M(t).data.container.markline.show=_)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["model"])}}}),Gn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M928 896l0 32-832 0 0-32z"></path><path fill="currentColor" d="M672 96m0 32l0 640q0 32-32 32l-256 0q-32 0-32-32l0-640q0-32 32-32l256 0q32 0 32 32Z"></path></svg>',Yn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M928 512l0 32-192 0 0-32L928 512z m-640 0l0 32-192 0 0-32 192 0z"></path><path d="M672 128m0 32l0 736q0 32-32 32l-256 0q-32 0-32-32l0-736q0-32 32-32l256 0q32 0 32 32Z"></path></svg>',Jn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M96 128l0-32 832 0 0 32z"></path><path fill="currentColor" d="M352 928m0-32l0-640q0-32 32-32l256 0q32 0 32 32l0 640q0 32-32 32l-256 0q-32 0-32-32Z"></path></svg>',Qn='<svg t="1692778133849" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15222" width="16" height="16"><path d="M123.26 411.37a32 32 0 1 1 45.28-45.23l311.34 311.67L479.71 97a32 32 0 0 1 32-32 32 32 0 0 1 32 32l0.17 580.89 311.59-311.76a32 32 0 0 1 45.27 45.24l-366.2 366.39-0.19 0.18-0.94 0.9-0.52 0.44-0.62 0.53-0.1 0.09-0.62 0.47-0.5 0.4c-0.05 0-0.1 0.08-0.16 0.11-0.21 0.16-0.43 0.31-0.65 0.46l-0.46 0.32-0.2 0.14-0.65 0.41-0.48 0.29a1.64 1.64 0 0 1-0.22 0.14l-0.62 0.35-0.52 0.29-0.23 0.13-0.59 0.29-0.6 0.3-0.18 0.09c-0.17 0.09-0.35 0.16-0.53 0.24l-0.71 0.3-0.19 0.08-0.48 0.18c-0.27 0.1-0.54 0.21-0.81 0.3H522.6l-0.42 0.13-0.91 0.3h-0.14l-0.39 0.11-1 0.26h-0.12l-0.38 0.08c-0.34 0.08-0.68 0.16-1 0.22h-0.06l-0.42 0.07-1 0.17h-0.09c-0.17 0-0.34 0-0.51 0.06l-0.94 0.12h-0.95l-0.75 0.05h-3.12l-0.75-0.05H508.84l-0.94-0.12c-0.17 0-0.34 0-0.51-0.06h-0.09l-1-0.17-0.42-0.07h-0.1c-0.34-0.06-0.68-0.14-1-0.22l-0.4-0.08h-0.08l-1-0.26-0.4-0.11h-0.14l-0.89-0.29-0.45-0.14-0.14-0.05c-0.26-0.09-0.53-0.19-0.79-0.3l-0.49-0.18h-0.2l-0.69-0.3-0.55-0.24-0.18-0.09-0.59-0.3-0.6-0.29-0.17-0.09h-0.05l-0.52-0.28-0.64-0.36-0.14-0.09h-0.07l-0.47-0.3c-0.22-0.14-0.45-0.27-0.67-0.42h-0.07l-0.11-0.08-0.47-0.33-0.81-0.49-0.09-0.08-0.53-0.42-0.61-0.47-0.08-0.07c-0.24-0.19-0.47-0.4-0.7-0.6l-0.46-0.4c-0.41-0.37-0.81-0.74-1.19-1.13zM896.68 895H127.32a32 32 0 1 0 0 64h769.36a32 32 0 0 0 0-64z" fill="currentColor" p-id="15223"></path></svg>',Wn='<svg t="1692774315617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8893" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM224 352h576v96H224zM224 800h576v96H224z" p-id="8894"></path></svg>',Xn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M800 448H704V320c0-106.4-85.6-192-192-192S320 213.6 320 320v128H224c-17.6 0-32 14.4-32 32v384c0 17.6 14.4 32 32 32h576c17.6 0 32-14.4 32-32V480c0-17.6-14.4-32-32-32zM512 736c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m128-288H384V320c0-70.4 57.6-128 128-128s128 57.6 128 128v128z"></path></svg>',Kn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M496 96h32v192h-32V96z m0 640h32v192h-32v-192z"></path><path d="M112 352m32 0l736 0q32 0 32 32l0 256q0 32-32 32l-736 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',Zn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M96 96h32v832H96z"></path><path d="M224 352m32 0l640 0q32 0 32 32l0 256q0 32-32 32l-640 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',eo='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M896 96h32v832h-32z"></path><path d="M96 352m32 0l640 0q32 0 32 32l0 256q0 32-32 32l-640 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',to='<svg t="1692774266304" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6910" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM96 352h576v96H96zM96 800h576v96H96z" p-id="6911"></path></svg>',lo='<svg t="1692778640543" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7435" width="16" height="16"><path fill="currentColor" d="M143.998942-0.011289h64.007055V1024h-64.007055zM815.982714 224.002117h64.007056v575.984478h-64.007056zM591.991886-0.011289h64.007056V1024h-64.007056zM368.001058 224.002117h63.995767v575.984478h-63.995767z" p-id="7436"></path></svg>',no='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M147.4 187.1 283.7 323.4 322.7 284.3 324.6 282.5 190.4 148.2 329.8 148.2 329.8 90.3 89.5 90.3 89.5 329 147.4 329Z"></path><path fill="currentColor" d="M322.5 739.5 283.4 700.4 281.6 698.5 147.4 832.7 147.4 693.4 89.5 693.4 89.5 933.7 328.1 933.7 328.1 875.8 186.2 875.8Z" p-id="9891"></path><path fill="currentColor" d="M694.2 90.3 694.2 148.2 833.6 148.2 701.2 280.6 699.4 282.5 738.5 321.6 740.3 323.3 876.6 187.1 876.6 329 934.5 329 934.5 90.3Z"></path><path fill="currentColor" d="M876.6 832.8 742.3 698.6 703.2 737.7 701.5 739.5 837.7 875.8 695.8 875.8 695.8 933.7 934.5 933.7 934.5 693.4 876.6 693.4Z"></path><path fill="currentColor" d="M512 291.1c-121.8 0-220.9 99.1-220.9 220.8S390.2 732.8 512 732.8 732.9 633.8 732.9 512 633.8 291.1 512 291.1zM675 512c0 89.9-73.1 163-163 163s-163-73.1-163-163c0-89.9 73.1-163 163-163S675 422.1 675 512z"></path></svg>',oo='<svg t="1692774301684" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7896" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM352 352h576v96H352zM352 800h576v96H352z" p-id="7897"></path></svg>',ao='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M929 849a30 30 0 0 1-30-30v-83.137a447.514 447.514 0 0 1-70.921 92.209C722.935 933.225 578.442 975.008 442 953.482a444.917 444.917 0 0 1-241.139-120.591 30 30 0 1 1 37.258-47.01l0.231-0.231A385.175 385.175 0 0 0 442 892.625v-0.006c120.855 22.123 250.206-13.519 343.656-106.975a386.646 386.646 0 0 0 70.6-96.653h-87.247a30 30 0 0 1 0-60H929a30 30 0 0 1 30 30V819a30 30 0 0 1-30 30zM632 342a50 50 0 0 1 50 50v240a50 50 0 0 1-50 50H392a50 50 0 0 1-50-50V392a50 50 0 0 1 50-50h240zM402 607a15 15 0 0 0 15 15h190a15 15 0 0 0 15-15V417a15 15 0 0 0-15-15H417a15 15 0 0 0-15 15v190z m403.005-362.025a29.87 29.87 0 0 1-19.117-6.882l-0.232 0.231A386.5 386.5 0 0 0 689.478 168h-0.011c-145.646-75.182-329.021-51.747-451.117 70.35a386.615 386.615 0 0 0-70.6 96.65H255a30 30 0 0 1 0 60H95a30 30 0 0 1-30-30V205a30 30 0 0 1 60 0v83.129a447.534 447.534 0 0 1 70.923-92.206C317.981 73.866 493.048 37.2 647 85.836v-0.045a444.883 444.883 0 0 1 176.143 105.291 30 30 0 0 1-18.138 53.893z"></path></svg>',so='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M742.4 384a51.2 51.2 0 0 1 51.2 51.2v460.8a51.2 51.2 0 0 1-51.2 51.2H153.6a51.2 51.2 0 0 1-51.2-51.2V435.2a51.2 51.2 0 0 1 51.2-51.2z m-25.6 76.8H179.2v409.6h537.6V460.8zM514.7648 71.68l54.3232 54.2976-36.5568 36.5568A473.856 473.856 0 0 1 958.208 477.3376l-72.3968 25.6256A397.056 397.056 0 0 0 538.0096 239.744l31.0784 31.0528-54.3232 54.2976-126.72-126.72 126.72-126.6944z"></path></svg>',ro='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M870.4 384a51.2 51.2 0 0 1 51.2 51.2v460.8a51.2 51.2 0 0 1-51.2 51.2H281.6a51.2 51.2 0 0 1-51.2-51.2V435.2a51.2 51.2 0 0 1 51.2-51.2h588.8z m-25.6 76.8H307.2v409.6h537.6V460.8zM491.1104 53.5808l90.496 90.496L635.904 198.4 581.632 252.672l-90.5216 90.5216-54.272-54.3232 53.7856-53.8368A397.056 397.056 0 0 0 135.8336 502.272l-72.6016-25.0112A473.856 473.856 0 0 1 487.2448 158.3104l-50.432-50.432 54.2976-54.2976z"></path></svg>',io='<svg t="1692777879594" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14228" width="16" height="16"><path d="M557.654996 981.669904c-6.499999 59.041994-88.986991 53.776995-92.179991 0-0.083-40.896996-0.083-641.390937-0.083-641.390937l-283.839972 273.963973c-44.472996 38.308996-97.43499-22.922998-64.344994-63.215994 125.709988-121.895988 351.289966-340.004967 356.507965-345.049966 20.810998-22.608998 53.572995-23.779998 75.721993 0 41.406996 40.037996 348.700966 336.328967 358.028965 346.989966 31.166997 38.741996-19.223998 96.073991-62.242994 63.773994C834.109969 607.310941 557.739996 340.267967 557.739996 340.267967M116.396039 3.332l786.487923 0 0 89.285991L116.396039 92.617991 116.396039 3.332z" fill="currentColor" p-id="14229"></path></svg>',uo=Object.assign({"./svg/align-bottom.svg":Gn,"./svg/align-center.svg":Yn,"./svg/align-top.svg":Jn,"./svg/bottom.svg":Qn,"./svg/center.svg":Wn,"./svg/disabled.svg":Xn,"./svg/justify-center.svg":Kn,"./svg/justify-left.svg":Zn,"./svg/justify-right.svg":eo,"./svg/left.svg":to,"./svg/middle.svg":lo,"./svg/resizable.svg":no,"./svg/right.svg":oo,"./svg/rotatable.svg":ao,"./svg/rotate-left.svg":so,"./svg/rotate-right.svg":ro,"./svg/top.svg":io}),co={name:String,color:String,size:[String,Number]},po=e=>e?uo[`./svg/${e}.svg`]:"",fo=["innerHTML"],mo=Y({__name:"SvgIcon",props:co,setup(e){const t=e,n=F(()=>po(t.name)),l=F(()=>!t.size&&!t.color?{}:{fontSize:typeof t.size=="string"?t.size:`${t.size}px`,"--color":t.color});return(a,r)=>(h(),V("i",{class:"es-icon",style:le(l.value),innerHTML:n.value},null,12,fo))}}),Me=ne(mo,[["__scopeId","data-v-ec29d57e"]]),vo=Y({__name:"TextStyle",setup(e){const t=ie(),n=[{label:"正常",value:"normal"},{label:"标题 1",value:"2em"},{label:"标题 2",value:"1.5em"},{label:"标题 3",value:"1.17em"},{label:"标题 4",value:"1em"},{label:"标题 5",value:"0.9em"},{label:"标题 6",value:"0.8em"}],l=A(""),a=[{label:"加粗",icon:"B",key:"fontWeight",value:"bold"},{label:"斜体",icon:"I",key:"fontStyle",value:"italic"},{label:"下划线",icon:"U",key:"textDecoration",value:"underline"},{label:"中划线",icon:"S",key:"textDecoration",value:"line-through"},{label:"左对齐",icon:"left",key:"justifyContent",value:"flex-start"},{label:"水平居中",icon:"center",key:"justifyContent",value:"center"},{label:"右对齐",icon:"right",key:"justifyContent",value:"flex-end"},{label:"上对齐",icon:"top",key:"alignItems",value:"flex-start"},{label:"垂直居中",icon:"middle",key:"alignItems",value:"center"},{label:"下对齐",icon:"bottom",key:"alignItems",value:"flex-end"}],r=F(()=>[...a].map(p=>({...p,selected:v(p.key)===p.value}))),i=F(()=>[r.value.slice(0,4),r.value.slice(4,7),r.value.slice(7,10)]),u=[{label:"Helvetica"},{label:"PingFang SC"},{label:"Hiragino Sans GB"},{label:"Microsoft YaHei"},{label:"Times New Roman"},{label:"Verdana"},{label:"Courier New"},{label:"Georgia"},{label:"Lucida Sans"},{label:"Tahoma"}];function c(p){p.selected=!p.selected,m(p.key,p.selected?p.value:void 0)}function d(p){const g=p==="normal";t.current.style.fontSize=g?void 0:p,t.current.style.fontWeight=g?"normal":"bold"}const f=F({get:()=>t.current.style||{},set:p=>{t.current.style=t.current.style||{},Object.keys(p).forEach(g=>{m(g,p[g])})}});function m(p,g){t.current.style[p]=g}function v(p){return t.current.style[p]}return(p,g)=>{const w=y("el-button"),$=y("el-tooltip"),S=y("el-button-group"),_=y("el-row"),C=y("el-divider"),z=y("el-col"),G=y("el-option"),J=y("el-select"),N=y("el-input");return h(),V("div",null,[(h(!0),V(T,null,j(i.value,(q,E)=>(h(),D(_,null,{default:s(()=>[o(S,{style:{display:"inline-flex"}},{default:s(()=>[(h(!0),V(T,null,j(q,L=>(h(),D($,{placement:"top","show-after":300,content:L.label},{default:s(()=>[o(w,{type:L.selected?"primary":"",style:le([{flex:"1"},E===0?{[L.key]:L.value}:{}]),onClick:W=>c(L)},{default:s(()=>[E===0?(h(),V(T,{key:0},[k(Z(L.icon),1)],64)):(h(),D(Me,{key:1,name:L.icon,size:20},null,8,["name"]))]),_:2},1032,["type","style","onClick"])]),_:2},1032,["content"]))),256))]),_:2},1024)]),_:2},1024))),256)),o(C),o(_,{gutter:10},{default:s(()=>[o(z,{span:10},{default:s(()=>[k("字体颜色:")]),_:1}),o(z,{span:14},{default:s(()=>[o(be,{modelValue:f.value.color,"onUpdate:modelValue":g[0]||(g[0]=q=>f.value.color=q)},null,8,["modelValue"])]),_:1})]),_:1}),o(_,{gutter:10},{default:s(()=>[o(z,{span:10},{default:s(()=>[k("标题:")]),_:1}),o(z,{span:14},{default:s(()=>[o(J,{modelValue:l.value,"onUpdate:modelValue":g[1]||(g[1]=q=>l.value=q),placeholder:"标题",onChange:d},{default:s(()=>[(h(),V(T,null,j(n,q=>o(G,{label:q.label,value:q.value},{default:s(()=>[x("span",{style:le({fontSize:q.value,fontWeight:"bold"})},Z(q.label),5)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(_,{gutter:10},{default:s(()=>[o(z,{span:10},{default:s(()=>[k("字体:")]),_:1}),o(z,{span:14},{default:s(()=>[o(J,{modelValue:f.value.fontFamily,"onUpdate:modelValue":g[2]||(g[2]=q=>f.value.fontFamily=q),placeholder:"字体"},{default:s(()=>[(h(),V(T,null,j(u,q=>o(G,{label:q.label,value:q.label},{default:s(()=>[x("span",{style:le({fontFamily:q.label})},Z(q.label),5)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(_,{gutter:10},{default:s(()=>[o(z,{span:10},{default:s(()=>[k("字体大小:")]),_:1}),o(z,{span:14},{default:s(()=>[o(N,{modelValue:f.value.fontSize,"onUpdate:modelValue":g[3]||(g[3]=q=>f.value.fontSize=q)},null,8,["modelValue"])]),_:1})]),_:1}),o(_,{gutter:10},{default:s(()=>[o(z,{span:10},{default:s(()=>[k("行高:")]),_:1}),o(z,{span:14},{default:s(()=>[o(de,{modelValue:f.value.lineHeight,"onUpdate:modelValue":g[4]||(g[4]=q=>f.value.lineHeight=q)},null,8,["modelValue"])]),_:1})]),_:1}),o(_,{gutter:10},{default:s(()=>[o(z,{span:10},{default:s(()=>[k("文本:")]),_:1}),o(z,{span:14},{default:s(()=>[o(N,{type:"textarea",modelValue:M(t).current.text,"onUpdate:modelValue":g[5]||(g[5]=q=>M(t).current.text=q)},null,8,["modelValue"])]),_:1})]),_:1})])}}}),ho=ne(vo,[["__scopeId","data-v-bd847629"]]),_o={key:0},go=Y({__name:"Border",setup(e){const t=ie(),n=[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"},{label:"点线",value:"dotted"}],l=F({get:()=>(t.current.style.borderStyle||(t.current.style.borderStyle="solid"),t.current.style.borderStyle||"solid"),set:a=>{t.current.style.borderStyle=a}});return(a,r)=>{const i=y("el-col"),u=y("el-option"),c=y("el-select"),d=y("el-row");return M(t).current.style?(h(),V("div",_o,[o(d,{gutter:10},{default:s(()=>[o(i,{span:10},{default:s(()=>[k("边框风格:")]),_:1}),o(i,{span:14},{default:s(()=>[o(c,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=f=>l.value=f)},{default:s(()=>[(h(),V(T,null,j(n,f=>o(u,{key:f.value,label:f.label,value:f.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(d,{gutter:10},{default:s(()=>[o(i,{span:10},{default:s(()=>[k("边框颜色:")]),_:1}),o(i,{span:14},{default:s(()=>[o(be,{modelValue:M(t).current.style.borderColor,"onUpdate:modelValue":r[1]||(r[1]=f=>M(t).current.style.borderColor=f)},null,8,["modelValue"])]),_:1})]),_:1}),o(d,{gutter:10},{default:s(()=>[o(i,{span:10},{default:s(()=>[k("边框宽度:")]),_:1}),o(i,{span:14},{default:s(()=>[o(de,{modelValue:M(t).current.style.borderWidth,"onUpdate:modelValue":r[2]||(r[2]=f=>M(t).current.style.borderWidth=f)},null,8,["modelValue"])]),_:1})]),_:1}),o(d,{gutter:10},{default:s(()=>[o(i,{span:10},{default:s(()=>[k("圆角半径:")]),_:1}),o(i,{span:14},{default:s(()=>[o(de,{modelValue:M(t).current.style.borderRadius,"onUpdate:modelValue":r[3]||(r[3]=f=>M(t).current.style.borderRadius=f)},null,8,["modelValue"])]),_:1})]),_:1})])):B("",!0)}}}),yo={key:0},bo={style:{display:"flex","justify-content":"flex-end"}},wo=Y({__name:"Shadow",setup(e){const t=ie(),n=A(!1),l=A(3),a=A(3),r=A(1),i=A("#808080"),u=F(()=>`${l.value}px ${a.value}px ${r.value}px ${i.value}`);function c(){t.current.style.boxShadow=u.value}return ve(n,d=>{d?t.current.style.boxShadow=u.value:t.current.style.boxShadow=void 0}),(d,f)=>{const m=y("el-col"),v=y("el-switch"),p=y("el-row"),g=y("el-slider");return M(t).current.style?(h(),V("div",yo,[o(p,{gutter:10},{default:s(()=>[o(m,{span:10},{default:s(()=>[k("开启阴影:")]),_:1}),o(m,{span:14},{default:s(()=>[x("div",bo,[o(v,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=w=>n.value=w)},null,8,["modelValue"])])]),_:1})]),_:1}),n.value?(h(),V(T,{key:0},[o(p,{gutter:10},{default:s(()=>[o(m,{span:10},{default:s(()=>[k("水平阴影:")]),_:1}),o(m,{span:14},{default:s(()=>[o(g,{modelValue:l.value,"onUpdate:modelValue":f[1]||(f[1]=w=>l.value=w),step:1,min:-10,max:10,size:"small",onChange:c},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{gutter:10},{default:s(()=>[o(m,{span:10},{default:s(()=>[k("垂直阴影:")]),_:1}),o(m,{span:14},{default:s(()=>[o(g,{modelValue:a.value,"onUpdate:modelValue":f[2]||(f[2]=w=>a.value=w),step:1,min:-10,max:10,size:"small",onChange:c},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{gutter:10},{default:s(()=>[o(m,{span:10},{default:s(()=>[k("模糊距离:")]),_:1}),o(m,{span:14},{default:s(()=>[o(g,{modelValue:r.value,"onUpdate:modelValue":f[3]||(f[3]=w=>r.value=w),step:1,min:1,max:20,size:"small",onChange:c},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{gutter:10},{default:s(()=>[o(m,{span:10},{default:s(()=>[k("阴影颜色:")]),_:1}),o(m,{span:14},{default:s(()=>[o(be,{modelValue:i.value,"onUpdate:modelValue":f[4]||(f[4]=w=>i.value=w),onChange:c},null,8,["modelValue"])]),_:1})]),_:1})],64)):B("",!0)])):B("",!0)}}}),xo={class:"color-list"},ko=["onClick"],Co=Y({__name:"ElementStyle",setup(e){const t=ie(),n=A([{backgroundColor:"#ff4500"},{backgroundColor:"#ff8c00"},{backgroundColor:"#ffd700"},{backgroundColor:"#90ee90"},{backgroundColor:"#00ced1"},{backgroundColor:"#1e90ff"},{backgroundColor:"#c71585"},{backgroundColor:"rgba(255, 69, 0, 0.68)"}]),l=F({get:()=>t.current.style.background||t.current.style.backgroundColor,set:i=>{t.current.style.background=i}}),a=i=>{t.current.selected&&(t.current.style={...t.current.style,...i})};function r(i,u){t.current.style[i]=u}return(i,u)=>{const c=y("el-divider"),d=y("el-col"),f=y("el-slider"),m=y("el-row"),v=y("el-form");return M(t).current&&M(t).current.selected?(h(),D(v,{key:0,model:M(t).current,"label-width":"80px","label-position":"left"},{default:s(()=>[x("div",xo,[(h(!0),V(T,null,j(n.value,p=>(h(),V("div",{class:"color-item",style:le(p),onClick:g=>a(p)},null,12,ko))),256))]),o(c),M(t).current.style?(h(),V(T,{key:0},[o(Ot,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=p=>l.value=p)},null,8,["modelValue"]),o(c),o(m,{gutter:10},{default:s(()=>[o(d,{span:10},{default:s(()=>[k("透明度:")]),_:1}),o(d,{span:14},{default:s(()=>[o(f,{modelValue:1,step:.01,min:0,max:1,size:"small",onInput:u[1]||(u[1]=p=>r("opacity",p))})]),_:1})]),_:1}),o(c),o(ho),o(c),o(go),o(c),o(wo)],64)):B("",!0)]),_:1},8,["model"])):B("",!0)}}}),Vo=ne(Co,[["__scopeId","data-v-f5491b19"]]),$o=Y({__name:"Position",setup(e){const t=ie(),n=[{label:"左对齐",value:"justify-left"},{label:"水平居中",value:"justify-center"},{label:"右对齐",value:"justify-right"}],l=[{label:"上对齐",value:"align-top"},{label:"垂直居中",value:"align-center"},{label:"下对齐",value:"align-bottom"}],a=A(["resizable","rotatable"]),r=[{label:"禁用",value:"disabled"},{label:"可缩放",value:"resizable"},{label:"可旋转",value:"rotatable"}];function i(d){t.current.angle=(t.current.angle||0)+d}function u(d){r.map(m=>m.value).forEach(m=>{d.includes(m)?t.current[m]=!0:t.current[m]=!1})}function c(d){const{width:f,height:m}=t.data.container.style;switch(d){case"justify-left":t.current.left=0;break;case"justify-center":t.current.left=f/2-t.current.width/2;break;case"justify-right":t.current.left=f-t.current.width;break;case"align-top":t.current.top=0;break;case"align-center":t.current.top=m/2-t.current.height/2;break;case"align-bottom":t.current.top=m-t.current.height;break}}return(d,f)=>{const m=y("el-col"),v=y("el-row"),p=y("el-divider"),g=y("el-button"),w=y("el-tooltip"),$=y("el-button-group"),S=y("el-checkbox-button"),_=y("el-checkbox-group"),C=y("el-form");return M(t).current&&M(t).current.selected?(h(),D(C,{key:0,model:M(t).current,"label-width":"80px","label-position":"left"},{default:s(()=>[o(v,{gutter:10},{default:s(()=>[o(m,{span:12},{default:s(()=>[o(de,{modelValue:M(t).current.left,"onUpdate:modelValue":f[0]||(f[0]=z=>M(t).current.left=z),prefix:"X"},null,8,["modelValue"])]),_:1}),o(m,{span:12},{default:s(()=>[o(de,{modelValue:M(t).current.top,"onUpdate:modelValue":f[1]||(f[1]=z=>M(t).current.top=z),prefix:"Y"},null,8,["modelValue"])]),_:1})]),_:1}),o(v,{gutter:10},{default:s(()=>[o(m,{span:12},{default:s(()=>[o(de,{modelValue:M(t).current.width,"onUpdate:modelValue":f[2]||(f[2]=z=>M(t).current.width=z),prefix:"W"},null,8,["modelValue"])]),_:1}),o(m,{span:12},{default:s(()=>[o(de,{modelValue:M(t).current.height,"onUpdate:modelValue":f[3]||(f[3]=z=>M(t).current.height=z),prefix:"H"},null,8,["modelValue"])]),_:1})]),_:1}),o(v,{gutter:10},{default:s(()=>[o(m,{span:12},{default:s(()=>[o(de,{modelValue:M(t).current.angle,"onUpdate:modelValue":f[4]||(f[4]=z=>M(t).current.angle=z),prefix:"旋转"},null,8,["modelValue"])]),_:1}),o(m,{span:12,class:"es-col"},{default:s(()=>[x("div",{class:"text-btn",onClick:f[5]||(f[5]=z=>i(-45))},[o(Me,{name:"rotate-left"}),k(" -45° ")]),x("div",{class:"text-btn",onClick:f[6]||(f[6]=z=>i(45))},[o(Me,{name:"rotate-right"}),k(" +45° ")])]),_:1})]),_:1}),o(p),o(v,null,{default:s(()=>[o($,{style:{display:"inline-flex"}},{default:s(()=>[(h(),V(T,null,j(n,z=>o(w,{placement:"top","show-after":300,content:z.label},{default:s(()=>[o(g,{style:{flex:"1"},onClick:G=>c(z.value)},{default:s(()=>[o(Me,{name:z.value,size:20},null,8,["name"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])),64))]),_:1})]),_:1}),o(v,null,{default:s(()=>[o($,{style:{display:"inline-flex"}},{default:s(()=>[(h(),V(T,null,j(l,z=>o(w,{placement:"top","show-after":300,content:z.label},{default:s(()=>[o(g,{style:{flex:"1"},onClick:G=>c(z.value)},{default:s(()=>[o(Me,{name:z.value,size:20},null,8,["name"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])),64))]),_:1})]),_:1}),o(p),o(v,null,{default:s(()=>[o(_,{modelValue:a.value,"onUpdate:modelValue":f[7]||(f[7]=z=>a.value=z),size:"small",onChange:u},{default:s(()=>[(h(),V(T,null,j(r,z=>o(w,{placement:"top","show-after":300,content:z.label},{default:s(()=>[o(S,{style:{flex:"1"},label:z.value,value:z.value},{default:s(()=>[o(Me,{name:z.value,size:20},null,8,["name"])]),_:2},1032,["label","value"])]),_:2},1032,["content"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])):B("",!0)}}}),Mo=ne($o,[["__scopeId","data-v-1ae33cb6"]]),So={class:"es-layout-info"},zo={class:"es-info-tabs"},Uo=["onClick"],Eo=Y({__name:"Info",setup(e){const t=ie(),n={样式:Vo,位置:Mo,画布属性:Nn},l=["样式","位置"],a=["画布属性"],r=A("画布属性"),i=F(()=>t.current&&t.current.selected?l:a),u=F(()=>n[r.value]);return ve(()=>t.current.selected,()=>{r.value=t.current.selected?l[0]:a[0]},{immediate:!0}),(c,d)=>(h(),V("div",So,[x("div",zo,[(h(!0),V(T,null,j(i.value,f=>(h(),V("div",{class:st(["es-info-tab",{active:f===r.value}]),onClick:m=>r.value=f},Z(f),11,Uo))),256))]),x("div",{class:"es-info-style",onClick:d[0]||(d[0]=me(()=>{},["stop"]))},[(h(),D(Ne(u.value)))])]))}});function Io(e,t){const n=A();function l(i){let u=!1;e.value.elements.forEach(c=>{c.selected&&(c.selected=!1,u=!0)}),u||t.value.onMouseDown(i)}function a(i){for(let u=0;u<e.value.elements.length;u++){const c=e.value.elements[u],d=i.left<c.left&&i.left+i.width>c.left+c.width,f=i.top<c.top&&i.top+i.height>c.top+c.height;d&&f?c.selected=!0:c.selected=!1}}function r(){n.value=e.value.elements.some(i=>i.selected),n.value&&setTimeout(()=>{document.addEventListener("click",()=>{n.value=!1},{once:!0})})}return{areaSelected:n,onEditorMouseDown:l,onAreaMove:a,onAreaUp:r}}function Bt(e){const t={current:-1,queue:[],commands:{},commandArray:[],destoryArray:[]},n=a=>{t.commandArray.push(a),t.commands[a.name]=(...r)=>{const{redo:i,undo:u}=a.execute(...r);if(i&&i(),a.pushQueue){let{queue:c}=t;c.length>0&&(c=c.slice(0,t.current+1),t.queue=c),t.queue.push({redo:i,undo:u}),t.current+=1}}};n({name:"redo",keyboard:"ctrl+y",execute(){return{redo(){let a=t.queue[t.current+1];a&&(a.redo&&a.redo(),t.current++)}}}}),n({name:"undo",keyboard:"ctrl+z",execute(){return{redo(){if(t.current===-1)return;let a=t.queue[t.current];a&&(a.undo&&a.undo(),t.current--)}}}}),n({name:"drag",pushQueue:!0,init(){const a=()=>{this.before=Se(e.data.elements)},r=()=>t.commands.drag();return _e.on("dragstart",a),_e.on("dragend",r),()=>{_e.off("dragstart",a),_e.off("dragend",r)}},execute(){const a=this.before,r=e.data.elements;return{redo(){e.data={...e.data,elements:r}},undo(){e.data={...e.data,elements:a}}}}}),n({name:"updateContainer",pushQueue:!0,execute(a){const r={before:e.data,after:a};return{redo(){e.data=r.after},undo(){e.data=r.before}}}}),t.commandArray.forEach(a=>{a.init&&t.destoryArray.push(a.init())});const l=()=>{const a=r=>{const{ctrlKey:i,key:u}=r,c=[];i&&c.push("ctrl"),c.push(u);const d=c.join("+");t.commandArray.forEach(({name:f,keyboard:m})=>{m&&m===d&&(t.commands[f](),r.preventDefault())})};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}};return fe(()=>{t.destoryArray.push(l())}),fl(()=>{t.destoryArray.forEach(a=>a&&a())}),t}const Ro=x("div",{id:"esEditor"},null,-1),Ho=Y({__name:"Dialog",props:{option:{type:Object,default:()=>({})}},setup(e,{expose:t}){const l=Ue({option:e.option,visible:!1});let a;const r=d=>{l.option=d,l.visible=!0,zt(()=>{a=vl.edit("esEditor",{maxLines:34,minLines:34,fontSize:14,theme:"ace/theme/one_dark",mode:"ace/mode/json5",tabSize:4,readOnly:!1}),a.setValue(JSON.stringify(JSON.parse(l.option.content),null,4))})},i=()=>{l.visible=!1},u=()=>{const{confirm:d}=l.option;d&&d(a&&a.getValue())},c=()=>{if(!a)return;const d=document.createElement("a"),f=Ut().format("YYYY-MM-DD-HH-mm-ss")+".json";d.download=f;const m=new Blob([a.getValue()]),v=URL.createObjectURL(m);d.href=v,d.click(),URL.revokeObjectURL(v)};return t({open:r,close:i}),(d,f)=>(h(),D(M(ml),ye({modelValue:l.visible,"onUpdate:modelValue":f[0]||(f[0]=m=>l.visible=m)},l.option,{draggable:""}),{footer:s(()=>[o(M(Qe),{onClick:i},{default:s(()=>[k("取消")]),_:1}),o(M(Qe),{type:"primary",onClick:u},{default:s(()=>[k("保存编辑")]),_:1}),o(M(Qe),{type:"primary",onClick:c},{default:s(()=>[k("导出JSON")]),_:1})]),default:s(()=>[Ro]),_:1},16,["modelValue"]))}});let De=null;function qo(e){if(!De){const{container:n}=ct(),l=document.createElement("div");De=o(Ho,{option:e}),rt(De,l),n.appendChild(l.firstElementChild)}const{open:t}=De.component.exposed;t(e)}const Ao={key:0},Do=["onClick"],To=Y({__name:"Menu",props:{option:{type:Object,default:()=>({})}},setup(e,{expose:t}){const n=e,l=A(),a=A(),r=Ue({option:n.option,visible:!1,top:0,left:0}),i=F(()=>({left:r.left+"px",top:r.top+"px"})),u=F(()=>({left:r.option.clientX+"px",top:r.option.clientY+"px"})),c=[gl(),yl(),bl(10)],d=v=>{r.option=v,r.visible=!0,_l(l.value,a.value,{middleware:c}).then(p=>{r.left=p.x,r.top=p.y})},f=()=>{r.visible=!1},m=v=>{r.option.onClick&&r.option.onClick(v),f()};return fe(()=>{document.addEventListener("mousedown",f)}),hl(()=>{document.removeEventListener("mousedown",f)}),t({open:d,close:f}),(v,p)=>(h(),V("div",null,[x("div",{ref_key:"triggerRef",ref:l,class:"es-trigger",style:le(u.value)},null,4),nt(x("div",{ref_key:"menuRef",ref:a,class:"es-contentmenu",style:le(i.value),onClick:p[0]||(p[0]=me(()=>{},["stop"])),onMousedown:p[1]||(p[1]=me(()=>{},["stop"]))},[r.option.items?(h(),V("ul",Ao,[(h(!0),V(T,null,j(r.option.items,g=>(h(),V("li",{onClick:w=>m(g)},Z(g.label),9,Do))),256))])):B("",!0)],36),[[ot,r.visible]])]))}}),Lo=ne(To,[["__scopeId","data-v-cab92a19"]]);let Te=null;function Mt(e){if(!Te){const{container:n}=ct(),l=document.createElement("div");Te=o(Lo,{option:e}),rt(Te,l),n.appendChild(l.firstElementChild)}const{open:t}=Te.component.exposed;t(e)}const Po=["accept"],Fo=Y({__name:"Upload",props:{option:{type:Object,required:!0}},setup(e,{expose:t}){const n={json:".json",image:"image/*"},l=e,a={option:l.option},r=A(),i=d=>{a.option=d;let f=n[d.resultType];d.accept&&(f=d.accept),r.value.setAttribute("accept",f),r.value.click()},u=async d=>{if(!a.option||!a.option.onChange)return;const{resultType:f,onChange:m}=a.option;let v=d;const p=d.target.files[0];["json","text"].includes(f)?v=await c(p):f==="image"&&(v=await c(p,f)),m(v),r.value.value=""},c=(d,f="text")=>new Promise(m=>{const v=new FileReader;v.addEventListener("load",p=>{const g=p.target.result||"{}";m(g)}),f==="text"?v.readAsText(d):v.readAsDataURL(d)});return fe(()=>{i(l.option)}),t({open:i}),(d,f)=>{var m;return h(),V("input",{ref_key:"inpurRef",ref:r,type:"file",accept:(m=a.option)==null?void 0:m.accept,class:"es-upload",onChange:u},null,40,Po)}}}),Oo=ne(Fo,[["__scopeId","data-v-b9ed9b62"]]);let Le=null;function St(e){if(Le){const{open:t}=Le.component.exposed;t(e)}else{const{container:t}=ct(),n=document.createElement("div");Le=o(Oo,{option:e}),rt(Le,n),t.appendChild(n.firstElementChild)}}const Bo={"ctrl+x":"cut","ctrl+c":"copy","ctrl+v":"paste",Delete:"remove","ctrl+a":"selectAll","ctrl+d":"duplicate"};function jo(e,t){const n=F(()=>{var v;return((v=t.value)==null?void 0:v.getBoundingClientRect())||{}});let l=null,a=null;const r=v=>v?e.value.elements.findIndex(p=>p.id===v.id):-1,i=(v,p)=>{[e.value.elements[v],e.value.elements[p]]=[e.value.elements[p],e.value.elements[v]]},u=v=>{if(!v)return;const p=Se(v);p.id=we(),e.value.elements.push(p)},c={remove(){const v=r(l);v>-1&&e.value.elements.splice(v,1)},cut(v){a=v,c.remove(v)},copy(v){a=v},duplicate(v){const p=Se(v);p.left+=10,p.top+=10,u(p)},top(v){const p=r(v),[g]=e.value.elements.splice(p,1);e.value.elements.push(g)},bottom(v){const p=r(v),[g]=e.value.elements.splice(p,1);e.value.elements.unshift(g)},group(){e.value.elements=on(e.value.elements,n.value)},ungroup(){e.value.elements=an(e.value.elements,n.value)},paste(v,p,g){if(!a)return;const w=Se(a);w.left=p-n.value.left,w.top=g-n.value.top,u(w)},selectAll(){e.value.elements.forEach(v=>v.selected=!0)},lock(v){const p=r(v);e.value.elements[p].disabled=!e.value.elements[p].disabled},moveUp(v){const p=r(v);p>=e.value.elements.length-1||i(p,p+1)},moveDown(v){const p=r(v);p<=0||i(p,p-1)}},d=(v,p)=>{v.preventDefault();const{clientX:g,clientY:w}=v;l=Se(p);const $=e.value.elements.filter(z=>z.selected),S=[{action:"remove",label:"删除"},{action:"cut",label:"剪切"},{action:"copy",label:"复制"},{action:"duplicate",label:"创建副本"},{action:"top",label:"置顶"},{action:"bottom",label:"置底"},{action:"moveUp",label:"上移一层"},{action:"moveDown",label:"下移一层"}];!p.group&&$.length>1?S.push({action:"group",label:"组合"}):p.group&&S.push({action:"ungroup",label:"取消组合"});const _=l.disabled,C={action:"lock",label:"锁定 / 解锁"};_||S.push(C),Mt({clientX:g,clientY:w,items:_?[C]:S,onClick:({action:z})=>{c[z]&&c[z](l)}})},f=v=>{const{clientX:p,clientY:g}=v;Mt({clientX:p,clientY:g,items:[{action:"paste",label:"在这粘贴"},{action:"selectAll",label:"全选"}],onClick({action:w}){w==="paste"?c.paste(l,p,g):c[w]&&c[w](l)}})},m=v=>{const{ctrlKey:p,key:g}=v,w=[];p&&w.push("ctrl"),w.push(g);const $=w.join("+"),S=Bo[$];c[S]&&(v.preventDefault(),l=e.value.elements.find(_=>_.selected)||null,c[S](l))};return fe(()=>{window.addEventListener("keydown",m)}),Ge(()=>{window.removeEventListener("keydown",m)}),{editorRect:n,onContextmenu:d,onEditorContextMenu:f}}let Xe;const Ke="es-editor-container-1996",ct=()=>{if(!Xe&&!document.querySelector(`#${Ke}`)){const e=document.createElement("div");e.id=Ke,Xe=e,document.body.appendChild(e)}return{container:Xe,selector:Ke}},No=Y({__name:"index",props:{modelValue:{type:Object,required:!0,default:()=>({})},commands:{type:Object}},setup(e){const t=ie(),n=e,l=A(null),a=F({get:()=>n.modelValue,set:()=>{}}),r=F(()=>{var q;return((q=n.modelValue.container)==null?void 0:q.gridSize)||10}),i=F(()=>{var q;return((q=n.modelValue.container)==null?void 0:q.scaleRatio)||1}),u=F(()=>{const{width:q,height:E}=a.value.container.style;return{...a.value.container.style,width:q+"px",height:E+"px",transform:`scale(${i.value})`,transformOrigin:"top left"}}),c=A({startX:0,startY:0,disX:0,disY:0}),d=F({get:()=>t.current,set:q=>{t.current=q}}),f=A(),{areaSelected:m,onEditorMouseDown:v,onAreaMove:p,onAreaUp:g}=Io(a,f),{editorRect:w,onContextmenu:$,onEditorContextMenu:S}=jo(a,l);function _(q){d.value=q,m.value||a.value.elements.filter(L=>L.selected).length===1&&a.value.elements.forEach(L=>L.selected=!1),d.value.selected=!0,c.value.startX=d.value.left,c.value.startY=d.value.top,_e.emit("dragstart")}function C(){_e.emit("dragend")}function z(q){const E=q.left-c.value.startX,L=q.top-c.value.startY;a.value.elements.forEach(W=>{var xe;W.selected&&((xe=d.value)==null?void 0:xe.id)!==W.id&&(W.left+=E,W.top+=L)}),c.value.startX=q.left,c.value.startY=q.top}function G(q,E){Object.keys(q).forEach(L=>{E[L]=q[L]})}const J={dblclick:()=>{!d.value||!d.value.selected||(d.value.editable=!0)},click:()=>{d.value&&(d.value.editable=!1)}};function N(q="on"){["dblclick","click"].forEach(L=>{q==="on"?document.addEventListener(L,J[L]):document.removeEventListener(L,J[L])})}return fe(()=>{N()}),Ge(()=>{N("off")}),(q,E)=>(h(),V("div",{ref_key:"editorRef",ref:l,class:"es-editor",style:le(u.value),onMousedown:E[2]||(E[2]=(...L)=>M(v)&&M(v)(...L)),onContextmenu:E[3]||(E[3]=me((...L)=>M(S)&&M(S)(...L),["prevent"]))},[(h(!0),V(T,null,j(a.value.elements,L=>(h(),D(M(wl),ye({rotatable:"",ref_for:!0},M(un)(L,["style","props"]),{style:{position:"absolute"},"grid-x":r.value,"grid-y":r.value,scaleRatio:i.value,boundary:"",markline:a.value.container.markline.show,snap:a.value.container.snap,"snap-threshold":a.value.container.gridSize,onDragStart:W=>_(L),onDragEnd:C,onDrag:z,onChange:W=>G(W,L),onContextmenu:me(W=>M($)(W,L),["stop"]),onMousedown:E[0]||(E[0]=me(()=>{},["stop"])),onClick:E[1]||(E[1]=me(()=>{},["stop"]))}),{default:s(()=>[(h(),D(Ne(L.component),ye({element:L,ref_for:!0},L.props,{style:{...M(je)(L.style,!1),width:"100%",height:"100%"}}),{default:s(()=>[L.text?(h(),D(Ft,{key:0,editable:L.editable,text:L.text,style:le(M(je)(L.style))},null,8,["editable","text","style"])):B("",!0)]),_:2},1040,["element","style"]))]),_:2},1040,["grid-x","grid-y","scaleRatio","markline","snap","snap-threshold","onDragStart","onChange","onContextmenu"]))),256)),a.value.container.snapToGrid?(h(),D(gn,{key:0,grid:a.value.container.gridSize,"border-color":a.value.container.gridColor},null,8,["grid","border-color"])):B("",!0),o(ql,{ref_key:"areaRef",ref:f,onMove:M(p),onUp:M(g)},null,8,["onMove","onUp"])],36))}}),Go=ne(No,[["__scopeId","data-v-541da108"]]),Yo={class:"es-preview-tools"},Jo=Y({__name:"Preview",setup(e){const t=ie(),n=A(),l=F(()=>{const{width:u,height:c}=t.data.container.style;return{...t.data.container.style,width:u+"px",height:c+"px",transform:`scale(${a.value})`,transformOrigin:"top left"}}),a=F(()=>{var u;return((u=t.data.container)==null?void 0:u.scaleRatio)||1}),r=()=>{var c;const{width:u}=t.data.container.style;Fe.emit("sendEditorHtml",{data:`<body style="width: ${u}px;">${(c=n.value)==null?void 0:c.outerHTML}</body>`})};function i(u){var m;const{width:c,height:d}=t.data.container.style,f=Ut().format("YYYY-MM-DD-HH-mm-ss")+"."+u;if(u==="html"){const v=new Blob([`<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8" /><meta http-equiv="content-type" content="text/html;charset=utf-8" /></head><body style="width: ${c}px;">${(m=n.value)==null?void 0:m.outerHTML}</body></html>`],{type:"text/html"}),p=document.createElement("a");p.download=f;const g=URL.createObjectURL(v);p.href=g,document.body.appendChild(p),p.click(),URL.revokeObjectURL(g),document.body.removeChild(p);return}xl(n.value).then(v=>{if(u==="pdf"){const p=new kl("l","pt","a4"),g=v.toDataURL();return p.addImage(g,"PNG",0,0,+c,+d),p.save(f)}v.toBlob(p=>{const g=document.createElement("a");g.download=f;const w=URL.createObjectURL(p);g.href=w,g.click(),URL.revokeObjectURL(w)})})}return Ge(()=>{Fe.off("getEditorHtml")}),(u,c)=>{const d=y("el-button"),f=y("el-dialog");return h(),D(f,{draggable:"",fullscreen:""},{default:s(()=>[x("div",Yo,[o(d,{type:"primary",onClick:c[0]||(c[0]=m=>i("png"))},{default:s(()=>[k("PNG")]),_:1}),o(d,{type:"primary",onClick:c[1]||(c[1]=m=>i("jpg"))},{default:s(()=>[k("JPG")]),_:1}),o(d,{type:"primary",onClick:c[2]||(c[2]=m=>i("pdf"))},{default:s(()=>[k("PDF")]),_:1}),o(d,{type:"primary",onClick:c[3]||(c[3]=m=>i("html"))},{default:s(()=>[k("HTML")]),_:1}),o(d,{type:"primary",onClick:r},{default:s(()=>[k("保存到插件")]),_:1})]),x("div",{class:"es-preview-body",style:le({width:l.value.width,height:l.value.height})},[x("div",{ref_key:"editorRef",ref:n,class:"es-editor preview",style:le(l.value)},[(h(!0),V(T,null,j(M(t).data.elements,m=>(h(),D(Ne(m.component),ye({ref_for:!0},m.props,{style:{...M(je)(m.style,!1),width:m.width+"px",height:m.height+"px",position:"absolute",left:m.left+"px",top:m.top+"px"}}),{default:s(()=>[m.text?(h(),D(Ft,{key:0,text:m.text,style:le(M(je)(m.style))},null,8,["text","style"])):B("",!0)]),_:2},1040,["style"]))),256))],4)],4)]),_:1})}}}),Qo=ne(Jo,[["__scopeId","data-v-4e4a3a69"]]),Wo={class:"es-layout-container"},Xo=Y({__name:"index",props:{data:{type:Object,required:!0},theme:{type:String}},setup(e,{expose:t}){const n=e,l=ie(),a=A(),{commands:r}=Bt(l),i=[{label:"撤销",icon:Cl,handler:r.undo},{label:"重做",icon:Vl,handler:r.redo},{label:"导出",icon:$l,handler:()=>{qo({title:"导出",content:JSON.stringify(l.data),confirm($){r.updateContainer(JSON.parse($))}})}},{label:"导入",icon:Ml,handler:()=>{St({resultType:"json",onChange($){r.updateContainer(JSON.parse($))}})}},{label:"插入图片",icon:Sl,handler:()=>{St({resultType:"image",onChange($){const _={id:we(),component:"img",props:{src:$,width:200,onLoadOnce(C){if(_.props.loaded)return;const{naturalHeight:z,naturalWidth:G}=C.target,J=l.data.elements.find(q=>q.id===_.id);let N=200/G;N>1&&(N=1),J.width=G*N,J.height=z*N,_.props.loaded=!0}}};l.data.elements.push(_)}})}},{label:"预览",icon:zl,handler:()=>l.preview=!0}],u=F(()=>{const{width:$,height:S}=l.data.container.style,_={},C=l.initWidth>+$,z=l.initHeight>+S;return C&&(_.position="absolute",_.left="50%",_.transform="translateX(-50%)"),z&&(_.position="absolute",_.top="50%",_.transform="translateY(-50%)"),C&&z&&(_.transform="translate(-50%, -50%)"),_}),c=F(()=>{var $;return(($=a.value)==null?void 0:$.getBoundingClientRect())||{}});let d=null;function f($){_e.emit("dragstart"),d=$}function m(){_e.emit("dragend")}function v($){$.dataTransfer.dropEffect="move"}function p($){if(!d)return;const S=d.component==="es-icon",_=[...l.data.elements,{...d,equalProportion:S,left:$.offsetX-d.width/2,top:$.offsetY-d.height/2,id:we(),style:d.style||{}}];l.data.elements=_,d=null}function g(){l.initWidth=Math.floor(c.value.width),l.initHeight=Math.floor(c.value.height-7),l.data.container.style.width=l.initWidth,l.data.container.style.height=l.initHeight}function w(){return{...l.data}}return ve(()=>n.data,()=>{l.update(n.data)},{immediate:!0}),ve(()=>n.theme,()=>{n.theme&&(l.theme=n.theme)},{immediate:!0}),fe(()=>{g()}),t({tools:i,getData:w}),($,S)=>(h(),V(T,null,[x("div",Wo,[o(Ln,{onDragstart:f,onDragend:m}),x("div",{ref_key:"mainRef",ref:a,class:"es-layout-main"},[x("div",{class:"es-editor-container",style:le(u.value)},[o(Go,{modelValue:M(l).data,"onUpdate:modelValue":S[0]||(S[0]=_=>M(l).data=_),commands:M(r),onDragenter:v,onDrop:p,onDragover:S[1]||(S[1]=me(()=>{},["prevent"]))},null,8,["modelValue","commands"])],4)],512),o(Eo,{modelValue:M(l).current,"onUpdate:modelValue":S[2]||(S[2]=_=>M(l).current=_)},null,8,["modelValue"])]),o(Qo,{modelValue:M(l).preview,"onUpdate:modelValue":S[3]||(S[3]=_=>M(l).preview=_)},null,8,["modelValue"])],64))}});async function jt(e){return(await Ul(()=>import("./index-dd4ac02c.js").then(n=>n.i),["assets/index-dd4ac02c.js","assets/index-05f082af.js","assets/index-0d3b2944.css"])).MD5(e).toString()}const Ko={class:"es-header-toolbar"},Zo=["onClick"],ea=Y({__name:"index",emits:["outerHTML","mounted"],setup(e,{emit:t}){const n=lt(),l=A(""),a=A(),r=t,i=A(null),u=A({container:{markline:{show:!0,color:""},snapToGrid:!0,snap:!0,gridSize:10,gridColor:"",style:{},scaleRatio:1},elements:[{id:"1",component:"div",width:100,height:100,left:100,top:100,text:"div1",style:{background:"#ff4500",color:"#fff"}},{id:"2",component:"div",width:100,height:100,left:300,top:150,text:"div2",style:{background:"#00ced1",color:"#fff"}}]}),c=F(()=>{var v;return((v=i.value)==null?void 0:v.tools)||[]});function d(v){typeof v.handler=="function"&&v.handler()}const f=()=>{n.scene=1},m=async()=>{var p;const v=await jt(l.value);r("outerHTML",{hash:v,data:l.value,json:JSON.stringify((p=i.value)==null?void 0:p.getData())}),te.success("保存成功！"),n.scene=1};return fe(()=>{r("mounted","Please set project json!"),Fe.on("sendEditorHtml",v=>{l.value=v.data,m()})}),Ge(()=>{Fe.off("sendEditorHtml")}),(v,p)=>{const g=y("el-button");return h(),V(T,null,[x("div",{class:"es-layout",onClick:p[0]||(p[0]=me(()=>{},["stop"]))},[o(g,{onClick:f},{default:s(()=>[k("返回")]),_:1}),x("div",Ko,[(h(!0),V(T,null,j(c.value,w=>(h(),V("div",{class:"es-tool-btn",onClick:$=>d(w)},[o(g,{icon:w.icon},{default:s(()=>[k(Z(w.label),1)]),_:2},1032,["icon"])],8,Zo))),256))]),o(M(Xo),{ref_key:"editorRef",ref:i,data:u.value,theme:"dark"},null,8,["data"])]),o(El,{ref_key:"codeRef",ref:a},null,512)],64)}}});const ta=[{prop:"e.msg",tip:"触发此功能的消息"},{prop:"e.post_type",tip:"触发此功能消息类型"},{prop:"e.message_id",tip:"消息唯一标识符"},{prop:"e.user_id",tip:"用户QQ号或Id"},{prop:"e.time",tip:"消息时间戳"},{prop:"e.seq",tip:"消息序号"},{prop:"e.rand",tip:"神秘的数字"},{prop:"e.font",tip:"发送者使用的字体"},{prop:"e.raw_message",tip:"原始消息摘要"},{prop:"e.message_type",tip:"消息类型(group|private|guild)"},{prop:"e.sender.user_id",tip:"发送者QQ号或Id(同e.user_id)"},{prop:"e.sender.nickname",tip:"发送者个人昵称"},{prop:"e.sender.sub_id",tip:"发送者虚拟id"},{prop:"e.sender.card",tip:"发送者所在群昵称"},{prop:"e.sender.sex",tip:"发送者性别"},{prop:"e.sender.age",tip:"发送者年龄"},{prop:"e.sender.area",tip:"发送者居住地"},{prop:"e.sender.level",tip:"发送者群聊等级"},{prop:"e.sender.role",tip:"发送者角色(owner|master|admin)"},{prop:"e.sender.title",tip:"头衔"},{prop:"e.group_id",tip:"群号或ID"},{prop:"e.group_name",tip:"群昵称"},{prop:"e.block",tip:"(true|false)"},{prop:"e.sub_type",tip:"消息子类别"},{prop:"e.anonymous",tip:"匿名者信息"},{prop:"e.atme",tip:"是否@我(true|false)"},{prop:"e.atall",tip:"是否@所有人(true|false)"},{prop:"e.self_id",tip:"机器人QQ或ID"},{prop:"e.isGroup",tip:"是否来自群(true|false)"},{prop:"e.user_avatar",tip:"用户头像地址"},{prop:"e.group_avatar",tip:"用户所在群聊头像地址"},{prop:"e.user_name",tip:"用户昵称"},{prop:"e.isMaster",tip:"是否是主人"}],la=e=>{let t=window.getSelection();if(!t.rangeCount)return;let n=t.getRangeAt(0);n.toString()&&n.deleteContents();let l=Date.now(),a=document.createElement("span");a.contentEditable="false",a.className="variable-template-Text",a.innerHTML=`<span id="variable${l}" style="display: none; color: green; margin: 0 5px;">${e.tip}</span>\${ ${e.prop} }`,a.onmouseover=()=>{let i=document.getElementById(`variable${l}`);i&&(i.style.display="inline-block")},a.onmouseleave=()=>{let i=document.getElementById(`variable${l}`);i&&(i.style.display="none")};let r=n.cloneRange();r.setStart(n.startContainer,n.startOffset-1),r.startContainer.nodeType===Node.TEXT_NODE&&r.startOffset>=0?(r.collapse(!0),r.insertNode(a),n=document.createRange(),n.setStartAfter(a),n.collapse(!0),t.removeAllRanges(),t.addRange(n)):(n.insertNode(a),n=document.createRange(),n.setStartAfter(a),n.collapse(!0),t.removeAllRanges(),t.addRange(n))},na=Y({__name:"index",props:{fontSize:{type:String,default:"16px"},color:{type:String,default:"rgba(220,223,230,0.5)"},width:{type:String,default:"100%"},minWidth:{type:String,default:"100px"},lineHeight:{type:String,default:"20px"},cusInputValue:{type:String,default:""}},emits:["innerText"],setup(e,{expose:t,emit:n}){const l=n,a=A();let r=0;const i=A(ta),u=A(!1),c=e;ve(()=>c.cusInputValue,p=>{zt(()=>{p?a.value.innerText=p:a.value.innerText=""})},{immediate:!0});const d=()=>{l("innerText",a.value.innerText);const p=a.value.innerText.match(/\//g)||[];p.length==r+1&&(u.value=!0),r=p.length},f=()=>a.value.innerText,m=p=>{a.value.innerText=p},v=p=>{u.value=!1,la(p)};return t({getText:f,setText:m}),(p,g)=>{const w=y("el-table-column"),$=y("el-button"),S=y("el-table"),_=y("el-dialog");return h(),V(T,null,[x("div",{class:"cus_input",contenteditable:!0,ref_key:"input",ref:a,onInput:d,style:le({width:e.width,lineHeight:e.lineHeight,border:"2px solid "+e.color,fontSize:e.fontSize,minWidth:e.minWidth})},null,36),o(_,{modelValue:u.value,"onUpdate:modelValue":g[0]||(g[0]=C=>u.value=C),title:"事件变量",width:"360"},{default:s(()=>[o(S,{data:i.value,style:{"max-height":"400px","overflow-y":"scroll"}},{default:s(()=>[o(w,{prop:"prop"}),o(w,{prop:"tip"}),o(w,{width:"80"},{default:s(({row:C,$index:z})=>[o($,{size:"small",onClick:G=>v(C)},{default:s(()=>[k("插入")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"])],64)}}});const oa=ne(na,[["__scopeId","data-v-d9b444d5"]]),Pe=()=>({id:"",render_data:{label:"",visited_label:"",style:1},action:{type:1,permission:{type:2,specify_user_ids:[],specify_role_ids:[]},data:"",reply:!1,enter:!1,anchor:0,click_limit:99999,at_bot_show_channel_list:!1,unsupport_tips:""}}),aa=()=>({custom_template_id:"101993071_1658748972",content:"",params:[{tempString:"",key:"title",values:["标题"]},{tempString:"",key:"image",values:["https://resource5-1255303497.cos.ap-guangzhou.myqcloud.com/abcmouse_word_watch/other/mkd_img.png"]},{tempString:"",key:"para1",values:["段落1"]},{tempString:"",key:"para2",values:["段落2"]},{tempString:"",key:"desc",values:["简介"]},{tempString:"",key:"content",values:["在这个子频道非常开心"]},{tempString:"",key:"link_introduction",values:["链接介绍"]},{tempString:"",key:"link",values:["https://www.qq.com"]}]}),ae=e=>(it("data-v-af5313ad"),e=e(),ut(),e),sa={class:"seg-btn-row-box"},ra={class:"seg-btn-row"},ia={class:"seg-btn-row-add"},ua={class:"seg-btn-coloum",style:{display:"flex","justify-content":"space-between"}},ca=ae(()=>x("div",{class:"sub-title"},"id",-1)),da=ae(()=>x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),k("render_data.label")],-1)),pa=ae(()=>x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),k("render_data.visited_label")],-1)),fa=ae(()=>x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),k("render_data.style（按钮样式）")],-1)),ma=ae(()=>x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),k("action.type")],-1)),va=ae(()=>x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),k("action.permission.type")],-1)),ha=ae(()=>x("div",{class:"sub-title"},"action.permission.specify_user_ids（有权限的用户 id 的列表）",-1)),_a=ae(()=>x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),k("action.data")],-1)),ga=ae(()=>x("div",{class:"sub-title"},"action.reply(指令按钮可用，指令是否带引用回复本消息，默认 false。支持版本 8983)",-1)),ya=ae(()=>x("div",{class:"sub-title"},"action.enter(指令按钮可用，点击按钮后直接自动发送 data，默认 false。支持版本 8983)",-1)),ba=ae(()=>x("div",{class:"sub-title"},"action.anchor(本字段仅在指令按钮下有效，设置后后会忽略 action.enter 配置。 设置为 1 时 ，点击按钮自动唤起启手Q选图器，其他值暂无效果。 仅支持手机端版本 8983+ 的单聊场景，桌面端不支持)",-1)),wa=ae(()=>x("div",{class:"sub-title"},"action.click_limit【已弃用】可操作点击的次数，默认不限",-1)),xa=ae(()=>x("div",{class:"sub-title"},"action.at_bot_show_channel_list【已弃用】指令按钮可用，弹出子频道选择器，默认 false",-1)),ka=ae(()=>x("div",{class:"sub-title"},[x("span",{class:"required"},"*"),k("action.unsupport_tips")],-1)),Ca=Y({__name:"button",props:["btnContent"],emits:["update:btnContent"],setup(e,{emit:t}){const n=e,l=t,a=A(!1),r=A(""),i=A(),u=Ue({row:0,col:0,value:Pe()}),c=v=>{if(i.value.rows[v].buttons.length>=10){te.warning("超出最大列数限制！");return}i.value.rows[v].buttons.push(Pe())},d=()=>{if(i.value.rows.length>=10){te.warning("超出最大行数限制！");return}i.value.rows.push({buttons:[Pe()]})},f=(v,p,g)=>{a.value=!0,u.row=p,u.col=g,u.value=v},m=()=>{a.value=!1,i.value.rows[u.row].buttons.splice(u.col,1),i.value.rows[u.row].buttons.length==0&&i.value.rows.splice(u.row,1)};return ve(()=>n.btnContent,v=>{i.value=v},{immediate:!0,deep:!0}),(v,p)=>{const g=y("el-input"),w=y("el-form-item"),$=y("el-button"),S=y("el-card"),_=y("el-form"),C=y("el-radio"),z=y("el-radio-group"),G=y("el-tag"),J=y("el-switch"),N=y("el-input-number"),q=y("el-dialog");return h(),V(T,null,[o(_,null,{default:s(()=>[o(w,{label:"appid"},{default:s(()=>[o(g,{class:"seg-btn-appid",modelValue:i.value.appid,"onUpdate:modelValue":p[0]||(p[0]=E=>i.value.appid=E),placeholder:"你的QQbot id"},null,8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[o(S,{class:"seg-btn-content"},{default:s(()=>[(h(!0),V(T,null,j(i.value.rows,(E,L)=>(h(),V("div",{class:"seg-btn-coloum",key:L,style:{display:"flex","justify-content":"space-between"}},[x("div",sa,[(h(!0),V(T,null,j(E.buttons,(W,xe)=>(h(),V("div",ra,[o($,{type:W.render_data.style==1?"primary":"",plain:W.render_data.style==1,size:"small",onClick:dt=>f(W,L,xe)},{default:s(()=>[k(Z(W.render_data.label),1)]),_:2},1032,["type","plain","onClick"])]))),256))]),x("div",ia,[o($,{class:"add-btn",icon:"Plus",onClick:W=>c(L)},null,8,["onClick"])])]))),128)),x("div",ua,[o($,{icon:"Plus",onClick:d,style:{"margin-top":"3px"}})])]),_:1})]),_:1})]),_:1}),o(q,{modelValue:a.value,"onUpdate:modelValue":p[17]||(p[17]=E=>a.value=E),title:"按钮配置（重点配置星号）"},{footer:s(()=>[o($,{type:"primary",size:"default",onClick:m},{default:s(()=>[k(" 删除 ")]),_:1}),o($,{type:"primary",size:"default",onClick:p[16]||(p[16]=E=>(a.value=!1,l("update:btnContent",i.value)))},{default:s(()=>[k(" 确定 ")]),_:1})]),default:s(()=>[o(_,null,{default:s(()=>[o(w,null,{default:s(()=>[ca,o(g,{placeholder:"按钮ID：在一个keyboard消息内设置唯一",modelValue:u.value.id,"onUpdate:modelValue":p[1]||(p[1]=E=>u.value.id=E)},null,8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[da,o(g,{modelValue:u.value.render_data.label,"onUpdate:modelValue":p[2]||(p[2]=E=>u.value.render_data.label=E),placeholder:"按钮上的文字"},null,8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[pa,o(g,{modelValue:u.value.render_data.visited_label,"onUpdate:modelValue":p[3]||(p[3]=E=>u.value.render_data.visited_label=E),placeholder:"点击后按钮的上文字"},null,8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[fa,o(z,{modelValue:u.value.render_data.style,"onUpdate:modelValue":p[4]||(p[4]=E=>u.value.render_data.style=E)},{default:s(()=>[o(C,{value:0},{default:s(()=>[k("灰色线框")]),_:1}),o(C,{value:1},{default:s(()=>[k("蓝色线框")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[ma,o(z,{modelValue:u.value.action.type,"onUpdate:modelValue":p[5]||(p[5]=E=>u.value.action.type=E)},{default:s(()=>[o(C,{value:0},{default:s(()=>[k("跳转按钮：http 或 小程序 客户端识别 scheme")]),_:1}),o(C,{value:1},{default:s(()=>[k("回调按钮：回调后台接口, data 传给后台")]),_:1}),o(C,{value:2},{default:s(()=>[k("指令按钮：自动在输入框插入 @bot data")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[va,o(z,{modelValue:u.value.action.permission.type,"onUpdate:modelValue":p[6]||(p[6]=E=>u.value.action.permission.type=E)},{default:s(()=>[o(C,{value:0},{default:s(()=>[k("指定用户可操作")]),_:1}),o(C,{value:1},{default:s(()=>[k("仅管理者可操作")]),_:1}),o(C,{value:2},{default:s(()=>[k("所有人可操作")]),_:1}),o(C,{value:3},{default:s(()=>[k("指定身份组可操作（仅频道可用）")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[ha,x("div",null,[o(g,{modelValue:r.value,"onUpdate:modelValue":p[7]||(p[7]=E=>r.value=E),size:"small"},null,8,["modelValue"]),o($,{size:"small",icon:"Plus",onClick:p[8]||(p[8]=E=>u.value.action.permission.specify_user_ids&&u.value.action.permission.specify_user_ids.push(r.value)),style:{"margin-left":"5px"}}),x("span",null,[(h(!0),V(T,null,j(u.value.action.permission.specify_user_ids,(E,L)=>(h(),D(G,{key:L,class:"mx-1",closable:"",onClose:W=>u.value.action.permission.specify_user_ids&&u.value.action.permission.specify_user_ids.splice(L,1),style:{"margin-left":"5px"}},{default:s(()=>[k(Z(E),1)]),_:2},1032,["onClose"]))),128))])])]),_:1}),o(w,null,{default:s(()=>[_a,o(g,{modelValue:u.value.action.data,"onUpdate:modelValue":p[9]||(p[9]=E=>u.value.action.data=E),placeholder:"操作相关的数据"},null,8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[ga,o(J,{modelValue:u.value.action.reply,"onUpdate:modelValue":p[10]||(p[10]=E=>u.value.action.reply=E),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[ya,o(J,{modelValue:u.value.action.enter,"onUpdate:modelValue":p[11]||(p[11]=E=>u.value.action.enter=E),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[ba,o(N,{modelValue:u.value.action.anchor,"onUpdate:modelValue":p[12]||(p[12]=E=>u.value.action.anchor=E)},null,8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[wa,o(N,{modelValue:u.value.action.click_limit,"onUpdate:modelValue":p[13]||(p[13]=E=>u.value.action.click_limit=E)},null,8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[xa,o(J,{modelValue:u.value.action.at_bot_show_channel_list,"onUpdate:modelValue":p[14]||(p[14]=E=>u.value.action.at_bot_show_channel_list=E),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[ka,o(g,{modelValue:u.value.action.unsupport_tips,"onUpdate:modelValue":p[15]||(p[15]=E=>u.value.action.unsupport_tips=E),placeholder:"客户端不支持本action的时候，弹出的toast文案"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});const Va=ne(Ca,[["__scopeId","data-v-af5313ad"]]),$a={class:"sub-title"},Ma={style:{display:"flex",width:"100%","max-width":"100%"}},Sa={style:{width:"50px"}},za={style:{width:"50px"}},Ua=Y({__name:"markdown",props:["mdContent"],emits:["update:mdContent"],setup(e,{emit:t}){const n=e,l=A(),a=r=>{l.value.content=r,te.success("原生markdown保存成功，可点击页面保存添加到指令！")};return ve(()=>n.mdContent,r=>{l.value=r},{immediate:!0,deep:!0}),(r,i)=>{const u=y("el-input"),c=y("el-form-item"),d=y("el-divider"),f=y("el-button"),m=y("el-tag"),v=y("el-form");return h(),V(T,null,[o(v,null,{default:s(()=>[o(c,{label:"custom_template_id"},{default:s(()=>[o(u,{class:"seg-markdown-appid",modelValue:l.value.custom_template_id,"onUpdate:modelValue":i[0]||(i[0]=p=>l.value.custom_template_id=p),placeholder:"模板id"},null,8,["modelValue"])]),_:1}),o(c,null,{default:s(()=>[o(d,null,{default:s(()=>[k("模板Markdown")]),_:1}),o(v,null,{default:s(()=>[(h(!0),V(T,null,j(l.value.params,(p,g)=>(h(),D(c,null,{default:s(()=>[x("div",$a,Z(p.key),1),x("div",Ma,[o(u,{type:"textarea",modelValue:p.tempString,"onUpdate:modelValue":w=>p.tempString=w,style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"]),x("div",Sa,[o(f,{icon:"Plus",size:"small",onClick:w=>l.value.params.splice(g+1,0,JSON.parse(JSON.stringify(p))),style:{"margin-left":"5px"}},null,8,["onClick"]),o(f,{size:"small",icon:"Delete",style:{"margin-left":"5px"},onClick:w=>l.value.params.splice(g,1)},null,8,["onClick"])]),x("div",za,[o(f,{icon:"ArrowUpBold",size:"small",onClick:w=>[l.value.params[g-1],l.value.params[g]]=[l.value.params[g],l.value.params[g-1]],style:{"margin-left":"5px"}},null,8,["onClick"]),o(f,{size:"small",icon:"ArrowDownBold",onClick:w=>[l.value.params[g],l.value.params[g+1]]=[l.value.params[g+1],l.value.params[g]],style:{"margin-left":"5px"}},null,8,["onClick"])])]),x("div",null,[o(f,{icon:"Plus",size:"small",onClick:w=>l.value.params[g].values.push(p.tempString),style:{"margin-left":"5px"}},null,8,["onClick"]),x("div",null,[(h(!0),V(T,null,j(p.values,(w,$)=>(h(),D(m,{key:$,class:"mx-1",closable:"",onClose:S=>p.values.splice($,1),style:{"margin-left":"5px","text-overflow":"ellipsis"}},{default:s(()=>[k(Z(w),1)]),_:2},1032,["onClose"]))),128))])])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),o(d,null,{default:s(()=>[k("原生Markdown(填了优先使用)")]),_:1}),o(Et,{code:e.mdContent.content,ext:"md",isImmediate:!0,onGetCode:a},null,8,["code"])],64)}}});function Ea(){return`
/**
 * 编写后请记得先点击右上角保存代码，然后点击该页面顶部保存按钮即可保存此插件，保存后立即生效！
 * 这是自定义代码段，拥有JavaScript的正式环境，你可以像正常写yunzai的js插件一样编写执行逻辑
 * 该作用域提供了以下变量，包含了yunzai的基本API，你可以在全局直接使用
 * @params e 消息事件变量，包含了消息事件的全部属性和方法
 * @params Bot 全局Bot
 * @params puppeteer 渲染器，提供了如puppeteer.screenshot等方法
 * @params segment 消息段制作
 * @params loader yunzai的插件加载实例
 * @params logger yunzai日志打印
 */

/** 
 * 如果你使用npm方式安装小微插件，那么需要使用模块化导入yunzai的方法，例如const {Config} = await import('yunzai')
 * 如果你使用git安装小微插件，当前代码的执行路径为./plugins/micro-plugin/dist/apps/message.js
 * 换而言之，如果你需要相对路径导入模块，
 * 则需要使用 const puppeteer = await import('../../../../lib/puppeteer/puppeteer.js'),当然该方式不被推荐
 * 注意你不能在这里使用import xxx from 'xxx'语法，
 * 因为所有代码将在函数作用域执行，你可以使用以下的动态导入依赖示例
 */

const moment = (await import('moment')).default
const now = moment().format('YYYY/MM/DD HH:mm:ss')
logger.info('现在是：',now)
e.reply(now)
    `}const Nt=e=>(it("data-v-526d8e32"),e=e(),ut(),e),Ia={class:"root_box"},Ra={class:"plugin_box"},Ha=Nt(()=>x("div",{class:"sub-title"},"触发规则",-1)),qa={class:"title_bar"},Aa=Nt(()=>x("div",{class:"sub-title"},"消息段",-1)),Da={class:"input_box"},Ta={class:"input_box"},La={key:1},Pa={class:"input_box"},Fa={class:"input_box"},Oa={class:"input_box"},Ba={class:"face-box"},ja={class:"input_box"},Na={class:"face-box",style:{height:"120px"}},Ga={class:"input_box"},Ya={class:"face-box",style:{height:"120px"}},Ja={class:"input_box"},Qa={class:"face-box",style:{height:"60px"}},Wa={class:"type-title",style:{"font-weight":"500","margin-bottom":"10px"}},Xa={class:"seg_card_box"},Ka={class:"type-title",style:{"font-weight":"500","margin-bottom":"10px"}},Za={class:"seg_card_box"},es={class:"type-title",style:{"font-weight":"500","margin-bottom":"10px"}},ts={key:0,class:"pic_editor"},ls=Y({__name:"index",props:["editedPluginValue"],emits:["savePlugin"],setup(e,{emit:t}){const n=ie(),{commands:l}=Bt(n),a=A(!1),r=Ue({path:"",curType:"",curMsgIndex:0}),i=A([]),u=A(""),c=A(),d=lt(),f=t,m=e,v=Ue({}),p=A([]),g=A(""),w=A(""),$=A("");A("");const S=A(0),_=A([]),C=A({id:"",event:"message",reg:"",cron:"",delayTime:0,flag:"",isGlobal:!0,isAt:!1,isQuote:!1,groups:[],friends:[],message:[]}),z=A([{type:"代码",default:{type:"code",data:Ea(),hash:""}},{type:"文本",default:{type:"text",data:""}},{type:"图片",default:{type:"image",url:"",data:"",hash:"",json:""}},{type:"音频",default:{type:"record",url:"",data:""}},{type:"视频",default:{type:"video",url:"",data:""}},{type:"表情",default:{type:"face",data:0}},{type:"戳一戳",default:{type:"poke",data:0}},{type:"骰子",default:{type:"dice",data:1}},{type:"猜拳",default:{type:"rps",data:1}},{type:"Markdown",default:{type:"markdown",content:aa()}},{type:"按钮",default:{type:"button",content:{appid:"",rows:[{buttons:[Pe()]}]}}}]),G=A([{desc:"默认Flags",value:""},{desc:"(g)全局搜索",value:"g"},{desc:"(i)不区分大小写",value:"i"},{desc:"(m)多行搜索",value:"m"},{desc:"(s)允许 . 匹配换行符",value:"s"},{desc:"(u)使用 unicode 码的模式进行匹配",value:"u"},{desc:"(y)匹配从目标字符串的当前位置开始",value:"y"}]);ve(()=>m.editedPluginValue,U=>{var R;if(d.curEditedMode=="add"){C.value.id=U.id;return}Object.keys(U).length===0&&console.log("对象没有自身属性"),C.value=U,_.value=U.message,(R=U.message)==null||R.forEach((O,ce)=>{O.type=="text"&&(v["index"+ce]=O.data)})},{immediate:!0});const J=U=>{console.log(U),u.value=U.url,a.value=!0},N=(U,R)=>{console.log(U),console.log(R),_.value[r.curMsgIndex].url="file://"+U.data},q=U=>r.curType=="image"&&!U.type.includes("image/")?(te.error("确保上传的是图片!"),!1):r.curType=="record"&&!U.type.includes("audio/")?(te.error("确保上传的音频!"),!1):r.curType=="video"&&!U.type.includes("video/")?(te.error("确保上传的是视频!"),!1):U.size/1024/1024>100?(te.error("File size can not exceed 100MB!"),!1):!0,E=async(U,R)=>{a.value=!0;let O=await xt();if(O.code==200){let ce=O.data.replace(/^file:\/\//,"");r.path=ce+"data/micro-plugin/plugins/"+(C.value.id?C.value.id:d.curPluginId),r.curType=R,r.curMsgIndex=U}},L=()=>{c.value.submit(),a.value=!1},W=async(U,R)=>{let O;if(!U){let ce=await xt();ce.code==200&&(p.value=[{value:ce.data},{value:"http://"},{value:"https://"}])}O=p.value,R(O)},xe=()=>{C.value.groups.push(g.value),g.value=""},dt=U=>{C.value.groups.splice(U,1)},Gt=()=>{C.value.friends.push(w.value),w.value=""},Yt=U=>{C.value.friends.splice(U,1)},Jt=async(U,R)=>{S.value=U,d.scene=2},Qt=async()=>{if(d.curEditedMode=="update"){const U=_.value[S.value];if(U.hash&&!U.json){let R=await sl(C.value.id,U.hash);R.code==200&&l.updateContainer(JSON.parse(R.data))}else U.hash&&U.json&&l.updateContainer(JSON.parse(U.json))}},Wt=()=>{d.scene=0,d.isPluginEdited=!1},Xt=async()=>{C.value.message=_.value;let U;if(d.curEditedMode=="add")U=await rl(C.value),te.success("添加成功！");else{if(C.value.id==""){te.error("当前的插件id未知，无法保存！");return}U=await il(C.value.id,C.value),te.success("修改成功！")}console.log(U),U.code==200&&(f("savePlugin",U.data),d.scene=0,d.isPluginEdited=!1)},Kt=(U,R)=>{_.value[R].data=U},Zt=U=>{_.value[S.value].data=U.data,_.value[S.value].hash=U.hash,U.json&&(_.value[S.value].json=U.json)},el=async(U,R)=>{R.data=U,R.hash=await jt(U),te.success("保存代码段成功，可点击此页顶端保存按钮保存插件~")},tl=async()=>{if(d.curEditedMode=="update"&&_.value.find(U=>U.type=="button"||U.type=="markdown"||U.type=="code")){let U=await ul(Object.assign(C.value,{message:_.value}));U.code==200&&(C.value=U.data,_.value=U.data.message)}},ll=U=>{if(U.type=="text"){if(_.value.find(R=>R.type=="record"||R.type=="video")){te.warning("无法在同一条消息中存在文本和该类型！");return}_.value.push({type:"text",data:""})}else if(U.type=="image"){if(_.value.find(R=>R.type=="record"||R.type=="video")){te.warning("无法在同一条消息中存在图片和该类型！");return}_.value.push({type:"image",url:"",data:"",hash:""})}else if(U.type=="face"){if(_.value.find(R=>R.type=="record"||R.type=="video")){te.warning("无法在同一条消息中存在表情和该类型！");return}_.value.push({type:"face",data:0})}else if(U.type=="markdown"){if(_.value.some(R=>R.type!=="button")){te.warning("同一条消息中仅可存在该类型和按钮！");return}_.value.push(U)}else{if(_.value.length>0){te.warning("已添加的消息类型无法和其它消息类型共存！");return}_.value.push(U)}},ue=U=>{_.value.splice(U,1)};return fe(()=>{tl()}),(U,R)=>{const O=y("el-button"),ce=y("el-card"),ke=y("el-input"),X=y("el-form-item"),pt=y("el-tooltip"),ft=y("el-option"),mt=y("el-select"),Ye=y("el-switch"),vt=y("arrow-down"),oe=y("el-icon"),ht=y("CircleCloseFilled"),_t=y("el-dropdown-item"),gt=y("el-dropdown-menu"),yt=y("el-dropdown"),bt=y("el-form"),Je=y("el-autocomplete"),nl=y("CircleCheck"),pe=y("CloseBold"),he=y("el-image"),Re=y("el-input-number"),He=y("el-popover"),ol=y("el-upload"),al=y("el-dialog");return h(),V("div",Ia,[nt(x("div",Ra,[o(ce,null,{default:s(()=>[o(O,{onClick:Wt},{default:s(()=>[k("返回")]),_:1}),o(O,{onClick:Xt},{default:s(()=>[k("保存")]),_:1})]),_:1}),o(ce,{style:{margin:"10px 0"}},{default:s(()=>[Ha,o(bt,{"label-width":"84px"},{default:s(()=>[o(X,{label:"事件类型"},{default:s(()=>[o(ke,{modelValue:C.value.event,"onUpdate:modelValue":R[0]||(R[0]=b=>C.value.event=b),placeholder:"目前暂支持message",disabled:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),o(X,{label:"定时任务"},{default:s(()=>[o(pt,{class:"box-item",effect:"dark",content:"必须关闭全局触发，会将消息推送到白名单群或用户，且消息段无法使用e变量，填了需重启机器人生效",placement:"bottom-start"},{default:s(()=>[o(ke,{modelValue:C.value.cron,"onUpdate:modelValue":R[1]||(R[1]=b=>C.value.cron=b),placeholder:"cron表达式，如：0 0 0 * * ?",disabled:C.value.isGlobal==!0,style:{width:"100%"}},null,8,["modelValue","disabled"])]),_:1})]),_:1}),o(X,{label:"正则表达式"},{default:s(()=>[o(ke,{modelValue:C.value.reg,"onUpdate:modelValue":R[2]||(R[2]=b=>C.value.reg=b),placeholder:"^hello",style:{width:"auto"}},null,8,["modelValue"]),o(mt,{modelValue:$.value,"onUpdate:modelValue":R[3]||(R[3]=b=>$.value=b),placeholder:"默认Flags",style:{width:"200px",margin:"0 5px"}},{default:s(()=>[(h(!0),V(T,null,j(G.value,(b,P)=>(h(),D(ft,{key:P,label:b.desc,value:b.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(X,{label:"延迟"},{default:s(()=>[o(ke,{modelValue:C.value.delayTime,"onUpdate:modelValue":R[4]||(R[4]=b=>C.value.delayTime=b),placeholder:"如果设置了多个相同指令插件，那么将会按照该时间顺序延迟执行（单位：毫秒）",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),o(X,{label:"@回复"},{default:s(()=>[o(Ye,{modelValue:C.value.isAt,"onUpdate:modelValue":R[5]||(R[5]=b=>C.value.isAt=b),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(X,{label:"引用回复"},{default:s(()=>[o(Ye,{modelValue:C.value.isQuote,"onUpdate:modelValue":R[6]||(R[6]=b=>C.value.isQuote=b),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(X,{label:"全局触发"},{default:s(()=>[o(Ye,{modelValue:C.value.isGlobal,"onUpdate:modelValue":R[7]||(R[7]=b=>C.value.isGlobal=b),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),o(X,{label:C.value.isGlobal?"黑名单群":"白名单群"},{default:s(()=>[o(ke,{modelValue:g.value,"onUpdate:modelValue":R[8]||(R[8]=b=>g.value=b),placeholder:"群号",style:{width:"100px"}},null,8,["modelValue"]),o(O,{icon:"Plus",onClick:xe,style:{"margin-left":"10px"}}),C.value.groups.length>0?(h(),D(yt,{key:0,"max-height":"200px",style:{"margin-left":"10px"}},{dropdown:s(()=>[o(gt,null,{default:s(()=>[(h(!0),V(T,null,j(C.value.groups,(b,P)=>(h(),D(_t,{key:P},{default:s(()=>[k(Z(b)+" ",1),o(oe,{class:"el-icon--right",onClick:H=>dt(P)},{default:s(()=>[o(ht)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),default:s(()=>[o(O,null,{default:s(()=>[o(oe,null,{default:s(()=>[o(vt)]),_:1})]),_:1})]),_:1})):B("",!0)]),_:1},8,["label"]),o(X,{label:C.value.isGlobal?"黑名单用户":"白名单用户"},{default:s(()=>[o(ke,{modelValue:w.value,"onUpdate:modelValue":R[9]||(R[9]=b=>w.value=b),placeholder:"好友",style:{width:"100px"}},null,8,["modelValue"]),o(O,{icon:"Plus",onClick:Gt,style:{"margin-left":"10px"}}),C.value.friends.length>0?(h(),D(yt,{key:0,"max-height":"200px",style:{"margin-left":"10px"}},{dropdown:s(()=>[o(gt,null,{default:s(()=>[(h(!0),V(T,null,j(C.value.friends,(b,P)=>(h(),D(_t,{key:P},{default:s(()=>[k(Z(b)+" ",1),o(oe,{class:"el-icon--right",onClick:H=>Yt(P)},{default:s(()=>[o(ht)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),default:s(()=>[o(O,null,{default:s(()=>[o(oe,null,{default:s(()=>[o(vt)]),_:1})]),_:1})]),_:1})):B("",!0)]),_:1},8,["label"])]),_:1})]),_:1}),o(ce,{style:{margin:"10px 0"}},{default:s(()=>[x("div",qa,[o(pt,{class:"box-item",effect:"dark",content:"注意：该卡片内的所有消息均为同一条消息，这意味这你可以同时添加文字和多张图片，但是受平台限制音视频需要单独发送！",placement:"top-start"},{default:s(()=>[Aa]),_:1}),o(mt,{onChange:ll,placeholder:"添加消息",style:{width:"150px",margin:"0 5px"}},{default:s(()=>[(h(!0),V(T,null,j(z.value,(b,P)=>(h(),D(ft,{key:P,label:b.type,value:b.default},null,8,["label","value"]))),128))]),_:1})]),o(bt,{style:{"margin-bottom":"100px"}},{default:s(()=>[(h(!0),V(T,null,j(_.value,(b,P)=>(h(),V("div",{key:P},[b.type=="text"?(h(),D(X,{key:0,label:"文本"},{default:s(()=>[x("div",Da,[o(oa,{width:"100%",cusInputValue:v["index"+P],onInnerText:H=>Kt(H,P)},null,8,["cusInputValue","onInnerText"]),o(O,{style:{"margin-left":"10px"},onClick:H=>ue(P),icon:"CloseBold"},null,8,["onClick"])])]),_:2},1024)):B("",!0),b.type=="image"?(h(),D(X,{key:1,label:"图片"},{default:s(()=>[x("div",Ta,[o(Je,{modelValue:b.url,"onUpdate:modelValue":H=>b.url=H,"fetch-suggestions":W,clearable:"",disabled:b.hash!="",placeholder:"http://或https://或file://"},null,8,["modelValue","onUpdate:modelValue","disabled"]),o(O,{style:{"margin-left":"10px"},onClick:H=>E(P,b.type),disabled:b.url!=""||b.hash!=""},{default:s(()=>[k(" 上传图片 ")]),_:2},1032,["onClick","disabled"]),o(O,{style:{"margin-left":"10px"},onClick:H=>Jt(P,b),disabled:b.url!=""},{default:s(()=>[b.hash?(h(),D(oe,{key:0},{default:s(()=>[o(nl,{color:"rgb(103,158,255)"})]),_:1})):(h(),V("span",La,"在线制作"))]),_:2},1032,["onClick","disabled"]),o(O,{style:{"margin-left":"10px"},onClick:H=>ue(P)},{default:s(()=>[o(oe,null,{default:s(()=>[o(pe)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):B("",!0),b.type=="record"?(h(),D(X,{key:2,label:"音频"},{default:s(()=>[x("div",Pa,[o(Je,{modelValue:b.url,"onUpdate:modelValue":H=>b.url=H,"fetch-suggestions":W,clearable:"",placeholder:"http://或https://或file://"},null,8,["modelValue","onUpdate:modelValue"]),o(O,{style:{"margin-left":"10px"},onClick:H=>E(P,b.type),disabled:b.url!=""},{default:s(()=>[k(" 上传音频 ")]),_:2},1032,["onClick","disabled"]),o(O,{style:{"margin-left":"10px"},onClick:H=>ue(P)},{default:s(()=>[o(oe,null,{default:s(()=>[o(pe)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):B("",!0),(b==null?void 0:b.type)=="video"?(h(),D(X,{key:3,label:"视频"},{default:s(()=>[x("div",Fa,[o(Je,{modelValue:b.url,"onUpdate:modelValue":H=>b.url=H,"fetch-suggestions":W,clearable:"",placeholder:"http://或https://或file://"},null,8,["modelValue","onUpdate:modelValue"]),o(O,{style:{"margin-left":"10px"},onClick:H=>E(P,b.type),disabled:b.url!=""},{default:s(()=>[k(" 上传视频 ")]),_:2},1032,["onClick","disabled"]),o(O,{style:{"margin-left":"10px"},onClick:H=>ue(P)},{default:s(()=>[o(oe,null,{default:s(()=>[o(pe)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):B("",!0),(b==null?void 0:b.type)=="face"?(h(),D(X,{key:4,label:"表情"},{default:s(()=>[x("div",Oa,[o(He,{placement:"top-start",title:"QQFaces",width:300,trigger:"hover"},{reference:s(()=>[o(Re,{modelValue:b.data,"onUpdate:modelValue":H=>b.data=H},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[x("div",Ba,[(h(!0),V(T,null,j(M(Il),H=>(h(),D(he,{class:"face-image",key:H.QSid,src:`/qfaces/s${H.QSid}.gif`,onClick:Ce=>(b.data=Number(H.QSid),_.value[P].path=`/qfaces/s${H.QSid}.gif`)},null,8,["src","onClick"]))),128))])]),_:2},1024),_.value[P].path?(h(),D(O,{key:0},{default:s(()=>[(h(),D(he,{class:"face-image",key:P,src:_.value[P].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):B("",!0),o(O,{style:{"margin-left":"10px"},onClick:H=>ue(P)},{default:s(()=>[o(oe,null,{default:s(()=>[o(pe)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):B("",!0),(b==null?void 0:b.type)=="poke"?(h(),D(X,{key:5,label:"戳一戳"},{default:s(()=>[x("div",ja,[o(He,{placement:"top-start",title:"戳一戳类型",width:220,trigger:"hover"},{reference:s(()=>[o(Re,{modelValue:b.data,"onUpdate:modelValue":H=>b.data=H,min:0,max:6},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[x("div",Na,[(h(),V(T,null,j(6,(H,Ce)=>o(he,{class:"face-image",key:Ce,src:`/qpoke/${H}.gif`,style:{width:"50px",height:"50px"},onClick:wt=>(b.data=Number(H),_.value[P].path=`/qpoke/${H}.gif`)},null,8,["src","onClick"])),64))])]),_:2},1024),_.value[P].path?(h(),D(O,{key:0},{default:s(()=>[(h(),D(he,{class:"face-image",key:P,src:_.value[P].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):B("",!0),o(O,{style:{"margin-left":"10px"},onClick:H=>ue(P)},{default:s(()=>[o(oe,null,{default:s(()=>[o(pe)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):B("",!0),(b==null?void 0:b.type)=="dice"?(h(),D(X,{key:6,label:"骰子"},{default:s(()=>[x("div",Ga,[o(He,{placement:"top-start",title:"骰子(协议端不一定可用)",width:220,trigger:"hover"},{reference:s(()=>[o(Re,{modelValue:b.data,"onUpdate:modelValue":H=>b.data=H,min:0,max:6},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[x("div",Ya,[(h(),V(T,null,j(6,(H,Ce)=>o(he,{class:"face-image",key:Ce,src:`/dice/${H}.png`,style:{width:"50px",height:"50px"},onClick:wt=>(b.data=Number(H),_.value[P].path=`/dice/${H}.png`)},null,8,["src","onClick"])),64))])]),_:2},1024),_.value[P].path?(h(),D(O,{key:0},{default:s(()=>[(h(),D(he,{class:"face-image",key:P,src:_.value[P].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):B("",!0),o(O,{style:{"margin-left":"10px"},onClick:H=>ue(P)},{default:s(()=>[o(oe,null,{default:s(()=>[o(pe)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):B("",!0),(b==null?void 0:b.type)=="rps"?(h(),D(X,{key:7,label:"猜拳"},{default:s(()=>[x("div",Ja,[o(He,{placement:"top-start",title:"猜拳(协议端不一定可用)",width:220,trigger:"hover"},{reference:s(()=>[o(Re,{modelValue:b.data,"onUpdate:modelValue":H=>b.data=H,min:0,max:6},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[x("div",Qa,[(h(),V(T,null,j(3,(H,Ce)=>o(he,{class:"face-image",key:Ce,src:`/rps/${H}.png`,style:{width:"50px",height:"50px"},onClick:wt=>(b.data=Number(H),_.value[P].path=`/rps/${H}.png`)},null,8,["src","onClick"])),64))])]),_:2},1024),_.value[P].path?(h(),D(O,{key:0},{default:s(()=>[(h(),D(he,{class:"face-image",key:P,src:_.value[P].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):B("",!0),o(O,{style:{"margin-left":"10px"},onClick:H=>ue(P)},{default:s(()=>[o(oe,null,{default:s(()=>[o(pe)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):B("",!0),(b==null?void 0:b.type)=="markdown"?(h(),D(X,{key:8},{default:s(()=>[x("div",Wa,[k("Markdown "),o(O,{style:{"margin-left":"10px"},size:"small",onClick:H=>ue(P)},{default:s(()=>[o(oe,null,{default:s(()=>[o(pe)]),_:1})]),_:2},1032,["onClick"])]),x("div",Xa,[o(Ua,{"md-content":b.content},null,8,["md-content"])])]),_:2},1024)):B("",!0),(b==null?void 0:b.type)=="button"?(h(),D(X,{key:9},{default:s(()=>[x("div",Ka,[k("按钮(icqq) "),o(O,{style:{"margin-left":"10px"},size:"small",onClick:H=>ue(P)},{default:s(()=>[o(oe,null,{default:s(()=>[o(pe)]),_:1})]),_:2},1032,["onClick"])]),x("div",Za,[o(Va,{"btn-content":b.content,"onUpdate:btnContent":H=>b.content=H},null,8,["btn-content","onUpdate:btnContent"])])]),_:2},1024)):B("",!0),(b==null?void 0:b.type)=="code"?(h(),D(X,{key:10},{default:s(()=>[x("div",es,[k("自定义代码 "),o(O,{style:{"margin-left":"10px"},size:"small",onClick:H=>ue(P)},{default:s(()=>[o(oe,null,{default:s(()=>[o(pe)]),_:1})]),_:2},1032,["onClick"])]),o(Et,{code:b.data,ext:"js",onGetCode:H=>el(H,b)},null,8,["code","onGetCode"])]),_:2},1024)):B("",!0)]))),128))]),_:1})]),_:1})],512),[[ot,M(d).scene==1]]),o(al,{modelValue:a.value,"onUpdate:modelValue":R[11]||(R[11]=b=>a.value=b),title:"请上传文件！"},{footer:s(()=>[o(O,{type:"primary",size:"default",onClick:L},{default:s(()=>[k(" 确认提交 ")]),_:1})]),default:s(()=>[o(ol,{class:"file_uploader",action:"/api/fs/upload",multiple:"",ref_key:"uploadRef",ref:c,"file-list":i.value,"onUpdate:fileList":R[10]||(R[10]=b=>i.value=b),data:r,"show-file-list":!0,"on-preview":J,"on-success":N,"before-upload":q,"auto-upload":!1},{trigger:s(()=>[o(O,{type:"primary"},{default:s(()=>[k("选择文件")]),_:1})]),_:1},8,["file-list","data"])]),_:1},8,["modelValue"]),M(d).scene==2?(h(),V("div",ts,[o(ce,null,{default:s(()=>[o(ea,{onOuterHTML:Zt,onMounted:Qt})]),_:1})])):B("",!0)])}}});const ns=ne(ls,[["__scopeId","data-v-526d8e32"]]),os=e=>(it("data-v-024dea71"),e=e(),ut(),e),as={key:0,class:"plugins_box"},ss={class:"top_bar"},rs=os(()=>x("div",{class:"sub-title"},"指令列表",-1)),is={style:{"font-size":"12px"}},us={style:{"font-size":"12px"}},cs={key:1,class:"Plugin_editor"},ds=Y({__name:"index",setup(e){const t=lt(),n=A([]),l=A({id:""});fe(()=>{a()});const a=async()=>{let d=await cl();console.log(d),d.code==200&&(n.value=d.data)},r=()=>{t.isPluginEdited=!0,t.scene=1,t.curEditedMode="add",l.value.id=Rl(),t.curPluginId=l.value.id},i=async d=>{t.isPluginEdited=!0,t.scene=1,t.curEditedMode="update",l.value=n.value[d]},u=d=>{n.value=d},c=async d=>{let f=await dl(d);console.log(f),f.code==200&&(n.value=f.data)};return(d,f)=>{const m=y("el-button"),v=y("el-table-column"),p=y("el-popconfirm"),g=y("el-table"),w=y("el-card");return h(),V(T,null,[M(t).scene==0?(h(),V("div",as,[o(w,null,{default:s(()=>[x("div",ss,[rs,o(m,{type:"primary",icon:"Plus",onClick:r},{default:s(()=>[k(" 添加指令 ")]),_:1})]),o(g,{data:n.value},{default:s(()=>[o(v,{type:"index",label:"#"}),o(v,{label:"指令"},{default:s(({row:$,$index:S})=>[k(Z($.reg),1)]),_:1}),o(v,{label:"消息类型"},{default:s(({row:$,$index:S})=>[x("span",is,"["+Z($.message.map(_=>_.type).join(","))+"]",1)]),_:1}),o(v,{label:"创建时间"},{default:s(({row:$,$index:S})=>[x("span",us,Z($.id),1)]),_:1}),o(v,{label:"操作",fixed:"right","min-width":"120px"},{default:s(({row:$,$index:S})=>[o(m,{type:"primary",size:"small",icon:"Edit",onClick:_=>i(S)},null,8,["onClick"]),o(p,{title:"删除后不可恢复，您确定吗？",onConfirm:_=>c(S)},{reference:s(()=>[o(m,{type:"primary",size:"small",icon:"Delete"})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1})])):B("",!0),M(t).isPluginEdited?(h(),V("div",cs,[o(ns,{editedPluginValue:l.value,onSavePlugin:u},null,8,["editedPluginValue"])])):B("",!0)],64)}}});const ys=ne(ds,[["__scopeId","data-v-024dea71"]]);export{ys as default};
