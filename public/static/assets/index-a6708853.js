import{a as zt,b as il,c as dl,d as cl,e as pl,f as fl,g as ml}from"./index-306199eb.js";import{u as ft}from"./dev-d9cc3cf4.js";import{a as J,k as R,ab as j,p as mt,v as vt,o as h,c as V,P as K,_ as te,ak as vl,al as de,b as w,e as N,l as ke,E as ht,y as $,t as ne,A as ye,r as y,i as n,w as s,F as B,g as Y,u as S,am as Ut,h as q,j as Ze,an as Ce,B as ve,C as et,D as tt,ag as he,ao as hl,ap as we,G as Ie,aq as st,ar as gl,n as Ft,as as _l,at as Lt,au as gt,O as lt,av as bl,aw as yl,ax as wl,ay as xl,ae as Tt,az as kl,z as ge,aA as Cl,aB as Vl,aC as $l,aD as Sl,aE as Ml,aF as zl,aG as Ul,aH as El,aI as Il,aJ as Hl,ai as ae}from"./index-a5da050d.js";import{E as qt}from"./codeEditor-1ef75375.js";import{_ as Rl}from"./index.vue_vue_type_script_setup_true_lang-3dcc76fd.js";import{f as Dl}from"./data-10fa9501.js";import{a as Fl}from"./time-194208a7.js";const Ll=J({__name:"Area",emits:["move","up"],setup(e,{expose:t,emit:o}){const l=o,a=R(!1),u=R({width:0,height:0,top:0,left:0}),r=j(()=>{const{width:d,height:p,top:f,left:v}=u.value;return{width:d+"px",height:p+"px",top:f+"px",left:v+"px"}});function i(d){const{pageX:p,pageY:f}=d,v=d.target.getBoundingClientRect(),m=p-v.left,c=f-v.top,_=z=>{const g=z.pageX-p,b=z.pageY-f;let I=m,H=c,A=Math.abs(g),P=Math.abs(b);(A>2||P>2)&&(a.value=!0),g<0&&(I=m-A),b<0&&(H=c-P),u.value={width:A,height:P,left:I,top:H},l("move",{...u.value})},x=()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",x),a.value=!1,u.value={width:0,height:0,top:0,left:0},l("up",u.value)};document.addEventListener("mousemove",_),document.addEventListener("mouseup",x)}return t({onMouseDown:i,areaData:u}),(d,p)=>mt((h(),V("div",{class:"es-editor-area",style:K(r.value)},null,4)),[[vt,a.value]])}}),Tl=te(Ll,[["__scopeId","data-v-f8facc6a"]]);var Bt={exports:{}},At={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Pt={exports:{}},ql=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},Bl=ql,Al=Array.prototype.concat,Pl=Array.prototype.slice,Et=Pt.exports=function(t){for(var o=[],l=0,a=t.length;l<a;l++){var u=t[l];Bl(u)?o=Al.call(o,Pl.call(u)):o.push(u)}return o};Et.wrap=function(e){return function(){return e(Et(arguments))}};var Ol=Pt.exports,Re=At,Fe=Ol,Ot=Object.hasOwnProperty,jt=Object.create(null);for(var rt in Re)Ot.call(Re,rt)&&(jt[Re[rt]]=rt);var ie=Bt.exports={to:{},get:{}};ie.get=function(e){var t=e.substring(0,3).toLowerCase(),o,l;switch(t){case"hsl":o=ie.get.hsl(e),l="hsl";break;case"hwb":o=ie.get.hwb(e),l="hwb";break;default:o=ie.get.rgb(e),l="rgb";break}return o?{model:l,value:o}:null};ie.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,o=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,l=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,u=/^(\w+)$/,r=[0,0,0,1],i,d,p;if(i=e.match(o)){for(p=i[2],i=i[1],d=0;d<3;d++){var f=d*2;r[d]=parseInt(i.slice(f,f+2),16)}p&&(r[3]=parseInt(p,16)/255)}else if(i=e.match(t)){for(i=i[1],p=i[3],d=0;d<3;d++)r[d]=parseInt(i[d]+i[d],16);p&&(r[3]=parseInt(p+p,16)/255)}else if(i=e.match(l)){for(d=0;d<3;d++)r[d]=parseInt(i[d+1],0);i[4]&&(i[5]?r[3]=parseFloat(i[4])*.01:r[3]=parseFloat(i[4]))}else if(i=e.match(a)){for(d=0;d<3;d++)r[d]=Math.round(parseFloat(i[d+1])*2.55);i[4]&&(i[5]?r[3]=parseFloat(i[4])*.01:r[3]=parseFloat(i[4]))}else return(i=e.match(u))?i[1]==="transparent"?[0,0,0,0]:Ot.call(Re,i[1])?(r=Re[i[1]],r[3]=1,r):null:null;for(d=0;d<3;d++)r[d]=xe(r[d],0,255);return r[3]=xe(r[3],0,1),r};ie.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,o=e.match(t);if(o){var l=parseFloat(o[4]),a=(parseFloat(o[1])%360+360)%360,u=xe(parseFloat(o[2]),0,100),r=xe(parseFloat(o[3]),0,100),i=xe(isNaN(l)?1:l,0,1);return[a,u,r,i]}return null};ie.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,o=e.match(t);if(o){var l=parseFloat(o[4]),a=(parseFloat(o[1])%360+360)%360,u=xe(parseFloat(o[2]),0,100),r=xe(parseFloat(o[3]),0,100),i=xe(isNaN(l)?1:l,0,1);return[a,u,r,i]}return null};ie.to.hex=function(){var e=Fe(arguments);return"#"+Pe(e[0])+Pe(e[1])+Pe(e[2])+(e[3]<1?Pe(Math.round(e[3]*255)):"")};ie.to.rgb=function(){var e=Fe(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};ie.to.rgb.percent=function(){var e=Fe(arguments),t=Math.round(e[0]/255*100),o=Math.round(e[1]/255*100),l=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+o+"%, "+l+"%)":"rgba("+t+"%, "+o+"%, "+l+"%, "+e[3]+")"};ie.to.hsl=function(){var e=Fe(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};ie.to.hwb=function(){var e=Fe(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};ie.to.keyword=function(e){return jt[e.slice(0,3)]};function xe(e,t,o){return Math.min(Math.max(t,e),o)}function Pe(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var jl=Bt.exports;const De=At,Nt={};for(const e of Object.keys(De))Nt[De[e]]=e;const D={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var Gt=D;for(const e of Object.keys(D)){if(!("channels"in D[e]))throw new Error("missing channels property: "+e);if(!("labels"in D[e]))throw new Error("missing channel labels property: "+e);if(D[e].labels.length!==D[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:o}=D[e];delete D[e].channels,delete D[e].labels,Object.defineProperty(D[e],"channels",{value:t}),Object.defineProperty(D[e],"labels",{value:o})}D.rgb.hsl=function(e){const t=e[0]/255,o=e[1]/255,l=e[2]/255,a=Math.min(t,o,l),u=Math.max(t,o,l),r=u-a;let i,d;u===a?i=0:t===u?i=(o-l)/r:o===u?i=2+(l-t)/r:l===u&&(i=4+(t-o)/r),i=Math.min(i*60,360),i<0&&(i+=360);const p=(a+u)/2;return u===a?d=0:p<=.5?d=r/(u+a):d=r/(2-u-a),[i,d*100,p*100]};D.rgb.hsv=function(e){let t,o,l,a,u;const r=e[0]/255,i=e[1]/255,d=e[2]/255,p=Math.max(r,i,d),f=p-Math.min(r,i,d),v=function(m){return(p-m)/6/f+1/2};return f===0?(a=0,u=0):(u=f/p,t=v(r),o=v(i),l=v(d),r===p?a=l-o:i===p?a=1/3+t-l:d===p&&(a=2/3+o-t),a<0?a+=1:a>1&&(a-=1)),[a*360,u*100,p*100]};D.rgb.hwb=function(e){const t=e[0],o=e[1];let l=e[2];const a=D.rgb.hsl(e)[0],u=1/255*Math.min(t,Math.min(o,l));return l=1-1/255*Math.max(t,Math.max(o,l)),[a,u*100,l*100]};D.rgb.cmyk=function(e){const t=e[0]/255,o=e[1]/255,l=e[2]/255,a=Math.min(1-t,1-o,1-l),u=(1-t-a)/(1-a)||0,r=(1-o-a)/(1-a)||0,i=(1-l-a)/(1-a)||0;return[u*100,r*100,i*100,a*100]};function Nl(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}D.rgb.keyword=function(e){const t=Nt[e];if(t)return t;let o=1/0,l;for(const a of Object.keys(De)){const u=De[a],r=Nl(e,u);r<o&&(o=r,l=a)}return l};D.keyword.rgb=function(e){return De[e]};D.rgb.xyz=function(e){let t=e[0]/255,o=e[1]/255,l=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,l=l>.04045?((l+.055)/1.055)**2.4:l/12.92;const a=t*.4124+o*.3576+l*.1805,u=t*.2126+o*.7152+l*.0722,r=t*.0193+o*.1192+l*.9505;return[a*100,u*100,r*100]};D.rgb.lab=function(e){const t=D.rgb.xyz(e);let o=t[0],l=t[1],a=t[2];o/=95.047,l/=100,a/=108.883,o=o>.008856?o**(1/3):7.787*o+16/116,l=l>.008856?l**(1/3):7.787*l+16/116,a=a>.008856?a**(1/3):7.787*a+16/116;const u=116*l-16,r=500*(o-l),i=200*(l-a);return[u,r,i]};D.hsl.rgb=function(e){const t=e[0]/360,o=e[1]/100,l=e[2]/100;let a,u,r;if(o===0)return r=l*255,[r,r,r];l<.5?a=l*(1+o):a=l+o-l*o;const i=2*l-a,d=[0,0,0];for(let p=0;p<3;p++)u=t+1/3*-(p-1),u<0&&u++,u>1&&u--,6*u<1?r=i+(a-i)*6*u:2*u<1?r=a:3*u<2?r=i+(a-i)*(2/3-u)*6:r=i,d[p]=r*255;return d};D.hsl.hsv=function(e){const t=e[0];let o=e[1]/100,l=e[2]/100,a=o;const u=Math.max(l,.01);l*=2,o*=l<=1?l:2-l,a*=u<=1?u:2-u;const r=(l+o)/2,i=l===0?2*a/(u+a):2*o/(l+o);return[t,i*100,r*100]};D.hsv.rgb=function(e){const t=e[0]/60,o=e[1]/100;let l=e[2]/100;const a=Math.floor(t)%6,u=t-Math.floor(t),r=255*l*(1-o),i=255*l*(1-o*u),d=255*l*(1-o*(1-u));switch(l*=255,a){case 0:return[l,d,r];case 1:return[i,l,r];case 2:return[r,l,d];case 3:return[r,i,l];case 4:return[d,r,l];case 5:return[l,r,i]}};D.hsv.hsl=function(e){const t=e[0],o=e[1]/100,l=e[2]/100,a=Math.max(l,.01);let u,r;r=(2-o)*l;const i=(2-o)*a;return u=o*a,u/=i<=1?i:2-i,u=u||0,r/=2,[t,u*100,r*100]};D.hwb.rgb=function(e){const t=e[0]/360;let o=e[1]/100,l=e[2]/100;const a=o+l;let u;a>1&&(o/=a,l/=a);const r=Math.floor(6*t),i=1-l;u=6*t-r,r&1&&(u=1-u);const d=o+u*(i-o);let p,f,v;switch(r){default:case 6:case 0:p=i,f=d,v=o;break;case 1:p=d,f=i,v=o;break;case 2:p=o,f=i,v=d;break;case 3:p=o,f=d,v=i;break;case 4:p=d,f=o,v=i;break;case 5:p=i,f=o,v=d;break}return[p*255,f*255,v*255]};D.cmyk.rgb=function(e){const t=e[0]/100,o=e[1]/100,l=e[2]/100,a=e[3]/100,u=1-Math.min(1,t*(1-a)+a),r=1-Math.min(1,o*(1-a)+a),i=1-Math.min(1,l*(1-a)+a);return[u*255,r*255,i*255]};D.xyz.rgb=function(e){const t=e[0]/100,o=e[1]/100,l=e[2]/100;let a,u,r;return a=t*3.2406+o*-1.5372+l*-.4986,u=t*-.9689+o*1.8758+l*.0415,r=t*.0557+o*-.204+l*1.057,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,a=Math.min(Math.max(0,a),1),u=Math.min(Math.max(0,u),1),r=Math.min(Math.max(0,r),1),[a*255,u*255,r*255]};D.xyz.lab=function(e){let t=e[0],o=e[1],l=e[2];t/=95.047,o/=100,l/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;const a=116*o-16,u=500*(t-o),r=200*(o-l);return[a,u,r]};D.lab.xyz=function(e){const t=e[0],o=e[1],l=e[2];let a,u,r;u=(t+16)/116,a=o/500+u,r=u-l/200;const i=u**3,d=a**3,p=r**3;return u=i>.008856?i:(u-16/116)/7.787,a=d>.008856?d:(a-16/116)/7.787,r=p>.008856?p:(r-16/116)/7.787,a*=95.047,u*=100,r*=108.883,[a,u,r]};D.lab.lch=function(e){const t=e[0],o=e[1],l=e[2];let a;a=Math.atan2(l,o)*360/2/Math.PI,a<0&&(a+=360);const r=Math.sqrt(o*o+l*l);return[t,r,a]};D.lch.lab=function(e){const t=e[0],o=e[1],a=e[2]/360*2*Math.PI,u=o*Math.cos(a),r=o*Math.sin(a);return[t,u,r]};D.rgb.ansi16=function(e,t=null){const[o,l,a]=e;let u=t===null?D.rgb.hsv(e)[2]:t;if(u=Math.round(u/50),u===0)return 30;let r=30+(Math.round(a/255)<<2|Math.round(l/255)<<1|Math.round(o/255));return u===2&&(r+=60),r};D.hsv.ansi16=function(e){return D.rgb.ansi16(D.hsv.rgb(e),e[2])};D.rgb.ansi256=function(e){const t=e[0],o=e[1],l=e[2];return t===o&&o===l?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(o/255*5)+Math.round(l/255*5)};D.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const o=(~~(e>50)+1)*.5,l=(t&1)*o*255,a=(t>>1&1)*o*255,u=(t>>2&1)*o*255;return[l,a,u]};D.ansi256.rgb=function(e){if(e>=232){const u=(e-232)*10+8;return[u,u,u]}e-=16;let t;const o=Math.floor(e/36)/5*255,l=Math.floor((t=e%36)/6)/5*255,a=t%6/5*255;return[o,l,a]};D.rgb.hex=function(e){const o=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(o.length)+o};D.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let o=t[0];t[0].length===3&&(o=o.split("").map(i=>i+i).join(""));const l=parseInt(o,16),a=l>>16&255,u=l>>8&255,r=l&255;return[a,u,r]};D.rgb.hcg=function(e){const t=e[0]/255,o=e[1]/255,l=e[2]/255,a=Math.max(Math.max(t,o),l),u=Math.min(Math.min(t,o),l),r=a-u;let i,d;return r<1?i=u/(1-r):i=0,r<=0?d=0:a===t?d=(o-l)/r%6:a===o?d=2+(l-t)/r:d=4+(t-o)/r,d/=6,d%=1,[d*360,r*100,i*100]};D.hsl.hcg=function(e){const t=e[1]/100,o=e[2]/100,l=o<.5?2*t*o:2*t*(1-o);let a=0;return l<1&&(a=(o-.5*l)/(1-l)),[e[0],l*100,a*100]};D.hsv.hcg=function(e){const t=e[1]/100,o=e[2]/100,l=t*o;let a=0;return l<1&&(a=(o-l)/(1-l)),[e[0],l*100,a*100]};D.hcg.rgb=function(e){const t=e[0]/360,o=e[1]/100,l=e[2]/100;if(o===0)return[l*255,l*255,l*255];const a=[0,0,0],u=t%1*6,r=u%1,i=1-r;let d=0;switch(Math.floor(u)){case 0:a[0]=1,a[1]=r,a[2]=0;break;case 1:a[0]=i,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=r;break;case 3:a[0]=0,a[1]=i,a[2]=1;break;case 4:a[0]=r,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=i}return d=(1-o)*l,[(o*a[0]+d)*255,(o*a[1]+d)*255,(o*a[2]+d)*255]};D.hcg.hsv=function(e){const t=e[1]/100,o=e[2]/100,l=t+o*(1-t);let a=0;return l>0&&(a=t/l),[e[0],a*100,l*100]};D.hcg.hsl=function(e){const t=e[1]/100,l=e[2]/100*(1-t)+.5*t;let a=0;return l>0&&l<.5?a=t/(2*l):l>=.5&&l<1&&(a=t/(2*(1-l))),[e[0],a*100,l*100]};D.hcg.hwb=function(e){const t=e[1]/100,o=e[2]/100,l=t+o*(1-t);return[e[0],(l-t)*100,(1-l)*100]};D.hwb.hcg=function(e){const t=e[1]/100,l=1-e[2]/100,a=l-t;let u=0;return a<1&&(u=(l-a)/(1-a)),[e[0],a*100,u*100]};D.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};D.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};D.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};D.gray.hsl=function(e){return[0,0,e[0]]};D.gray.hsv=D.gray.hsl;D.gray.hwb=function(e){return[0,100,e[0]]};D.gray.cmyk=function(e){return[0,0,0,e[0]]};D.gray.lab=function(e){return[e[0],0,0]};D.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,l=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(l.length)+l};D.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const Qe=Gt;function Gl(){const e={},t=Object.keys(Qe);for(let o=t.length,l=0;l<o;l++)e[t[l]]={distance:-1,parent:null};return e}function Yl(e){const t=Gl(),o=[e];for(t[e].distance=0;o.length;){const l=o.pop(),a=Object.keys(Qe[l]);for(let u=a.length,r=0;r<u;r++){const i=a[r],d=t[i];d.distance===-1&&(d.distance=t[l].distance+1,d.parent=l,o.unshift(i))}}return t}function Jl(e,t){return function(o){return t(e(o))}}function Wl(e,t){const o=[t[e].parent,e];let l=Qe[t[e].parent][e],a=t[e].parent;for(;t[a].parent;)o.unshift(t[a].parent),l=Jl(Qe[t[a].parent][a],l),a=t[a].parent;return l.conversion=o,l}var Ql=function(e){const t=Yl(e),o={},l=Object.keys(t);for(let a=l.length,u=0;u<a;u++){const r=l[u];t[r].parent!==null&&(o[r]=Wl(r,t))}return o};const dt=Gt,Xl=Ql,ze={},Kl=Object.keys(dt);function Zl(e){const t=function(...o){const l=o[0];return l==null?l:(l.length>1&&(o=l),e(o))};return"conversion"in e&&(t.conversion=e.conversion),t}function en(e){const t=function(...o){const l=o[0];if(l==null)return l;l.length>1&&(o=l);const a=e(o);if(typeof a=="object")for(let u=a.length,r=0;r<u;r++)a[r]=Math.round(a[r]);return a};return"conversion"in e&&(t.conversion=e.conversion),t}Kl.forEach(e=>{ze[e]={},Object.defineProperty(ze[e],"channels",{value:dt[e].channels}),Object.defineProperty(ze[e],"labels",{value:dt[e].labels});const t=Xl(e);Object.keys(t).forEach(l=>{const a=t[l];ze[e][l]=en(a),ze[e][l].raw=Zl(a)})});var tn=ze;const Ue=jl,ue=tn,Yt=["keyword","gray","hex"],ct={};for(const e of Object.keys(ue))ct[[...ue[e].labels].sort().join("")]=e;const Xe={};function oe(e,t){if(!(this instanceof oe))return new oe(e,t);if(t&&t in Yt&&(t=null),t&&!(t in ue))throw new Error("Unknown model: "+t);let o,l;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof oe)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const a=Ue.get(e);if(a===null)throw new Error("Unable to parse color from string: "+e);this.model=a.model,l=ue[this.model].channels,this.color=a.value.slice(0,l),this.valpha=typeof a.value[l]=="number"?a.value[l]:1}else if(e.length>0){this.model=t||"rgb",l=ue[this.model].channels;const a=Array.prototype.slice.call(e,0,l);this.color=pt(a,l),this.valpha=typeof e[l]=="number"?e[l]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const a=Object.keys(e);"alpha"in e&&(a.splice(a.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const u=a.sort().join("");if(!(u in ct))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=ct[u];const{labels:r}=ue[this.model],i=[];for(o=0;o<r.length;o++)i.push(e[r[o]]);this.color=pt(i)}if(Xe[this.model])for(l=ue[this.model].channels,o=0;o<l;o++){const a=Xe[this.model][o];a&&(this.color[o]=a(this.color[o]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}oe.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in Ue.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const o=t.valpha===1?t.color:[...t.color,this.valpha];return Ue.to[t.model](o)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),o=t.valpha===1?t.color:[...t.color,this.valpha];return Ue.to.rgb.percent(o)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=ue[this.model],{labels:o}=ue[this.model];for(let l=0;l<t;l++)e[o[l]]=this.color[l];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new oe([...this.color.map(nn(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new oe([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:X("rgb",0,le(255)),green:X("rgb",1,le(255)),blue:X("rgb",2,le(255)),hue:X(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:X("hsl",1,le(100)),lightness:X("hsl",2,le(100)),saturationv:X("hsv",1,le(100)),value:X("hsv",2,le(100)),chroma:X("hcg",1,le(100)),gray:X("hcg",2,le(100)),white:X("hwb",1,le(100)),wblack:X("hwb",2,le(100)),cyan:X("cmyk",0,le(100)),magenta:X("cmyk",1,le(100)),yellow:X("cmyk",2,le(100)),black:X("cmyk",3,le(100)),x:X("xyz",0,le(95.047)),y:X("xyz",1,le(100)),z:X("xyz",2,le(108.833)),l:X("lab",0,le(100)),a:X("lab",1),b:X("lab",2),keyword(e){return e!==void 0?new oe(e):ue[this.model].keyword(this.color)},hex(e){return e!==void 0?new oe(e):Ue.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new oe(e);const t=this.rgb().round().color;let o=Math.round(this.valpha*255).toString(16).toUpperCase();return o.length===1&&(o="0"+o),Ue.to.hex(t)+o},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[o,l]of e.entries()){const a=l/255;t[o]=a<=.04045?a/12.92:((a+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),o=e.luminosity();return t>o?(t+.05)/(o+.05):(o+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return oe.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let o=t.color[0];return o=(o+e)%360,o=o<0?360+o:o,t.color[0]=o,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const o=e.rgb(),l=this.rgb(),a=t===void 0?.5:t,u=2*a-1,r=o.alpha()-l.alpha(),i=((u*r===-1?u:(u+r)/(1+u*r))+1)/2,d=1-i;return oe.rgb(i*o.red()+d*l.red(),i*o.green()+d*l.green(),i*o.blue()+d*l.blue(),o.alpha()*a+l.alpha()*(1-a))}};for(const e of Object.keys(ue)){if(Yt.includes(e))continue;const{channels:t}=ue[e];oe.prototype[e]=function(...o){return this.model===e?new oe(this):o.length>0?new oe(o,e):new oe([...on(ue[this.model][e].raw(this.color)),this.valpha],e)},oe[e]=function(...o){let l=o[0];return typeof l=="number"&&(l=pt(o,t)),new oe(l,e)}}function ln(e,t){return Number(e.toFixed(t))}function nn(e){return function(t){return ln(t,e)}}function X(e,t,o){e=Array.isArray(e)?e:[e];for(const l of e)(Xe[l]||(Xe[l]=[]))[t]=o;return e=e[0],function(l){let a;return l!==void 0?(o&&(l=o(l)),a=this[e](),a.color[t]=l,a):(a=this[e]().color[t],o&&(a=o(a)),a)}}function le(e){return function(t){return Math.max(0,Math.min(e,t))}}function on(e){return Array.isArray(e)?e:[e]}function pt(e,t){for(let o=0;o<t;o++)typeof e[o]!="number"&&(e[o]=0);return e}var an=oe;const Jt=vl(an);let sn=1;function $e(e="es-drager"){return`${e}-${Date.now()}-${sn++}`}function He(e){return JSON.parse(JSON.stringify(e))}function rn(e,t){const o=e.filter(v=>v.selected);if(!o.length)return e;let l=1/0,a=1/0,u=-1/0,r=-1/0;Math.max(...o.map(v=>v.left)),o.forEach(v=>{const m=document.getElementById(v.id).getBoundingClientRect();l=Math.min(l,m.left-t.left),u=Math.max(u,m.right-t.left),a=Math.min(a,m.top-t.top),r=Math.max(r,m.bottom-t.top)});const i={left:l,top:a,width:u-l,height:r-a};let d=!1;o.forEach(v=>{v.left=v.left-l,v.top=v.top-a,v.groupStyle={...v.style,width:Oe(v.width/i.width),height:Oe(v.height/i.height),left:Oe(v.left/i.width),top:Oe(v.top/i.height),transform:`rotate(${v.angle||0}deg)`,position:"absolute"},v.angle&&(d=!0)});const p={id:$e(),component:"es-group",group:!0,selected:!0,...i,equalProportion:d,props:{elements:o}};return[...e.filter(v=>!v.selected),p]}function un(e,t){const o=e.find(r=>r.selected);if(!o||o.component!=="es-group")return e;const a=o.props.elements.map(r=>{const i=document.getElementById(r.id).getBoundingClientRect(),d={x:i.left-t.left+i.width/2,y:i.top-t.top+i.height/2},p=r.groupStyle,f=o.width*It(p.width),v=o.height*It(p.height),m={width:f,height:v,left:d.x-f/2,top:d.y-v/2,angle:(r.angle||0)+(o.angle||0)};return r.groupStyle={},{...r,...m}});return[...e.filter(r=>r!==o),...a]}function Oe(e){return e*100+"%"}function It(e){return parseFloat(e)/100}function dn(e){return`${e}`.match(/^[0-9.-]+(px|%|rem|em|vh|vw)$/)?e:e+"px"}const cn=["fontSize","lineHeight","borderWidth","borderRadius"],Ht=["fontSize","fontWeight","fontFamily","color","lineHeight","fontStyle","textDecoration","justifyContent","alignItems"];function Ke(e,t=!0){if(!e)return e;const o={},l=Object.keys(e).filter(a=>t?Ht.includes(a):!Ht.includes(a));for(const a of l)o[a]=cn.includes(a)?dn(e[a]):e[a];return o}function pn(e,t){return Object.keys(e).reduce((o,l)=>(t.includes(l)||(o[l]=e[l]),o),{})}const fn={width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},mn=["id","width","height"],vn=["d","stroke"],hn=["id","width","height"],gn=["width","height","fill"],_n=["d","stroke"],bn=["fill"],yn=J({__name:"GridRect",props:{grid:{type:Number,default:10},gridCount:{type:Number,default:5},showSmall:{type:Boolean,default:!0},borderColor:{type:String},smallGridId:String,gridId:String},setup(e){const t=de(),o=e,l=j(()=>o.smallGridId||$e("smallGrid")),a=j(()=>o.gridId||$e("grid")),u=j(()=>o.grid*o.gridCount),r=j(()=>{if(o.borderColor)return{bigGrid:o.borderColor,grid:Jt(o.borderColor).fade(.5).rgb().string()};const d=[["#e4e7ed","#ebeef5"],["#414243","#363637"]],[p,f]=d[t.theme==="light"?0:1];return{bigGrid:p,grid:f}}),i=j(()=>({"--border-color":r.value.bigGrid}));return(d,p)=>(h(),V("div",{class:"grid-rect",style:K(i.value)},[(h(),V("svg",fn,[w("defs",null,[e.showSmall?(h(),V("pattern",{key:0,id:l.value,width:e.grid,height:e.grid,patternUnits:"userSpaceOnUse"},[w("path",{d:`M ${e.grid} 0 L 0 0 0 ${e.grid}`,fill:"none",stroke:r.value.grid,"stroke-width":"0.5"},null,8,vn)],8,mn)):N("",!0),w("pattern",{id:a.value,width:u.value,height:u.value,patternUnits:"userSpaceOnUse"},[e.showSmall?(h(),V("rect",{key:0,width:u.value,height:u.value,fill:`url(#${l.value})`},null,8,gn)):N("",!0),w("path",{d:`M ${u.value} 0 L 0 0 0 ${u.value}`,fill:"none",stroke:r.value.bigGrid,"stroke-width":"1"},null,8,_n)],8,hn)]),w("rect",{width:"100%",height:"100%",fill:`url(#${a.value})`},null,8,bn)]))],4))}}),wn=te(yn,[["__scopeId","data-v-ce09f61b"]]),xn=["contenteditable"],kn=J({__name:"TextEditor",props:{editable:{type:Boolean,default:!1},text:{type:String},id:{type:Number,default:0}},setup(e){const t=de(),o=e,l=R();function a(){if(!l.value)return;const r=document.createRange();r.selectNode(l.value),window.getSelection().removeAllRanges(),window.getSelection().addRange(r)}function u(r){t.data.elements[o.id].text=r.target.innerText}return ke(()=>[o.editable],()=>{o.editable&&(a(),t.data.elements[o.id].style.display="flex")}),(r,i)=>(h(),V("div",{ref_key:"textRef",ref:l,class:ye(["es-text",{editable:e.editable}]),contenteditable:e.editable,style:{display:"flex",width:"100%",height:"100%","word-break":"break-all"},onBlur:u},[ht(r.$slots,"default",{},()=>[$(ne(e.text),1)],!0)],42,xn))}}),Wt=te(kn,[["__scopeId","data-v-c5c16f93"]]),Cn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M938.666667 553.92V768c0 64.8-52.533333 117.333333-117.333334 117.333333H202.666667c-64.8 0-117.333333-52.533333-117.333334-117.333333V256c0-64.8 52.533333-117.333333 117.333334-117.333333h618.666666c64.8 0 117.333333 52.533333 117.333334 117.333333v297.92z m-64-74.624V256a53.333333 53.333333 0 0 0-53.333334-53.333333H202.666667a53.333333 53.333333 0 0 0-53.333334 53.333333v344.48A290.090667 290.090667 0 0 1 192 597.333333a286.88 286.88 0 0 1 183.296 65.845334C427.029333 528.384 556.906667 437.333333 704 437.333333c65.706667 0 126.997333 16.778667 170.666667 41.962667z m0 82.24c-5.333333-8.32-21.130667-21.653333-43.648-32.917333C796.768 511.488 753.045333 501.333333 704 501.333333c-121.770667 0-229.130667 76.266667-270.432 188.693334-2.730667 7.445333-7.402667 20.32-13.994667 38.581333-7.68 21.301333-34.453333 28.106667-51.370666 13.056-16.437333-14.634667-28.554667-25.066667-36.138667-31.146667A222.890667 222.890667 0 0 0 192 661.333333c-14.464 0-28.725333 1.365333-42.666667 4.053334V768a53.333333 53.333333 0 0 0 53.333334 53.333333h618.666666a53.333333 53.333333 0 0 0 53.333334-53.333333V561.525333zM320 480a96 96 0 1 1 0-192 96 96 0 0 1 0 192z m0-64a32 32 0 1 0 0-64 32 32 0 0 0 0 64z"></path></svg>',Vn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M896 896H96a32 32 0 0 1-32-32V224a32 32 0 0 1 64 0v608h768a32 32 0 1 1 0 64z"></path><path fill="currentColor" d="M247.008 640a32 32 0 0 1-20.992-56.192l200.992-174.24a32 32 0 0 1 42.272 0.288l172.128 153.44 229.088-246.304a32 32 0 0 1 46.88 43.616l-250.432 269.216a31.936 31.936 0 0 1-44.704 2.08l-174.56-155.52-179.744 155.84a31.872 31.872 0 0 1-20.928 7.776z"></path></svg>',$n='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 928C282.624 928 96 741.376 96 512S282.624 96 512 96s416 186.624 416 416-186.624 416-416 416z m0-768C317.92 160 160 317.92 160 512s157.92 352 352 352 352-157.92 352-352S706.08 160 512 160z"></path></svg>',Sn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M821.816 328.808H203.12c-49.072 0-88.192 33.656-88.192 74.6V701.52c0 41.504 39.792 74.6 88.192 74.6h618.688c49.072 0 88.184-33.656 88.184-74.6V403.408c0.008-40.944-39.784-74.6-88.176-74.6z m-1.96 423.496H203.76c-68.36 0-61.888-59.064-61.888-133.152v-131.68c0-73.096-6.472-133.16 61.888-133.16h616.104c68.328 0 61.88 60.064 61.88 133.16v131.688c0 73.064 6.44 133.144-61.888 133.144z"></path><path fill="currentColor" d="M693.784 460.728H329.816c-40.384 0-36.56 27.696-36.56 61.384v60.72c0 34.144-3.824 61.376 36.56 61.376h363.968c40.384 0 36.576-27.688 36.576-61.376v-60.72c0-33.688 3.808-61.384-36.576-61.384z"></path></svg>',Mn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M853.333333 138.666667H170.666667c-17.066667 0-32 14.933333-32 32v128c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V202.666667h277.333333v618.666666H384c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h256c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32h-96v-618.666666h277.333333V298.666667c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V170.666667c0-17.066667-14.933333-32-32-32z"></path></svg>',zn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M864 896H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h704a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zM192 832h640V192H192v640z"></path></svg>',Un=Object.assign({"./svg/图片.svg":Cn,"./svg/图表.svg":Vn,"./svg/圆形.svg":$n,"./svg/按钮.svg":Sn,"./svg/文本.svg":Mn,"./svg/矩形.svg":zn}),En={name:String,color:String,size:[String,Number]},In=e=>e?Un[`./svg/${e}.svg`]:"",Hn=["innerHTML"],Rn=J({__name:"Icon",props:En,setup(e){const t=e,o=j(()=>In(t.name)),l=j(()=>!t.size&&!t.color?{}:{fontSize:typeof t.size=="string"?t.size:`${t.size}px`,"--color":t.color});return(a,u)=>(h(),V("i",{class:"es-icon",style:K(l.value),innerHTML:o.value},null,12,Hn))}}),Dn=te(Rn,[["__scopeId","data-v-9993e1f7"]]),Fn={class:"es-layout-aside"},Ln={class:"collapse-content"},Tn=["onDragstart"],qn={class:"block-text"},Bn={class:"collapse-content"},An=["onDragstart"],Pn=J({__name:"Aside",emits:["dragstart","dragend"],setup(e,{emit:t}){const o=t,l=R(["1","2"]);function a(r,i){let d=50,p=50;i.component!=="es-icon"&&(d=i.width||r.target.offsetWidth,p=i.height||r.target.offsetHeight),o("dragstart",{...i,width:d,height:p})}function u(){o("dragend")}return(r,i)=>{const d=y("el-collapse-item"),p=y("el-collapse");return h(),V("div",Fn,[ht(r.$slots,"default",{},()=>[n(p,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=f=>l.value=f)},{default:s(()=>[n(d,{title:"通用",name:"1"},{default:s(()=>[w("div",Ln,[(h(!0),V(B,null,Y(S(Ut).componentList,f=>(h(),V("div",{class:"es-block",draggable:"true",onDragstart:v=>a(v,f),onDragend:u},[n(Dn,{name:f.text},null,8,["name"]),w("span",qn,ne(f.text),1)],40,Tn))),256))])]),_:1}),n(d,{title:"图标",name:"2"},{default:s(()=>[w("div",Bn,[(h(!0),V(B,null,Y(S(Ut).iconList,f=>(h(),V("div",{class:"es-block",draggable:"true",onDragstart:v=>a(v,f),onDragend:u},[f.component?(h(),q(Ze(f.component),Ce({key:0,ref_for:!0},f.props),null,16)):(h(),V(B,{key:1},[$(ne(f.props.icon),1)],64))],40,An))),256))])]),_:1})]),_:1},8,["modelValue"])])])}}}),On={class:"es-input-number-prefix"},jn=J({__name:"InputNumber",props:{prefix:{type:String}},setup(e){return(t,o)=>{const l=y("el-input-number");return h(),V("div",{class:ye(["es-input-number",{"has-prefix":e.prefix||t.$slots.prefix}])},[w("div",On,[ht(t.$slots,"prefix",{},()=>[e.prefix?(h(),V(B,{key:0},[$(ne(e.prefix)+":",1)],64)):N("",!0)],!0)]),n(l,Ce(t.$attrs,{"controls-position":"right"}),null,16)],2)}}}),pe=te(jn,[["__scopeId","data-v-32503cf1"]]),Ve=J({__name:"ColorPicker",setup(e){const t=$e()+"-picker",o=["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"];return ve(()=>{const l=document.querySelector(`.${t}`);l&&l.addEventListener("click",a=>a.stopPropagation())}),(l,a)=>{const u=y("el-color-picker");return h(),q(u,{"popper-class":t,"show-alpha":"",predefine:o})}}}),Qt=J({__name:"Background",props:{modelValue:{type:String}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,l=t,a={startColor:"rgba(255, 255, 255, 1)",endColor:"rgba(255, 255, 255, 1)",gradientRotate:90},u=j({get:()=>(o.modelValue||"").includes("gradient")?_("startColor"):o.modelValue,set:z=>{l("update:modelValue",z)}}),r=[{label:"纯色背景",value:1},{label:"渐变背景",value:2}],i=R(r[0].value),d=[{label:"线性渐变",value:"linear"},{label:"径向渐变",value:"radial"}],p=R(d[0].value),f=j({get:()=>_("startColor"),set:z=>{x(m.value,z,v.value)}}),v=j({get:()=>_("endColor"),set:z=>{x(m.value,f.value,z)}}),m=j({get:()=>_("gradientRotate"),set:z=>{x(z,f.value,v.value)}});function c(){i.value===1?l("update:modelValue",u.value):x(m.value,f.value,v.value)}function _(z){const g=o.modelValue||"rgba(255, 255, 255, 1)";if(!g.includes("gradient"))return z==="startColor"?Jt(g).rgb().string():a[z];let I=/gradient\((\d+deg),\s*(rgba?\([^)]+\)),\s*(rgba?\([^)]+\))\)/;g.includes("radial")&&(I=/(gradient)\(.*(rgba?\([^)]+\)),\s*(rgba?\([^)]+\))\)/);const A=g.match(I),P=a[z];return A?z==="startColor"?A[2]||P:z==="endColor"?A[3]||P:z==="gradientRotate"&&parseInt(A[1])||P:P}function x(z,g,b){let I=`linear-gradient(${z}deg, ${g}, ${b})`;p.value==="radial"&&(I=`radial-gradient(${g}, ${b})`),l("update:modelValue",I)}return(z,g)=>{const b=y("el-option"),I=y("el-select"),H=y("el-col"),A=y("el-row"),P=y("el-slider");return h(),V(B,null,[n(A,{gutter:10},{default:s(()=>[n(H,{span:12},{default:s(()=>[n(I,{modelValue:i.value,"onUpdate:modelValue":g[0]||(g[0]=k=>i.value=k),onChange:c},{default:s(()=>[(h(),V(B,null,Y(r,k=>n(b,Ce({ref_for:!0},k),null,16)),64))]),_:1},8,["modelValue"])]),_:1}),n(H,{span:12},{default:s(()=>[i.value===1?(h(),q(Ve,{key:0,modelValue:u.value,"onUpdate:modelValue":g[1]||(g[1]=k=>u.value=k),"color-format":"rgb"},null,8,["modelValue"])):(h(),q(I,{key:1,modelValue:p.value,"onUpdate:modelValue":g[2]||(g[2]=k=>p.value=k),onChange:g[3]||(g[3]=k=>x(m.value,f.value,v.value))},{default:s(()=>[(h(),V(B,null,Y(d,k=>n(b,Ce({ref_for:!0},k),null,16)),64))]),_:1},8,["modelValue"]))]),_:1})]),_:1}),i.value===2?(h(),V(B,{key:0},[n(A,{gutter:10},{default:s(()=>[n(H,{span:12},{default:s(()=>[$("起点颜色:")]),_:1}),n(H,{span:12},{default:s(()=>[n(Ve,{modelValue:f.value,"onUpdate:modelValue":g[4]||(g[4]=k=>f.value=k)},null,8,["modelValue"])]),_:1})]),_:1}),n(A,{gutter:10},{default:s(()=>[n(H,{span:12},{default:s(()=>[$("终点颜色:")]),_:1}),n(H,{span:12},{default:s(()=>[n(Ve,{modelValue:v.value,"onUpdate:modelValue":g[5]||(g[5]=k=>v.value=k)},null,8,["modelValue"])]),_:1})]),_:1}),p.value==="linear"?(h(),q(A,{key:0,gutter:10},{default:s(()=>[n(H,{span:12},{default:s(()=>[$("渐变角度:")]),_:1}),n(H,{span:12},{default:s(()=>[n(P,{size:"small",modelValue:m.value,"onUpdate:modelValue":g[6]||(g[6]=k=>m.value=k),max:360},null,8,["modelValue"])]),_:1})]),_:1})):N("",!0)],64)):N("",!0)],64)}}}),Nn={style:{display:"flex","justify-content":"flex-end"}},Gn={style:{display:"flex","justify-content":"flex-end"}},Yn={style:{display:"flex","justify-content":"flex-end"}},Jn=J({__name:"EditorStyle",setup(e){const t=de(),o=R(100),l=j({get:()=>{const{width:i,height:d}=t.data.container.style;return`${i} x ${d}`},set:i=>{const[d,p]=i.split(" x ");t.data.container.style.width=+d,t.data.container.style.height=+p}}),a=[{label:"PC",options:[{label:"1360 x 760",value:"1360 x 760"},{label:"1280 x 720",value:"1280 x 720"},{label:"800 x 600",value:"800 x 600"}]},{label:"H5",options:[{label:"360 x 780",value:"360 x 780"},{label:"iPhone 6/7/8",value:"375 x 667"},{label:"iPhone 6/7/8 Plus",value:"414 x 736"}]}],u=j({get:()=>t.data.container.style.background||t.data.container.style.backgroundColor,set:i=>{t.data.container.style.background=i}}),r=i=>{t.data.container.scaleRatio=i/100};return(i,d)=>{const p=y("el-col"),f=y("el-option"),v=y("el-option-group"),m=y("el-select"),c=y("el-row"),_=y("el-input"),x=y("el-divider"),z=y("el-switch"),g=y("el-form");return h(),q(g,{model:S(t).data.container,"label-width":"90px","label-position":"left",style:{padding:"0 10px"}},{default:s(()=>[n(c,{gutter:10},{default:s(()=>[n(p,{span:10},{default:s(()=>[$("画布尺寸:")]),_:1}),n(p,{span:14},{default:s(()=>[n(m,{modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=b=>l.value=b)},{default:s(()=>[(h(),V(B,null,Y(a,b=>n(v,{key:b.label,label:b.label},{default:s(()=>[(h(!0),V(B,null,Y(b.options,I=>(h(),q(f,{label:I.label,value:I.value},null,8,["label","value"]))),256))]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),n(c,{gutter:10},{default:s(()=>[n(p,{span:10},{default:s(()=>[$("缩放比例:")]),_:1}),n(p,{span:14},{default:s(()=>[n(_,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=b=>o.value=b),modelModifiers:{number:!0},onChange:r},{suffix:s(()=>[$("%")]),_:1},8,["modelValue"])]),_:1})]),_:1}),n(c,{gutter:10},{default:s(()=>[n(p,{span:10},{default:s(()=>[$("画布宽度:")]),_:1}),n(p,{span:14},{default:s(()=>[n(pe,{modelValue:S(t).data.container.style.width,"onUpdate:modelValue":d[2]||(d[2]=b=>S(t).data.container.style.width=b)},null,8,["modelValue"])]),_:1})]),_:1}),n(c,{gutter:10},{default:s(()=>[n(p,{span:10},{default:s(()=>[$("画布高度:")]),_:1}),n(p,{span:14},{default:s(()=>[n(pe,{modelValue:S(t).data.container.style.height,"onUpdate:modelValue":d[3]||(d[3]=b=>S(t).data.container.style.height=b)},null,8,["modelValue"])]),_:1})]),_:1}),n(x),n(Qt,{modelValue:u.value,"onUpdate:modelValue":d[4]||(d[4]=b=>u.value=b)},null,8,["modelValue"]),n(x),n(c,{gutter:10},{default:s(()=>[n(p,{span:10},{default:s(()=>[$("网格吸附:")]),_:1}),n(p,{span:14},{default:s(()=>[w("div",Nn,[n(z,{modelValue:S(t).data.container.snap,"onUpdate:modelValue":d[5]||(d[5]=b=>S(t).data.container.snap=b)},null,8,["modelValue"])])]),_:1})]),_:1}),n(c,{gutter:10},{default:s(()=>[n(p,{span:10},{default:s(()=>[$("画布网格:")]),_:1}),n(p,{span:14},{default:s(()=>[w("div",Gn,[n(z,{modelValue:S(t).data.container.snapToGrid,"onUpdate:modelValue":d[6]||(d[6]=b=>S(t).data.container.snapToGrid=b)},null,8,["modelValue"])])]),_:1})]),_:1}),S(t).data.container.snapToGrid?(h(),V(B,{key:0},[n(c,{gutter:10},{default:s(()=>[n(p,{span:10},{default:s(()=>[$("网格大小:")]),_:1}),n(p,{span:14},{default:s(()=>[n(pe,{modelValue:S(t).data.container.gridSize,"onUpdate:modelValue":d[7]||(d[7]=b=>S(t).data.container.gridSize=b)},null,8,["modelValue"])]),_:1})]),_:1}),n(c,{gutter:10},{default:s(()=>[n(p,{span:10},{default:s(()=>[$("网格颜色:")]),_:1}),n(p,{span:14},{default:s(()=>[n(Ve,{modelValue:S(t).data.container.gridColor,"onUpdate:modelValue":d[8]||(d[8]=b=>S(t).data.container.gridColor=b)},null,8,["modelValue"])]),_:1})]),_:1})],64)):N("",!0),n(x),n(c,{gutter:10},{default:s(()=>[n(p,{span:10},{default:s(()=>[$("参考线:")]),_:1}),n(p,{span:14},{default:s(()=>[w("div",Yn,[n(z,{modelValue:S(t).data.container.markline.show,"onUpdate:modelValue":d[9]||(d[9]=b=>S(t).data.container.markline.show=b)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["model"])}}}),Wn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M928 896l0 32-832 0 0-32z"></path><path fill="currentColor" d="M672 96m0 32l0 640q0 32-32 32l-256 0q-32 0-32-32l0-640q0-32 32-32l256 0q32 0 32 32Z"></path></svg>',Qn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M928 512l0 32-192 0 0-32L928 512z m-640 0l0 32-192 0 0-32 192 0z"></path><path d="M672 128m0 32l0 736q0 32-32 32l-256 0q-32 0-32-32l0-736q0-32 32-32l256 0q32 0 32 32Z"></path></svg>',Xn='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M96 128l0-32 832 0 0 32z"></path><path fill="currentColor" d="M352 928m0-32l0-640q0-32 32-32l256 0q32 0 32 32l0 640q0 32-32 32l-256 0q-32 0-32-32Z"></path></svg>',Kn='<svg t="1692778133849" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15222" width="16" height="16"><path d="M123.26 411.37a32 32 0 1 1 45.28-45.23l311.34 311.67L479.71 97a32 32 0 0 1 32-32 32 32 0 0 1 32 32l0.17 580.89 311.59-311.76a32 32 0 0 1 45.27 45.24l-366.2 366.39-0.19 0.18-0.94 0.9-0.52 0.44-0.62 0.53-0.1 0.09-0.62 0.47-0.5 0.4c-0.05 0-0.1 0.08-0.16 0.11-0.21 0.16-0.43 0.31-0.65 0.46l-0.46 0.32-0.2 0.14-0.65 0.41-0.48 0.29a1.64 1.64 0 0 1-0.22 0.14l-0.62 0.35-0.52 0.29-0.23 0.13-0.59 0.29-0.6 0.3-0.18 0.09c-0.17 0.09-0.35 0.16-0.53 0.24l-0.71 0.3-0.19 0.08-0.48 0.18c-0.27 0.1-0.54 0.21-0.81 0.3H522.6l-0.42 0.13-0.91 0.3h-0.14l-0.39 0.11-1 0.26h-0.12l-0.38 0.08c-0.34 0.08-0.68 0.16-1 0.22h-0.06l-0.42 0.07-1 0.17h-0.09c-0.17 0-0.34 0-0.51 0.06l-0.94 0.12h-0.95l-0.75 0.05h-3.12l-0.75-0.05H508.84l-0.94-0.12c-0.17 0-0.34 0-0.51-0.06h-0.09l-1-0.17-0.42-0.07h-0.1c-0.34-0.06-0.68-0.14-1-0.22l-0.4-0.08h-0.08l-1-0.26-0.4-0.11h-0.14l-0.89-0.29-0.45-0.14-0.14-0.05c-0.26-0.09-0.53-0.19-0.79-0.3l-0.49-0.18h-0.2l-0.69-0.3-0.55-0.24-0.18-0.09-0.59-0.3-0.6-0.29-0.17-0.09h-0.05l-0.52-0.28-0.64-0.36-0.14-0.09h-0.07l-0.47-0.3c-0.22-0.14-0.45-0.27-0.67-0.42h-0.07l-0.11-0.08-0.47-0.33-0.81-0.49-0.09-0.08-0.53-0.42-0.61-0.47-0.08-0.07c-0.24-0.19-0.47-0.4-0.7-0.6l-0.46-0.4c-0.41-0.37-0.81-0.74-1.19-1.13zM896.68 895H127.32a32 32 0 1 0 0 64h769.36a32 32 0 0 0 0-64z" fill="currentColor" p-id="15223"></path></svg>',Zn='<svg t="1692774315617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8893" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM224 352h576v96H224zM224 800h576v96H224z" p-id="8894"></path></svg>',eo='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M800 448H704V320c0-106.4-85.6-192-192-192S320 213.6 320 320v128H224c-17.6 0-32 14.4-32 32v384c0 17.6 14.4 32 32 32h576c17.6 0 32-14.4 32-32V480c0-17.6-14.4-32-32-32zM512 736c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m128-288H384V320c0-70.4 57.6-128 128-128s128 57.6 128 128v128z"></path></svg>',to='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M496 96h32v192h-32V96z m0 640h32v192h-32v-192z"></path><path d="M112 352m32 0l736 0q32 0 32 32l0 256q0 32-32 32l-736 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',lo='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M96 96h32v832H96z"></path><path d="M224 352m32 0l640 0q32 0 32 32l0 256q0 32-32 32l-640 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',no='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M896 96h32v832h-32z"></path><path d="M96 352m32 0l640 0q32 0 32 32l0 256q0 32-32 32l-640 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',oo='<svg t="1692774266304" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6910" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM96 352h576v96H96zM96 800h576v96H96z" p-id="6911"></path></svg>',ao='<svg t="1692778640543" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7435" width="16" height="16"><path fill="currentColor" d="M143.998942-0.011289h64.007055V1024h-64.007055zM815.982714 224.002117h64.007056v575.984478h-64.007056zM591.991886-0.011289h64.007056V1024h-64.007056zM368.001058 224.002117h63.995767v575.984478h-63.995767z" p-id="7436"></path></svg>',so='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M147.4 187.1 283.7 323.4 322.7 284.3 324.6 282.5 190.4 148.2 329.8 148.2 329.8 90.3 89.5 90.3 89.5 329 147.4 329Z"></path><path fill="currentColor" d="M322.5 739.5 283.4 700.4 281.6 698.5 147.4 832.7 147.4 693.4 89.5 693.4 89.5 933.7 328.1 933.7 328.1 875.8 186.2 875.8Z" p-id="9891"></path><path fill="currentColor" d="M694.2 90.3 694.2 148.2 833.6 148.2 701.2 280.6 699.4 282.5 738.5 321.6 740.3 323.3 876.6 187.1 876.6 329 934.5 329 934.5 90.3Z"></path><path fill="currentColor" d="M876.6 832.8 742.3 698.6 703.2 737.7 701.5 739.5 837.7 875.8 695.8 875.8 695.8 933.7 934.5 933.7 934.5 693.4 876.6 693.4Z"></path><path fill="currentColor" d="M512 291.1c-121.8 0-220.9 99.1-220.9 220.8S390.2 732.8 512 732.8 732.9 633.8 732.9 512 633.8 291.1 512 291.1zM675 512c0 89.9-73.1 163-163 163s-163-73.1-163-163c0-89.9 73.1-163 163-163S675 422.1 675 512z"></path></svg>',ro='<svg t="1692774301684" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7896" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM352 352h576v96H352zM352 800h576v96H352z" p-id="7897"></path></svg>',uo='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M929 849a30 30 0 0 1-30-30v-83.137a447.514 447.514 0 0 1-70.921 92.209C722.935 933.225 578.442 975.008 442 953.482a444.917 444.917 0 0 1-241.139-120.591 30 30 0 1 1 37.258-47.01l0.231-0.231A385.175 385.175 0 0 0 442 892.625v-0.006c120.855 22.123 250.206-13.519 343.656-106.975a386.646 386.646 0 0 0 70.6-96.653h-87.247a30 30 0 0 1 0-60H929a30 30 0 0 1 30 30V819a30 30 0 0 1-30 30zM632 342a50 50 0 0 1 50 50v240a50 50 0 0 1-50 50H392a50 50 0 0 1-50-50V392a50 50 0 0 1 50-50h240zM402 607a15 15 0 0 0 15 15h190a15 15 0 0 0 15-15V417a15 15 0 0 0-15-15H417a15 15 0 0 0-15 15v190z m403.005-362.025a29.87 29.87 0 0 1-19.117-6.882l-0.232 0.231A386.5 386.5 0 0 0 689.478 168h-0.011c-145.646-75.182-329.021-51.747-451.117 70.35a386.615 386.615 0 0 0-70.6 96.65H255a30 30 0 0 1 0 60H95a30 30 0 0 1-30-30V205a30 30 0 0 1 60 0v83.129a447.534 447.534 0 0 1 70.923-92.206C317.981 73.866 493.048 37.2 647 85.836v-0.045a444.883 444.883 0 0 1 176.143 105.291 30 30 0 0 1-18.138 53.893z"></path></svg>',io='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M742.4 384a51.2 51.2 0 0 1 51.2 51.2v460.8a51.2 51.2 0 0 1-51.2 51.2H153.6a51.2 51.2 0 0 1-51.2-51.2V435.2a51.2 51.2 0 0 1 51.2-51.2z m-25.6 76.8H179.2v409.6h537.6V460.8zM514.7648 71.68l54.3232 54.2976-36.5568 36.5568A473.856 473.856 0 0 1 958.208 477.3376l-72.3968 25.6256A397.056 397.056 0 0 0 538.0096 239.744l31.0784 31.0528-54.3232 54.2976-126.72-126.72 126.72-126.6944z"></path></svg>',co='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M870.4 384a51.2 51.2 0 0 1 51.2 51.2v460.8a51.2 51.2 0 0 1-51.2 51.2H281.6a51.2 51.2 0 0 1-51.2-51.2V435.2a51.2 51.2 0 0 1 51.2-51.2h588.8z m-25.6 76.8H307.2v409.6h537.6V460.8zM491.1104 53.5808l90.496 90.496L635.904 198.4 581.632 252.672l-90.5216 90.5216-54.272-54.3232 53.7856-53.8368A397.056 397.056 0 0 0 135.8336 502.272l-72.6016-25.0112A473.856 473.856 0 0 1 487.2448 158.3104l-50.432-50.432 54.2976-54.2976z"></path></svg>',po='<svg t="1692777879594" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14228" width="16" height="16"><path d="M557.654996 981.669904c-6.499999 59.041994-88.986991 53.776995-92.179991 0-0.083-40.896996-0.083-641.390937-0.083-641.390937l-283.839972 273.963973c-44.472996 38.308996-97.43499-22.922998-64.344994-63.215994 125.709988-121.895988 351.289966-340.004967 356.507965-345.049966 20.810998-22.608998 53.572995-23.779998 75.721993 0 41.406996 40.037996 348.700966 336.328967 358.028965 346.989966 31.166997 38.741996-19.223998 96.073991-62.242994 63.773994C834.109969 607.310941 557.739996 340.267967 557.739996 340.267967M116.396039 3.332l786.487923 0 0 89.285991L116.396039 92.617991 116.396039 3.332z" fill="currentColor" p-id="14229"></path></svg>',fo=Object.assign({"./svg/align-bottom.svg":Wn,"./svg/align-center.svg":Qn,"./svg/align-top.svg":Xn,"./svg/bottom.svg":Kn,"./svg/center.svg":Zn,"./svg/disabled.svg":eo,"./svg/justify-center.svg":to,"./svg/justify-left.svg":lo,"./svg/justify-right.svg":no,"./svg/left.svg":oo,"./svg/middle.svg":ao,"./svg/resizable.svg":so,"./svg/right.svg":ro,"./svg/rotatable.svg":uo,"./svg/rotate-left.svg":io,"./svg/rotate-right.svg":co,"./svg/top.svg":po}),mo={name:String,color:String,size:[String,Number]},vo=e=>e?fo[`./svg/${e}.svg`]:"",ho=["innerHTML"],go=J({__name:"SvgIcon",props:mo,setup(e){const t=e,o=j(()=>vo(t.name)),l=j(()=>!t.size&&!t.color?{}:{fontSize:typeof t.size=="string"?t.size:`${t.size}px`,"--color":t.color});return(a,u)=>(h(),V("i",{class:"es-icon",style:K(l.value),innerHTML:o.value},null,12,ho))}}),Ee=te(go,[["__scopeId","data-v-ec29d57e"]]),_o=J({__name:"TextStyle",setup(e){const t=de(),o=[{label:"正常",value:"normal"},{label:"标题 1",value:"2em"},{label:"标题 2",value:"1.5em"},{label:"标题 3",value:"1.17em"},{label:"标题 4",value:"1em"},{label:"标题 5",value:"0.9em"},{label:"标题 6",value:"0.8em"}],l=R(""),a=[{label:"加粗",icon:"B",key:"fontWeight",value:"bold"},{label:"斜体",icon:"I",key:"fontStyle",value:"italic"},{label:"下划线",icon:"U",key:"textDecoration",value:"underline"},{label:"中划线",icon:"S",key:"textDecoration",value:"line-through"},{label:"左对齐",icon:"left",key:"justifyContent",value:"flex-start"},{label:"水平居中",icon:"center",key:"justifyContent",value:"center"},{label:"右对齐",icon:"right",key:"justifyContent",value:"flex-end"},{label:"上对齐",icon:"top",key:"alignItems",value:"flex-start"},{label:"垂直居中",icon:"middle",key:"alignItems",value:"center"},{label:"下对齐",icon:"bottom",key:"alignItems",value:"flex-end"}],u=j(()=>[...a].map(c=>({...c,selected:m(c.key)===c.value}))),r=j(()=>[u.value.slice(0,4),u.value.slice(4,7),u.value.slice(7,10)]),i=[{label:"Helvetica"},{label:"PingFang SC"},{label:"Hiragino Sans GB"},{label:"Microsoft YaHei"},{label:"Times New Roman"},{label:"Verdana"},{label:"Courier New"},{label:"Georgia"},{label:"Lucida Sans"},{label:"Tahoma"}];function d(c){c.selected=!c.selected,v(c.key,c.selected?c.value:void 0)}function p(c){const _=c==="normal";t.current.style.fontSize=_?void 0:c,t.current.style.fontWeight=_?"normal":"bold"}const f=j({get:()=>t.current.style||{},set:c=>{t.current.style=t.current.style||{},Object.keys(c).forEach(_=>{v(_,c[_])})}});function v(c,_){t.current.style[c]=_}function m(c){return t.current.style[c]}return(c,_)=>{const x=y("el-col"),z=y("el-row"),g=y("el-option"),b=y("el-select"),I=y("el-input"),H=y("el-button"),A=y("el-tooltip"),P=y("el-button-group");return h(),V("div",null,[n(z,{gutter:10},{default:s(()=>[n(x,{span:10},{default:s(()=>[$("字体颜色:")]),_:1}),n(x,{span:14},{default:s(()=>[n(Ve,{modelValue:f.value.color,"onUpdate:modelValue":_[0]||(_[0]=k=>f.value.color=k)},null,8,["modelValue"])]),_:1})]),_:1}),n(z,{gutter:10},{default:s(()=>[n(x,{span:10},{default:s(()=>[$("标题:")]),_:1}),n(x,{span:14},{default:s(()=>[n(b,{modelValue:l.value,"onUpdate:modelValue":_[1]||(_[1]=k=>l.value=k),placeholder:"标题",onChange:p},{default:s(()=>[(h(),V(B,null,Y(o,k=>n(g,{label:k.label,value:k.value},{default:s(()=>[w("span",{style:K({fontSize:k.value,fontWeight:"bold"})},ne(k.label),5)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),n(z,{gutter:10},{default:s(()=>[n(x,{span:10},{default:s(()=>[$("字体:")]),_:1}),n(x,{span:14},{default:s(()=>[n(b,{modelValue:f.value.fontFamily,"onUpdate:modelValue":_[2]||(_[2]=k=>f.value.fontFamily=k),placeholder:"字体"},{default:s(()=>[(h(),V(B,null,Y(i,k=>n(g,{label:k.label,value:k.label},{default:s(()=>[w("span",{style:K({fontFamily:k.label})},ne(k.label),5)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),n(z,{gutter:10},{default:s(()=>[n(x,{span:10},{default:s(()=>[$("字体大小:")]),_:1}),n(x,{span:14},{default:s(()=>[n(I,{modelValue:f.value.fontSize,"onUpdate:modelValue":_[3]||(_[3]=k=>f.value.fontSize=k)},null,8,["modelValue"])]),_:1})]),_:1}),n(z,{gutter:10},{default:s(()=>[n(x,{span:10},{default:s(()=>[$("行高:")]),_:1}),n(x,{span:14},{default:s(()=>[n(pe,{modelValue:f.value.lineHeight,"onUpdate:modelValue":_[4]||(_[4]=k=>f.value.lineHeight=k)},null,8,["modelValue"])]),_:1})]),_:1}),n(z,{gutter:10},{default:s(()=>[n(x,{span:10},{default:s(()=>[$("文本:")]),_:1}),n(x,{span:14},{default:s(()=>[n(I,{type:"textarea",modelValue:S(t).current.text,"onUpdate:modelValue":_[5]||(_[5]=k=>S(t).current.text=k)},null,8,["modelValue"])]),_:1})]),_:1}),(h(!0),V(B,null,Y(r.value,(k,U)=>(h(),q(z,null,{default:s(()=>[n(P,{style:{display:"inline-flex"}},{default:s(()=>[(h(!0),V(B,null,Y(k,M=>(h(),q(A,{placement:"top","show-after":300,content:M.label},{default:s(()=>[n(H,{type:M.selected?"primary":"",style:K([{flex:"1"},U===0?{[M.key]:M.value}:{}]),onClick:F=>d(M)},{default:s(()=>[U===0?(h(),V(B,{key:0},[$(ne(M.icon),1)],64)):(h(),q(Ee,{key:1,name:M.icon,size:20},null,8,["name"]))]),_:2},1032,["type","style","onClick"])]),_:2},1032,["content"]))),256))]),_:2},1024)]),_:2},1024))),256))])}}}),bo=te(_o,[["__scopeId","data-v-fde0c97b"]]),yo={key:0},wo=J({__name:"Border",setup(e){const t=de(),o=[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"},{label:"点线",value:"dotted"}],l=j({get:()=>(t.current.style.borderStyle||(t.current.style.borderStyle="solid"),t.current.style.borderWidth||(t.current.style.borderWidth=0),t.current.style.borderStyle||"solid"),set:a=>{t.current.style.borderStyle=a}});return(a,u)=>{const r=y("el-col"),i=y("el-option"),d=y("el-select"),p=y("el-row");return S(t).current.style?(h(),V("div",yo,[n(p,{gutter:10},{default:s(()=>[n(r,{span:10},{default:s(()=>[$("边框风格:")]),_:1}),n(r,{span:14},{default:s(()=>[n(d,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=f=>l.value=f)},{default:s(()=>[(h(),V(B,null,Y(o,f=>n(i,{key:f.value,label:f.label,value:f.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),n(p,{gutter:10},{default:s(()=>[n(r,{span:10},{default:s(()=>[$("边框颜色:")]),_:1}),n(r,{span:14},{default:s(()=>[n(Ve,{modelValue:S(t).current.style.borderColor,"onUpdate:modelValue":u[1]||(u[1]=f=>S(t).current.style.borderColor=f)},null,8,["modelValue"])]),_:1})]),_:1}),n(p,{gutter:10},{default:s(()=>[n(r,{span:10},{default:s(()=>[$("边框宽度:")]),_:1}),n(r,{span:14},{default:s(()=>[n(pe,{modelValue:S(t).current.style.borderWidth,"onUpdate:modelValue":u[2]||(u[2]=f=>S(t).current.style.borderWidth=f)},null,8,["modelValue"])]),_:1})]),_:1}),n(p,{gutter:10},{default:s(()=>[n(r,{span:10},{default:s(()=>[$("圆角半径:")]),_:1}),n(r,{span:14},{default:s(()=>[n(pe,{modelValue:S(t).current.style.borderRadius,"onUpdate:modelValue":u[3]||(u[3]=f=>S(t).current.style.borderRadius=f)},null,8,["modelValue"])]),_:1})]),_:1})])):N("",!0)}}}),nt=e=>(et("data-v-94bee2e4"),e=e(),tt(),e),xo={class:"row"},ko={class:"shape-switch"},Co=["stroke"],Vo=nt(()=>w("path",{d:"M0 22H7C15.2843 22 22 15.2843 22 7.00001V3C22 2.44772 22.4477 2 23 2H121C121.552 2 122 2.44772 122 3V7.00001C122 15.2843 128.716 22 137 22H145",stroke:"inherit","stroke-width":"6"},null,-1)),$o=[Vo],So=["stroke"],Mo=nt(()=>w("path",{d:"M0 22H7C15.2843 22 22 15.2843 22 7.00001V3.39336C22 2.7091 22.6808 2.2299 23.3304 2.44485C59.2066 14.3156 85.7767 12.9047 120.7 2.39438C121.343 2.20072 122 2.67921 122 3.3512V7.00001C122 15.2843 128.716 22 137 22H145",stroke:"inherit","stroke-width":"6"},null,-1)),zo=[Mo],Uo=["stroke"],Eo=nt(()=>w("path",{d:"M0 31H7C15.2843 31 22 24.2843 22 16V11.7329C22 11.2966 22.2898 10.9083 22.7061 10.7779C60.0722 -0.924818 84.913 -0.925978 121.302 10.7745C121.714 10.9071 122 11.2935 122 11.727V16C122 24.2843 128.716 31 137 31H145",stroke:"inherit","stroke-width":"6"},null,-1)),Io=[Eo],Ho=["stroke"],Ro=nt(()=>w("path",{d:"M0 2H22V21C22 21.5523 22.4477 22 23 22H121C121.552 22 122 21.5523 122 21V2H145",stroke:"inherit","stroke-width":"6"},null,-1)),Do=[Ro],Fo=J({__name:"ShapeSwitcher",props:{shape:{type:Number,required:!0},setShape:{type:Function,required:!0},stroke:{type:String,default:"#409EFF"}},setup(e){return(t,o)=>{const l=y("el-button");return h(),V("div",null,[w("div",xo,[w("div",ko,[n(l,{class:ye({active:e.shape===0}),onClick:o[0]||(o[0]=a=>e.setShape(0)),name:"flat",title:"Flat","data-shape":"0"},{default:s(()=>[(h(),V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145",height:"24",viewBox:"0 0 145 24",fill:"none",stroke:e.stroke},$o,8,Co))]),_:1},8,["class"]),n(l,{class:ye({active:e.shape===2}),onClick:o[1]||(o[1]=a=>e.setShape(2)),name:"concave",title:"Concave","data-shape":"2"},{default:s(()=>[(h(),V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145",height:"24",viewBox:"0 0 145 24",fill:"none",stroke:e.stroke},zo,8,So))]),_:1},8,["class"]),n(l,{class:ye({active:e.shape===3}),onClick:o[2]||(o[2]=a=>e.setShape(3)),name:"convex",title:"Convex","data-shape":"3"},{default:s(()=>[(h(),V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145",height:"33",viewBox:"0 0 145 33",fill:"none",stroke:e.stroke},Io,8,Uo))]),_:1},8,["class"]),n(l,{class:ye({active:e.shape===1}),onClick:o[3]||(o[3]=a=>e.setShape(1)),name:"pressed",title:"Pressed","data-shape":"1"},{default:s(()=>[(h(),V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145",height:"24",viewBox:"0 0 145 24",fill:"none",stroke:e.stroke},Do,8,Ho))]),_:1},8,["class"])])])])}}}),Lo=te(Fo,[["__scopeId","data-v-94bee2e4"]]),To=J({__name:"LightSource",props:{left:{type:String,default:"0"},top:{type:String,default:"0"},right:{type:String,default:"0"},bottom:{type:String,default:"0"},active:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const o=t,l=e,a=j(()=>({position:"absolute",left:l.left,top:l.top,right:l.right,bottom:l.bottom,height:"20px",width:"20px",cursor:"pointer",border:"2px solid black","border-bottom-right-radius":l.right==="unset"&&l.bottom==="unset"?"20px":"unset","border-bottom-left-radius":l.left==="unset"&&l.bottom==="unset"?"20px":"unset","border-top-right-radius":l.right==="unset"&&l.top==="unset"?"20px":"unset","border-top-left-radius":l.left==="unset"&&l.top==="unset"?"20px":"unset"}));return(u,r)=>(h(),V("div",{class:ye(["light-source",{active:e.active}]),style:K(a.value),onClick:r[0]||(r[0]=i=>o("click",i))},null,6))}}),je=te(To,[["__scopeId","data-v-42e132f1"]]);function Ne(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;let o="#",l,a;for(a=0;a<3;a++)l=parseInt(e.substr(a*2,2),16),l=Math.round(Math.min(Math.max(0,l+l*t),255)).toString(16),o+=("00"+l).substr(l.length);return o}const qo=e=>/^#[0-9A-F]{6}$/i.test(e),Bo={key:0},Ao={style:{display:"flex","justify-content":"flex-end"}},Po={style:{display:"flex","justify-content":"flex-end"}},Oo=J({__name:"Shadow",setup(e){const t=de(),o=R(!1),l=R(!1),a=R(3),u=R(3),r=R(3),i=R(3),d=R(1),p=R("#808080"),f=R(0),v=R(0),m=R(.15),c=R(0),_=R(145),x=R(!1),z=R(1),g=j(()=>{var P,k,U,M;if(l.value){const F=Ne(((P=t.current.style)==null?void 0:P.background)||((k=t.current.style)==null?void 0:k.backgroundColor),m.value*-1),W=Ne(((U=t.current.style)==null?void 0:U.background)||((M=t.current.style)==null?void 0:M.backgroundColor),m.value),Z=c.value===1?"inset":"";switch(_.value){case 145:r.value=v.value,i.value=v.value;break;case 225:r.value=v.value*-1,i.value=v.value;break;case 315:r.value=v.value*-1,i.value=v.value*-1;break;case 45:r.value=v.value,i.value=v.value*-1;break;default:r.value=v.value,i.value=v.value;break}return`${Z} ${r.value}px ${i.value}px ${f.value}px ${F}, ${Z} ${r.value*-1}px ${i.value*-1}px ${f.value}px ${W}`}else return`${a.value}px ${u.value}px ${d.value}px ${p.value}`}),b=P=>{switch(z.value=P,P){case 1:_.value=145;break;case 2:_.value=225;break;case 3:_.value=315;break;case 4:_.value=45;break;default:_.value=145;break}t.current.style.boxShadow=g.value},I=P=>{var Z,_e;console.log(P);const k=parseInt(P);c.value=k,k===2||k===3?x.value=!0:x.value=!1;const U=((Z=t.current.style)==null?void 0:Z.background)||((_e=t.current.style)==null?void 0:_e.backgroundColor)||"#000000";if(!qo(U))return;const M=x.value&&c.value!==1?Ne(U,c.value===3?.07:-.1):U,F=x.value&&c.value!==1?Ne(U,c.value===2?.07:-.1):U,W=x.value&&c.value!==1?`linear-gradient(${_.value}deg, ${M}, ${F})`:`${U}`;t.current.style.background=W,t.current.style.boxShadow=g.value},H=P=>{P?t.current.style.boxShadow=g.value:t.current.style.boxShadow=void 0};function A(P){P&&P=="neumorDistance"&&(f.value=v.value*2),t.current.style.boxShadow=g.value}return(P,k)=>{var _e,Le,Te,qe;const U=y("el-col"),M=y("el-switch"),F=y("el-row"),W=y("el-slider"),Z=y("el-divider");return S(t).current.style?(h(),V("div",Bo,[n(F,{gutter:10},{default:s(()=>[n(U,{span:10},{default:s(()=>[$("开启阴影:")]),_:1}),n(U,{span:14},{default:s(()=>[w("div",Ao,[n(M,{modelValue:o.value,"onUpdate:modelValue":k[0]||(k[0]=Q=>o.value=Q),size:"small",onChange:H},null,8,["modelValue"])])]),_:1})]),_:1}),o.value?(h(),V(B,{key:0},[n(F,{gutter:10},{default:s(()=>[n(U,{span:10},{default:s(()=>[$("水平阴影:")]),_:1}),n(U,{span:14},{default:s(()=>[n(W,{modelValue:a.value,"onUpdate:modelValue":k[1]||(k[1]=Q=>a.value=Q),step:1,min:-10,max:10,size:"small",onInput:A},null,8,["modelValue"])]),_:1})]),_:1}),n(F,{gutter:10},{default:s(()=>[n(U,{span:10},{default:s(()=>[$("垂直阴影:")]),_:1}),n(U,{span:14},{default:s(()=>[n(W,{modelValue:u.value,"onUpdate:modelValue":k[2]||(k[2]=Q=>u.value=Q),step:1,min:-10,max:10,size:"small",onInput:A},null,8,["modelValue"])]),_:1})]),_:1}),n(F,{gutter:10},{default:s(()=>[n(U,{span:10},{default:s(()=>[$("模糊距离:")]),_:1}),n(U,{span:14},{default:s(()=>[n(W,{modelValue:d.value,"onUpdate:modelValue":k[3]||(k[3]=Q=>d.value=Q),step:1,min:1,max:20,size:"small",onInput:A},null,8,["modelValue"])]),_:1})]),_:1}),n(F,{gutter:10},{default:s(()=>[n(U,{span:10},{default:s(()=>[$("阴影颜色:")]),_:1}),n(U,{span:14},{default:s(()=>[n(Ve,{modelValue:p.value,"onUpdate:modelValue":k[4]||(k[4]=Q=>p.value=Q),onChange:A},null,8,["modelValue"])]),_:1})]),_:1})],64)):N("",!0),n(Z),n(F,{gutter:10},{default:s(()=>[n(U,{span:10},{default:s(()=>[$("新拟态风格:")]),_:1}),n(U,{span:14},{default:s(()=>[w("div",Po,[n(M,{modelValue:l.value,"onUpdate:modelValue":k[5]||(k[5]=Q=>l.value=Q),size:"small",onChange:H},null,8,["modelValue"])])]),_:1})]),_:1}),l.value?(h(),V(B,{key:1},[w("div",{class:"light-box",style:K({background:((_e=S(t).current.style)==null?void 0:_e.background)||((Le=S(t).current.style)==null?void 0:Le.backgroundColor)})},[n(je,{top:"0",bottom:"unset",right:"0",left:"unset",active:z.value==2,"data-value":"2",onClick:k[6]||(k[6]=Q=>b(2)),class:"light-source"},null,8,["active"]),n(je,{top:"0",bottom:"unset",right:"unset",left:"0",active:z.value==1,"data-value":"1",onClick:k[7]||(k[7]=Q=>b(1)),class:"light-source"},null,8,["active"]),n(je,{top:"unset",bottom:"0",right:"0",left:"unset",active:z.value==3,"data-value":"3",onClick:k[8]||(k[8]=Q=>b(3)),class:"light-source"},null,8,["active"]),n(je,{top:"unset",bottom:"0",right:"unset",left:"0",active:z.value==4,"data-value":"4",onClick:k[9]||(k[9]=Q=>b(4)),class:"light-source"},null,8,["active"]),w("div",{class:"soft-element soft-shadow",style:K({...S(t).current.style,borderRadius:S(t).current.style.borderRadius+"px"})},null,4)],4),n(F,{gutter:10},{default:s(()=>[n(U,{span:10},{default:s(()=>[$("圆角:")]),_:1}),n(U,{span:14},{default:s(()=>[n(W,{modelValue:S(t).current.style.borderRadius,"onUpdate:modelValue":k[10]||(k[10]=Q=>S(t).current.style.borderRadius=Q),step:1,min:0,max:S(t).current.width/2,size:"small",onInput:k[11]||(k[11]=Q=>A("neumorDistance"))},null,8,["modelValue","max"])]),_:1})]),_:1}),n(F,{gutter:10},{default:s(()=>[n(U,{span:10},{default:s(()=>[$("模糊距离:")]),_:1}),n(U,{span:14},{default:s(()=>[n(W,{modelValue:v.value,"onUpdate:modelValue":k[12]||(k[12]=Q=>v.value=Q),step:1,min:5,max:50,size:"small",onInput:k[13]||(k[13]=Q=>A("neumorDistance"))},null,8,["modelValue"])]),_:1})]),_:1}),n(F,{gutter:10},{default:s(()=>[n(U,{span:10},{default:s(()=>[$("强度:")]),_:1}),n(U,{span:14},{default:s(()=>[n(W,{modelValue:m.value,"onUpdate:modelValue":k[14]||(k[14]=Q=>m.value=Q),step:.01,min:0,max:1,size:"small",onInput:A},null,8,["modelValue"])]),_:1})]),_:1}),n(F,{gutter:10},{default:s(()=>[n(U,{span:10},{default:s(()=>[$("模糊大小:")]),_:1}),n(U,{span:14},{default:s(()=>[n(W,{modelValue:f.value,"onUpdate:modelValue":k[15]||(k[15]=Q=>f.value=Q),step:1,min:0,max:100,size:"small",onInput:A},null,8,["modelValue"])]),_:1})]),_:1}),n(Lo,{shape:c.value,setShape:I,stroke:((Te=S(t).current.style)==null?void 0:Te.background)||((qe=S(t).current.style)==null?void 0:qe.backgroundColor)},null,8,["shape","stroke"])],64)):N("",!0),n(Z)])):N("",!0)}}}),jo=te(Oo,[["__scopeId","data-v-5cb517d6"]]),No={class:"color-list"},Go=["onClick"],Yo=J({__name:"ElementStyle",setup(e){const t=de(),o=R([{backgroundColor:"#ff4500"},{backgroundColor:"#ff8c00"},{backgroundColor:"#ffd700"},{backgroundColor:"#90ee90"},{backgroundColor:"#00ced1"},{backgroundColor:"#1e90ff"},{backgroundColor:"#c71585"},{backgroundColor:"rgba(255, 69, 0, 0.68)"}]),l=j({get:()=>t.current.style.background||t.current.style.backgroundColor,set:r=>{t.current.style.background=r}}),a=r=>{t.current.selected&&(t.current.style={...t.current.style,...r})};function u(r,i){t.current.style[r]=i}return(r,i)=>{const d=y("el-divider"),p=y("el-col"),f=y("el-slider"),v=y("el-row"),m=y("el-form");return S(t).current&&S(t).current.selected?(h(),q(m,{key:0,model:S(t).current,"label-width":"80px","label-position":"left"},{default:s(()=>[w("div",No,[(h(!0),V(B,null,Y(o.value,c=>(h(),V("div",{class:"color-item",style:K(c),onClick:_=>a(c)},null,12,Go))),256))]),S(t).current.style?(h(),V(B,{key:0},[n(Qt,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=c=>l.value=c)},null,8,["modelValue"]),n(d),n(v,{gutter:10},{default:s(()=>[n(p,{span:10},{default:s(()=>[$("透明度:")]),_:1}),n(p,{span:14},{default:s(()=>[n(f,{modelValue:1,step:.01,min:0,max:1,size:"small",onInput:i[1]||(i[1]=c=>u("opacity",c))})]),_:1})]),_:1}),n(d),n(bo),n(d),n(wo),n(d),n(jo)],64)):N("",!0)]),_:1},8,["model"])):N("",!0)}}}),Jo=te(Yo,[["__scopeId","data-v-af3984eb"]]),Wo=J({__name:"Position",setup(e){const t=de(),o=[{label:"左对齐",value:"justify-left"},{label:"水平居中",value:"justify-center"},{label:"右对齐",value:"justify-right"}],l=[{label:"上对齐",value:"align-top"},{label:"垂直居中",value:"align-center"},{label:"下对齐",value:"align-bottom"}],a=R(["resizable","rotatable"]),u=[{label:"禁用",value:"disabled"},{label:"可缩放",value:"resizable"},{label:"可旋转",value:"rotatable"}];function r(p){t.current.angle=(t.current.angle||0)+p}function i(p){u.map(v=>v.value).forEach(v=>{p.includes(v)?t.current[v]=!0:t.current[v]=!1})}function d(p){const{width:f,height:v}=t.data.container.style;switch(p){case"justify-left":t.current.left=0;break;case"justify-center":t.current.left=f/2-t.current.width/2;break;case"justify-right":t.current.left=f-t.current.width;break;case"align-top":t.current.top=0;break;case"align-center":t.current.top=v/2-t.current.height/2;break;case"align-bottom":t.current.top=v-t.current.height;break}}return(p,f)=>{const v=y("el-col"),m=y("el-row"),c=y("el-divider"),_=y("el-button"),x=y("el-tooltip"),z=y("el-button-group"),g=y("el-checkbox-button"),b=y("el-checkbox-group"),I=y("el-form");return S(t).current&&S(t).current.selected?(h(),q(I,{key:0,model:S(t).current,"label-width":"80px","label-position":"left"},{default:s(()=>[n(m,{gutter:10},{default:s(()=>[n(v,{span:12},{default:s(()=>[n(pe,{modelValue:S(t).current.left,"onUpdate:modelValue":f[0]||(f[0]=H=>S(t).current.left=H),prefix:"X"},null,8,["modelValue"])]),_:1}),n(v,{span:12},{default:s(()=>[n(pe,{modelValue:S(t).current.top,"onUpdate:modelValue":f[1]||(f[1]=H=>S(t).current.top=H),prefix:"Y"},null,8,["modelValue"])]),_:1})]),_:1}),n(m,{gutter:10},{default:s(()=>[n(v,{span:12},{default:s(()=>[n(pe,{modelValue:S(t).current.width,"onUpdate:modelValue":f[2]||(f[2]=H=>S(t).current.width=H),prefix:"W"},null,8,["modelValue"])]),_:1}),n(v,{span:12},{default:s(()=>[n(pe,{modelValue:S(t).current.height,"onUpdate:modelValue":f[3]||(f[3]=H=>S(t).current.height=H),prefix:"H"},null,8,["modelValue"])]),_:1})]),_:1}),n(m,{gutter:10},{default:s(()=>[n(v,{span:12},{default:s(()=>[n(pe,{modelValue:S(t).current.angle,"onUpdate:modelValue":f[4]||(f[4]=H=>S(t).current.angle=H),prefix:"旋转"},null,8,["modelValue"])]),_:1}),n(v,{span:12,class:"es-col"},{default:s(()=>[w("div",{class:"text-btn",onClick:f[5]||(f[5]=H=>r(-45))},[n(Ee,{name:"rotate-left"}),$(" -45° ")]),w("div",{class:"text-btn",onClick:f[6]||(f[6]=H=>r(45))},[n(Ee,{name:"rotate-right"}),$(" +45° ")])]),_:1})]),_:1}),n(c),n(m,null,{default:s(()=>[n(z,{style:{display:"inline-flex"}},{default:s(()=>[(h(),V(B,null,Y(o,H=>n(x,{placement:"top","show-after":300,content:H.label},{default:s(()=>[n(_,{style:{flex:"1"},onClick:A=>d(H.value)},{default:s(()=>[n(Ee,{name:H.value,size:20},null,8,["name"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])),64))]),_:1})]),_:1}),n(m,null,{default:s(()=>[n(z,{style:{display:"inline-flex"}},{default:s(()=>[(h(),V(B,null,Y(l,H=>n(x,{placement:"top","show-after":300,content:H.label},{default:s(()=>[n(_,{style:{flex:"1"},onClick:A=>d(H.value)},{default:s(()=>[n(Ee,{name:H.value,size:20},null,8,["name"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])),64))]),_:1})]),_:1}),n(c),n(m,null,{default:s(()=>[n(b,{modelValue:a.value,"onUpdate:modelValue":f[7]||(f[7]=H=>a.value=H),size:"small",onChange:i},{default:s(()=>[(h(),V(B,null,Y(u,H=>n(x,{placement:"top","show-after":300,content:H.label},{default:s(()=>[n(g,{style:{flex:"1"},label:H.value,value:H.value},{default:s(()=>[n(Ee,{name:H.value,size:20},null,8,["name"])]),_:2},1032,["label","value"])]),_:2},1032,["content"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])):N("",!0)}}}),Qo=te(Wo,[["__scopeId","data-v-1ae33cb6"]]),Xo={class:"es-layout-info"},Ko={class:"es-info-tabs"},Zo=["onClick"],ea=J({__name:"Info",setup(e){const t=de(),o={样式:Jo,位置:Qo,画布属性:Jn},l=["样式","位置"],a=["画布属性"],u=R("画布属性"),r=j(()=>t.current&&t.current.selected?l:a),i=j(()=>o[u.value]);return ke(()=>t.current.selected,()=>{u.value=t.current.selected?l[0]:a[0]},{immediate:!0}),(d,p)=>(h(),V("div",Xo,[w("div",Ko,[(h(!0),V(B,null,Y(r.value,f=>(h(),V("div",{class:ye(["es-info-tab",{active:f===u.value}]),onClick:v=>u.value=f},ne(f),11,Zo))),256))]),w("div",{class:"es-info-style",onClick:p[0]||(p[0]=he(()=>{},["stop"]))},[(h(),q(Ze(i.value)))])]))}});function ta(e,t){const o=R();function l(r){let i=!1;e.value.elements.forEach(d=>{d.selected&&(d.selected=!1,i=!0)}),i||t.value.onMouseDown(r)}function a(r){for(let i=0;i<e.value.elements.length;i++){const d=e.value.elements[i],p=r.left<d.left&&r.left+r.width>d.left+d.width,f=r.top<d.top&&r.top+r.height>d.top+d.height;p&&f?d.selected=!0:d.selected=!1}}function u(){o.value=e.value.elements.some(r=>r.selected),o.value&&setTimeout(()=>{document.addEventListener("click",()=>{o.value=!1},{once:!0})})}return{areaSelected:o,onEditorMouseDown:l,onAreaMove:a,onAreaUp:u}}function Xt(e){const t={current:-1,queue:[],commands:{},commandArray:[],destoryArray:[]},o=a=>{t.commandArray.push(a),t.commands[a.name]=(...u)=>{const{redo:r,undo:i}=a.execute(...u);if(r&&r(),a.pushQueue){let{queue:d}=t;d.length>0&&(d=d.slice(0,t.current+1),t.queue=d),t.queue.push({redo:r,undo:i}),t.current+=1}}};o({name:"redo",keyboard:"ctrl+y",execute(){return{redo(){let a=t.queue[t.current+1];a&&(a.redo&&a.redo(),t.current++)}}}}),o({name:"undo",keyboard:"ctrl+z",execute(){return{redo(){if(t.current===-1)return;let a=t.queue[t.current];a&&(a.undo&&a.undo(),t.current--)}}}}),o({name:"drag",pushQueue:!0,init(){const a=()=>{this.before=He(e.data.elements)},u=()=>t.commands.drag();return we.on("dragstart",a),we.on("dragend",u),()=>{we.off("dragstart",a),we.off("dragend",u)}},execute(){const a=this.before,u=e.data.elements;return{redo(){e.data={...e.data,elements:u}},undo(){e.data={...e.data,elements:a}}}}}),o({name:"updateContainer",pushQueue:!0,execute(a){const u={before:e.data,after:a};return{redo(){e.data=u.after},undo(){e.data=u.before}}}}),t.commandArray.forEach(a=>{a.init&&t.destoryArray.push(a.init())});const l=()=>{const a=u=>{const{ctrlKey:r,key:i}=u,d=[];r&&d.push("ctrl"),d.push(i);const p=d.join("+");t.commandArray.forEach(({name:f,keyboard:v})=>{v&&v===p&&(t.commands[f](),u.preventDefault())})};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}};return ve(()=>{t.destoryArray.push(l())}),hl(()=>{t.destoryArray.forEach(a=>a&&a())}),t}const la=w("div",{id:"esEditor"},null,-1),na=J({__name:"Dialog",props:{option:{type:Object,default:()=>({})}},setup(e,{expose:t}){const l=Ie({option:e.option,visible:!1});let a;const u=p=>{l.option=p,l.visible=!0,Ft(()=>{a=_l.edit("esEditor",{maxLines:34,minLines:34,fontSize:14,theme:"ace/theme/one_dark",mode:"ace/mode/json5",tabSize:4,readOnly:!1}),a.setValue(JSON.stringify(JSON.parse(l.option.content),null,4))})},r=()=>{l.visible=!1},i=()=>{const{confirm:p}=l.option;p&&p(a&&a.getValue()),r()},d=()=>{if(!a)return;const p=document.createElement("a"),f=Lt().format("YYYY-MM-DD-HH-mm-ss")+".json";p.download=f;const v=new Blob([a.getValue()]),m=URL.createObjectURL(v);p.href=m,p.click(),URL.revokeObjectURL(m)};return t({open:u,close:r}),(p,f)=>(h(),q(S(gl),Ce({modelValue:l.visible,"onUpdate:modelValue":f[0]||(f[0]=v=>l.visible=v)},l.option,{draggable:""}),{footer:s(()=>[n(S(st),{onClick:r},{default:s(()=>[$("取消")]),_:1}),n(S(st),{type:"primary",onClick:i},{default:s(()=>[$("保存编辑")]),_:1}),n(S(st),{type:"primary",onClick:d},{default:s(()=>[$("导出JSON")]),_:1})]),default:s(()=>[la]),_:1},16,["modelValue"]))}});let Ge=null;function oa(e){if(!Ge){const{container:o}=_t(),l=document.createElement("div");Ge=n(na,{option:e}),gt(Ge,l),o.appendChild(l.firstElementChild)}const{open:t}=Ge.component.exposed;t(e)}const aa={key:0},sa=["onClick"],ra=J({__name:"Menu",props:{option:{type:Object,default:()=>({})}},setup(e,{expose:t}){const o=e,l=R(),a=R(),u=Ie({option:o.option,visible:!1,top:0,left:0}),r=j(()=>({left:u.left+"px",top:u.top+"px"})),i=j(()=>({left:u.option.clientX+"px",top:u.option.clientY+"px"})),d=[yl(),wl(),xl(10)],p=m=>{u.option=m,u.visible=!0,bl(l.value,a.value,{middleware:d}).then(c=>{u.left=c.x,u.top=c.y})},f=()=>{u.visible=!1},v=m=>{u.option.onClick&&u.option.onClick(m),f()};return ve(()=>{document.addEventListener("mousedown",f)}),lt(()=>{document.removeEventListener("mousedown",f)}),t({open:p,close:f}),(m,c)=>(h(),V("div",null,[w("div",{ref_key:"triggerRef",ref:l,class:"es-trigger",style:K(i.value)},null,4),mt(w("div",{ref_key:"menuRef",ref:a,class:"es-contentmenu",style:K(r.value),onClick:c[0]||(c[0]=he(()=>{},["stop"])),onMousedown:c[1]||(c[1]=he(()=>{},["stop"]))},[u.option.items?(h(),V("ul",aa,[(h(!0),V(B,null,Y(u.option.items,_=>(h(),V("li",{onClick:x=>v(_)},ne(_.label),9,sa))),256))])):N("",!0)],36),[[vt,u.visible]])]))}}),ua=te(ra,[["__scopeId","data-v-cab92a19"]]);let Ye=null;function Rt(e){if(!Ye){const{container:o}=_t(),l=document.createElement("div");Ye=n(ua,{option:e}),gt(Ye,l),o.appendChild(l.firstElementChild)}const{open:t}=Ye.component.exposed;t(e)}const ia=["accept"],da=J({__name:"Upload",props:{option:{type:Object,required:!0}},setup(e,{expose:t}){const o={json:".json",image:"image/*"},l=e,a={option:l.option},u=R(),r=p=>{a.option=p;let f=o[p.resultType];p.accept&&(f=p.accept),u.value.setAttribute("accept",f),u.value.click()},i=async p=>{if(!a.option||!a.option.onChange)return;const{resultType:f,onChange:v}=a.option;let m=p;const c=p.target.files[0];["json","text"].includes(f)?m=await d(c):f==="image"&&(m=await d(c,f)),v(m),u.value.value=""},d=(p,f="text")=>new Promise(v=>{const m=new FileReader;m.addEventListener("load",c=>{const _=c.target.result||"{}";v(_)}),f==="text"?m.readAsText(p):m.readAsDataURL(p)});return ve(()=>{r(l.option)}),t({open:r}),(p,f)=>{var v;return h(),V("input",{ref_key:"inpurRef",ref:u,type:"file",accept:(v=a.option)==null?void 0:v.accept,class:"es-upload",onChange:i},null,40,ia)}}}),ca=te(da,[["__scopeId","data-v-b9ed9b62"]]);let Je=null;function Dt(e){if(Je){const{open:t}=Je.component.exposed;t(e)}else{const{container:t}=_t(),o=document.createElement("div");Je=n(ca,{option:e}),gt(Je,o),t.appendChild(o.firstElementChild)}}const pa={"ctrl+x":"cut","ctrl+c":"copy","ctrl+v":"paste",Delete:"remove","ctrl+a":"selectAll","ctrl+d":"duplicate"};function fa(e,t){const o=j(()=>{var m;return((m=t.value)==null?void 0:m.getBoundingClientRect())||{}});let l=null,a=null;const u=m=>m?e.value.elements.findIndex(c=>c.id===m.id):-1,r=(m,c)=>{[e.value.elements[m],e.value.elements[c]]=[e.value.elements[c],e.value.elements[m]]},i=m=>{if(!m)return;const c=He(m);c.id=$e(),e.value.elements.push(c)},d={remove(){const m=u(l);m>-1&&e.value.elements.splice(m,1)},cut(m){a=m,d.remove(m)},copy(m){a=m},duplicate(m){const c=He(m);c.left+=10,c.top+=10,i(c)},top(m){const c=u(m),[_]=e.value.elements.splice(c,1);e.value.elements.push(_)},bottom(m){const c=u(m),[_]=e.value.elements.splice(c,1);e.value.elements.unshift(_)},group(){e.value.elements=rn(e.value.elements,o.value)},ungroup(){e.value.elements=un(e.value.elements,o.value)},paste(m,c,_){if(!a)return;const x=He(a);x.left=c-o.value.left,x.top=_-o.value.top,i(x)},selectAll(){e.value.elements.forEach(m=>m.selected=!0)},lock(m){const c=u(m);e.value.elements[c].disabled=!e.value.elements[c].disabled},moveUp(m){const c=u(m);c>=e.value.elements.length-1||r(c,c+1)},moveDown(m){const c=u(m);c<=0||r(c,c-1)}},p=(m,c)=>{m.preventDefault();const{clientX:_,clientY:x}=m;l=He(c);const z=e.value.elements.filter(H=>H.selected),g=[{action:"remove",label:"删除"},{action:"cut",label:"剪切"},{action:"copy",label:"复制"},{action:"duplicate",label:"创建副本"},{action:"top",label:"置顶"},{action:"bottom",label:"置底"},{action:"moveUp",label:"上移一层"},{action:"moveDown",label:"下移一层"}];!c.group&&z.length>1?g.push({action:"group",label:"组合"}):c.group&&g.push({action:"ungroup",label:"取消组合"});const b=l.disabled,I={action:"lock",label:"锁定 / 解锁"};b||g.push(I),Rt({clientX:_,clientY:x,items:b?[I]:g,onClick:({action:H})=>{d[H]&&d[H](l)}})},f=m=>{const{clientX:c,clientY:_}=m;Rt({clientX:c,clientY:_,items:[{action:"paste",label:"在这粘贴"},{action:"selectAll",label:"全选"}],onClick({action:x}){x==="paste"?d.paste(l,c,_):d[x]&&d[x](l)}})},v=m=>{const{ctrlKey:c,key:_}=m,x=[];c&&x.push("ctrl"),x.push(_);const z=x.join("+"),g=pa[z];d[g]&&(m.preventDefault(),l=e.value.elements.find(b=>b.selected)||null,d[g](l))};return ve(()=>{window.addEventListener("keydown",v)}),Tt(()=>{window.removeEventListener("keydown",v)}),{editorRect:o,onContextmenu:p,onEditorContextMenu:f}}let ut;const it="es-editor-container-1996",_t=()=>{if(!ut&&!document.querySelector(`#${it}`)){const e=document.createElement("div");e.id=it,ut=e,document.body.appendChild(e)}return{container:ut,selector:it}},ma=J({__name:"index",props:{modelValue:{type:Object,required:!0,default:()=>({})},commands:{type:Object}},setup(e){const t=de(),o=e,l=R(null),a=j({get:()=>o.modelValue,set:()=>{}}),u=j(()=>{var U;return((U=o.modelValue.container)==null?void 0:U.gridSize)||10}),r=j(()=>{var U;return((U=o.modelValue.container)==null?void 0:U.scaleRatio)||1}),i=j(()=>{const{width:U,height:M}=a.value.container.style;return{...a.value.container.style,width:U+"px",height:M+"px",transform:`scale(${r.value})`,transformOrigin:"top left"}}),d=R({startX:0,startY:0,disX:0,disY:0}),p=j({get:()=>t.current,set:U=>{t.current=U}}),f=R(),{areaSelected:v,onEditorMouseDown:m,onAreaMove:c,onAreaUp:_}=ta(a,f),{editorRect:x,onContextmenu:z,onEditorContextMenu:g}=fa(a,l);function b(U){p.value=U,v.value||a.value.elements.filter(F=>F.selected).length===1&&a.value.elements.forEach(F=>F.selected=!1),p.value.selected=!0,d.value.startX=p.value.left,d.value.startY=p.value.top,we.emit("dragstart")}function I(){we.emit("dragend")}function H(U){const M=U.left-d.value.startX,F=U.top-d.value.startY;a.value.elements.forEach(W=>{var Z;W.selected&&((Z=p.value)==null?void 0:Z.id)!==W.id&&(W.left+=M,W.top+=F)}),d.value.startX=U.left,d.value.startY=U.top}function A(U,M){Object.keys(U).forEach(F=>{M[F]=U[F]})}const P={dblclick:()=>{!p.value||!p.value.selected||(p.value.editable=!0)},click:()=>{p.value&&(p.value.editable=!1)}};function k(U="on"){["dblclick","click"].forEach(F=>{U==="on"?document.addEventListener(F,P[F]):document.removeEventListener(F,P[F])})}return ve(()=>{k()}),Tt(()=>{k("off")}),(U,M)=>(h(),V("div",{ref_key:"editorRef",ref:l,class:"es-editor",style:K(i.value),onMousedown:M[2]||(M[2]=(...F)=>S(m)&&S(m)(...F)),onContextmenu:M[3]||(M[3]=he((...F)=>S(g)&&S(g)(...F),["prevent"]))},[(h(!0),V(B,null,Y(a.value.elements,(F,W)=>(h(),q(S(kl),Ce({rotatable:"",ref_for:!0},S(pn)(F,["style","props"]),{style:{position:"absolute"},"grid-x":u.value,"grid-y":u.value,scaleRatio:r.value,boundary:"",markline:a.value.container.markline.show,snap:a.value.container.snap,"snap-threshold":a.value.container.gridSize,onDragStart:Z=>b(F),onDragEnd:I,onDrag:H,onChange:Z=>A(Z,F),onContextmenu:he(Z=>S(z)(Z,F),["stop"]),onMousedown:M[0]||(M[0]=he(()=>{},["stop"])),onClick:M[1]||(M[1]=he(()=>{},["stop"]))}),{default:s(()=>[(h(),q(Ze(F.component),Ce({element:F,ref_for:!0},F.props,{style:{...S(Ke)(F.style,!1),width:"100%",height:"100%",display:"flex"}}),{default:s(()=>[F.text?(h(),q(Wt,{key:0,editable:F.editable,text:F.text,id:W,style:K(S(Ke)(F.style))},null,8,["editable","text","id","style"])):N("",!0)]),_:2},1040,["element","style"]))]),_:2},1040,["grid-x","grid-y","scaleRatio","markline","snap","snap-threshold","onDragStart","onChange","onContextmenu"]))),256)),a.value.container.snapToGrid?(h(),q(wn,{key:0,grid:a.value.container.gridSize,"border-color":a.value.container.gridColor},null,8,["grid","border-color"])):N("",!0),n(Tl,{ref_key:"areaRef",ref:f,onMove:S(c),onUp:S(_)},null,8,["onMove","onUp"])],36))}}),va=te(ma,[["__scopeId","data-v-19f12345"]]),ha={class:"es-preview-tools"},ga=J({__name:"Preview",setup(e){const t=de(),o=R(),l=j(()=>{const{width:i,height:d}=t.data.container.style;return{...t.data.container.style,width:i+"px",height:d+"px",transform:`scale(${a.value})`,transformOrigin:"top left"}}),a=j(()=>{var i;return((i=t.data.container)==null?void 0:i.scaleRatio)||1}),u=()=>{var d;const{width:i}=t.data.container.style;ge.emit("sendEditorHtml",{data:`<body style="width: ${i}px;">${(d=o.value)==null?void 0:d.outerHTML}</body>`}),t.preview=!1};function r(i){var v;const{width:d,height:p}=t.data.container.style,f=Lt().format("YYYY-MM-DD-HH-mm-ss")+"."+i;if(i==="html"){const m=new Blob([`<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8" /><meta http-equiv="content-type" content="text/html;charset=utf-8" /></head><body style="width: ${d}px;">${(v=o.value)==null?void 0:v.outerHTML}</body></html>`],{type:"text/html"}),c=document.createElement("a");c.download=f;const _=URL.createObjectURL(m);c.href=_,document.body.appendChild(c),c.click(),URL.revokeObjectURL(_),document.body.removeChild(c);return}Cl(o.value).then(m=>{if(i==="pdf"){const c=new Vl("l","pt","a4"),_=m.toDataURL();return c.addImage(_,"PNG",0,0,+d,+p),c.save(f)}m.toBlob(c=>{const _=document.createElement("a");_.download=f;const x=URL.createObjectURL(c);_.href=x,_.click(),URL.revokeObjectURL(x)})})}return lt(()=>{ge.off("getEditorHtml")}),(i,d)=>{const p=y("el-button"),f=y("el-dialog");return h(),q(f,{draggable:"",fullscreen:""},{default:s(()=>[w("div",ha,[n(p,{type:"primary",onClick:d[0]||(d[0]=v=>r("png"))},{default:s(()=>[$("PNG")]),_:1}),n(p,{type:"primary",onClick:d[1]||(d[1]=v=>r("jpg"))},{default:s(()=>[$("JPG")]),_:1}),n(p,{type:"primary",onClick:d[2]||(d[2]=v=>r("pdf"))},{default:s(()=>[$("PDF")]),_:1}),n(p,{type:"primary",onClick:d[3]||(d[3]=v=>r("html"))},{default:s(()=>[$("HTML")]),_:1}),n(p,{type:"primary",onClick:u},{default:s(()=>[$("保存到插件")]),_:1})]),w("div",{class:"es-preview-body",style:K({width:l.value.width,height:l.value.height,border:"1px dashed gray"})},[w("div",{ref_key:"editorRef",ref:o,class:"es-editor preview",style:K(l.value)},[(h(!0),V(B,null,Y(S(t).data.elements,v=>(h(),q(Ze(v.component),Ce({ref_for:!0},v.props,{style:{...S(Ke)(v.style,!1),width:v.width+"px",height:v.height+"px",position:"absolute",left:v.left+"px",top:v.top+"px"}}),{default:s(()=>[v.text?(h(),q(Wt,{key:0,text:v.text,style:K(S(Ke)(v.style))},null,8,["text","style"])):N("",!0)]),_:2},1040,["style"]))),256))],4)],4)]),_:1})}}}),_a=te(ga,[["__scopeId","data-v-0199ea2e"]]),ba={class:"es-layout-container"},ya=J({__name:"index",props:{data:{type:Object,required:!0},theme:{type:String}},setup(e,{expose:t}){const o=e,l=de(),a=R("transparent"),u=R(),{commands:r}=Xt(l),i=[{label:"返回",icon:$l,handler:()=>{ge.emit("goBack",!0)}},{label:"撤销",icon:Sl,handler:r.undo},{label:"重做",icon:Ml,handler:r.redo},{label:"导出",icon:zl,handler:()=>{oa({title:"导出",content:JSON.stringify(l.data),confirm(g){r.updateContainer(JSON.parse(g))}})}},{label:"导入",icon:Ul,handler:()=>{Dt({resultType:"json",onChange(g){r.updateContainer(JSON.parse(g))}})}},{label:"插入图片",icon:El,handler:()=>{Dt({resultType:"image",onChange(g){const I={id:$e(),component:"img",props:{src:g,width:200,onLoadOnce(H){if(I.props.loaded)return;const{naturalHeight:A,naturalWidth:P}=H.target,k=l.data.elements.find(M=>M.id===I.id);let U=200/P;U>1&&(U=1),k.width=P*U,k.height=A*U,I.props.loaded=!0}}};l.data.elements.push(I)}})}},{label:"保存",icon:Il,handler:()=>l.preview=!0}],d=j(()=>{const{width:g,height:b}=l.data.container.style,I={},H=l.initWidth>+g,A=l.initHeight>+b;return H&&(I.position="absolute",I.left="50%",I.transform="translateX(-50%)"),A&&(I.position="absolute",I.top="50%",I.transform="translateY(-50%)"),H&&A&&(I.transform="translate(-50%, -50%)"),I}),p=j(()=>{var g;return((g=u.value)==null?void 0:g.getBoundingClientRect())||{}});let f=null;function v(g){we.emit("dragstart"),f=g}function m(){we.emit("dragend")}function c(g){g.dataTransfer.dropEffect="move"}function _(g){if(!f)return;const b=f.component==="es-icon",I=[...l.data.elements,{...f,equalProportion:b,left:g.offsetX-f.width/2,top:g.offsetY-f.height/2,id:$e(),style:f.style||{}}];l.data.elements=I,f=null}function x(){l.initWidth=Math.floor(p.value.width),l.initHeight=Math.floor(p.value.height-7),l.data.container.style.width=l.initWidth,l.data.container.style.height=l.initHeight}function z(){return{...l.data}}return ke(()=>o.data,()=>{l.update(o.data)},{immediate:!0}),ke(()=>o.theme,()=>{o.theme&&(l.theme=o.theme)},{immediate:!0}),ve(()=>{x(),document.documentElement.className=="dark"?a.value="transparent":a.value="#EFF2F5",ge.on("themeColor",g=>{g=="dark"?a.value="transparent":a.value="#EFF2F5"})}),lt(()=>{ge.off("themeColor")}),t({tools:i,getData:z}),(g,b)=>(h(),V(B,null,[w("div",ba,[n(Pn,{onDragstart:v,onDragend:m}),w("div",{ref_key:"mainRef",ref:u,class:"es-layout-main",style:K(`border: 10px solid ${a.value};`)},[w("div",{class:"es-editor-container",style:K(d.value)},[n(va,{modelValue:S(l).data,"onUpdate:modelValue":b[0]||(b[0]=I=>S(l).data=I),commands:S(r),onDragenter:c,onDrop:_,onDragover:b[1]||(b[1]=he(()=>{},["prevent"]))},null,8,["modelValue","commands"])],4)],4),n(ea,{modelValue:S(l).current,"onUpdate:modelValue":b[2]||(b[2]=I=>S(l).current=I)},null,8,["modelValue"])]),n(_a,{modelValue:S(l).preview,"onUpdate:modelValue":b[3]||(b[3]=I=>S(l).preview=I)},null,8,["modelValue"])],64))}});async function Kt(e){return(await Hl(()=>import("./index-4c571653.js").then(o=>o.i),["assets/index-4c571653.js","assets/index-a5da050d.js","assets/index-6e7bfddf.css"])).MD5(e).toString()}const wa={class:"es-header-toolbar"},xa=["onClick"],ka=J({__name:"index",emits:["outerHTML","mounted"],setup(e,{emit:t}){const o=ft(),l=R(""),a=R(),u=t,r=R(null),i=R({container:{markline:{show:!0,color:""},snapToGrid:!0,snap:!0,gridSize:10,gridColor:"",style:{},scaleRatio:1},elements:[]}),d=j(()=>{var m;return((m=r.value)==null?void 0:m.tools)||[]});function p(m){typeof m.handler=="function"&&m.handler()}const f=()=>{o.scene=1},v=async()=>{var c;const m=await Kt(l.value);u("outerHTML",{hash:m,data:l.value,json:JSON.stringify((c=r.value)==null?void 0:c.getData())}),ae.success("保存成功！"),o.scene=1};return ve(()=>{u("mounted","Please set project json!"),ge.on("sendEditorHtml",m=>{l.value=m.data,v()}),ge.on("goBack",m=>{f()})}),lt(()=>{ge.off("sendEditorHtml"),ge.off("goBack")}),(m,c)=>{const _=y("el-button");return h(),V(B,null,[w("div",{class:"es-layout",onClick:c[0]||(c[0]=he(()=>{},["stop"]))},[w("div",wa,[(h(!0),V(B,null,Y(d.value,x=>(h(),V("div",{class:"es-tool-btn",onClick:z=>p(x)},[n(_,{icon:x.icon},{default:s(()=>[$(ne(x.label),1)]),_:2},1032,["icon"])],8,xa))),256))]),n(S(ya),{ref_key:"editorRef",ref:r,data:i.value,theme:"dark"},null,8,["data"])]),n(Rl,{ref_key:"codeRef",ref:a},null,512)],64)}}});const Ca=[{prop:"e.msg",tip:"触发此功能的消息"},{prop:"e.post_type",tip:"触发此功能消息类型"},{prop:"e.message_id",tip:"消息唯一标识符"},{prop:"e.user_id",tip:"用户QQ号或Id"},{prop:"e.time",tip:"消息时间戳"},{prop:"e.seq",tip:"消息序号"},{prop:"e.rand",tip:"神秘的数字"},{prop:"e.font",tip:"发送者使用的字体"},{prop:"e.raw_message",tip:"原始消息摘要"},{prop:"e.message_type",tip:"消息类型(group|private|guild)"},{prop:"e.sender.user_id",tip:"发送者QQ号或Id(同e.user_id)"},{prop:"e.sender.nickname",tip:"发送者个人昵称"},{prop:"e.sender.sub_id",tip:"发送者虚拟id"},{prop:"e.sender.card",tip:"发送者所在群昵称"},{prop:"e.sender.sex",tip:"发送者性别"},{prop:"e.sender.age",tip:"发送者年龄"},{prop:"e.sender.area",tip:"发送者居住地"},{prop:"e.sender.level",tip:"发送者群聊等级"},{prop:"e.sender.role",tip:"发送者角色(owner|master|admin)"},{prop:"e.sender.title",tip:"头衔"},{prop:"e.group_id",tip:"群号或ID"},{prop:"e.group_name",tip:"群昵称"},{prop:"e.block",tip:"(true|false)"},{prop:"e.sub_type",tip:"消息子类别"},{prop:"e.anonymous",tip:"匿名者信息"},{prop:"e.atme",tip:"是否@我(true|false)"},{prop:"e.atall",tip:"是否@所有人(true|false)"},{prop:"e.self_id",tip:"机器人QQ或ID"},{prop:"e.isGroup",tip:"是否来自群(true|false)"},{prop:"e.user_avatar",tip:"用户头像地址"},{prop:"e.group_avatar",tip:"用户所在群聊头像地址"},{prop:"e.user_name",tip:"用户昵称"},{prop:"e.isMaster",tip:"是否是主人"}],Va=e=>{let t=window.getSelection();if(!t.rangeCount)return;let o=t.getRangeAt(0);o.toString()&&o.deleteContents();let l=Date.now(),a=document.createElement("span");a.contentEditable="false",a.className="variable-template-Text",a.innerHTML=`<span id="variable${l}" style="display: none; color: green; margin: 0 5px;">${e.tip}</span>\${ ${e.prop} }`,a.onmouseover=()=>{let r=document.getElementById(`variable${l}`);r&&(r.style.display="inline-block")},a.onmouseleave=()=>{let r=document.getElementById(`variable${l}`);r&&(r.style.display="none")};let u=o.cloneRange();u.setStart(o.startContainer,o.startOffset-1),u.startContainer.nodeType===Node.TEXT_NODE&&u.startOffset>=0?(u.collapse(!0),u.insertNode(a),o=document.createRange(),o.setStartAfter(a),o.collapse(!0),t.removeAllRanges(),t.addRange(o)):(o.insertNode(a),o=document.createRange(),o.setStartAfter(a),o.collapse(!0),t.removeAllRanges(),t.addRange(o))},$a=J({__name:"index",props:{fontSize:{type:String,default:"16px"},color:{type:String,default:"rgba(220,223,230,0.5)"},width:{type:String,default:"100%"},minWidth:{type:String,default:"100px"},lineHeight:{type:String,default:"20px"},cusInputValue:{type:String,default:""}},emits:["innerText"],setup(e,{expose:t,emit:o}){const l=o,a=R();let u=0;const r=R(Ca),i=R(!1),d=e;ke(()=>d.cusInputValue,c=>{Ft(()=>{c?a.value.innerText=c:a.value.innerText=""})},{immediate:!0});const p=()=>{l("innerText",a.value.innerText);const c=a.value.innerText.match(/\//g)||[];c.length==u+1&&(i.value=!0),u=c.length},f=()=>a.value.innerText,v=c=>{a.value.innerText=c},m=c=>{i.value=!1,Va(c)};return t({getText:f,setText:v}),(c,_)=>{const x=y("el-table-column"),z=y("el-button"),g=y("el-table"),b=y("el-dialog");return h(),V(B,null,[w("div",{class:"cus_input",contenteditable:!0,ref_key:"input",ref:a,onInput:p,style:K({width:e.width,lineHeight:e.lineHeight,border:"2px solid "+e.color,fontSize:e.fontSize,minWidth:e.minWidth})},null,36),n(b,{modelValue:i.value,"onUpdate:modelValue":_[0]||(_[0]=I=>i.value=I),title:"事件变量",width:"360"},{default:s(()=>[n(g,{data:r.value,style:{"max-height":"400px","overflow-y":"scroll"}},{default:s(()=>[n(x,{prop:"prop"}),n(x,{prop:"tip"}),n(x,{width:"80"},{default:s(({row:I,$index:H})=>[n(z,{size:"small",onClick:A=>m(I)},{default:s(()=>[$("插入")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"])],64)}}});const Sa=te($a,[["__scopeId","data-v-d9b444d5"]]),We=()=>({id:"",render_data:{label:"",visited_label:"",style:1},action:{type:1,permission:{type:2,specify_user_ids:[],specify_role_ids:[]},data:"",reply:!1,enter:!1,anchor:0,click_limit:99999,at_bot_show_channel_list:!1,unsupport_tips:""}}),Ma=()=>({custom_template_id:"101993071_1658748972",content:"",params:[{tempString:"",key:"title",values:["标题"]},{tempString:"",key:"image",values:["https://resource5-1255303497.cos.ap-guangzhou.myqcloud.com/abcmouse_word_watch/other/mkd_img.png"]},{tempString:"",key:"para1",values:["段落1"]},{tempString:"",key:"para2",values:["段落2"]},{tempString:"",key:"desc",values:["简介"]},{tempString:"",key:"content",values:["在这个子频道非常开心"]},{tempString:"",key:"link_introduction",values:["链接介绍"]},{tempString:"",key:"link",values:["https://www.qq.com"]}]}),re=e=>(et("data-v-af5313ad"),e=e(),tt(),e),za={class:"seg-btn-row-box"},Ua={class:"seg-btn-row"},Ea={class:"seg-btn-row-add"},Ia={class:"seg-btn-coloum",style:{display:"flex","justify-content":"space-between"}},Ha=re(()=>w("div",{class:"sub-title"},"id",-1)),Ra=re(()=>w("div",{class:"sub-title"},[w("span",{class:"required"},"*"),$("render_data.label")],-1)),Da=re(()=>w("div",{class:"sub-title"},[w("span",{class:"required"},"*"),$("render_data.visited_label")],-1)),Fa=re(()=>w("div",{class:"sub-title"},[w("span",{class:"required"},"*"),$("render_data.style（按钮样式）")],-1)),La=re(()=>w("div",{class:"sub-title"},[w("span",{class:"required"},"*"),$("action.type")],-1)),Ta=re(()=>w("div",{class:"sub-title"},[w("span",{class:"required"},"*"),$("action.permission.type")],-1)),qa=re(()=>w("div",{class:"sub-title"},"action.permission.specify_user_ids（有权限的用户 id 的列表）",-1)),Ba=re(()=>w("div",{class:"sub-title"},[w("span",{class:"required"},"*"),$("action.data")],-1)),Aa=re(()=>w("div",{class:"sub-title"},"action.reply(指令按钮可用，指令是否带引用回复本消息，默认 false。支持版本 8983)",-1)),Pa=re(()=>w("div",{class:"sub-title"},"action.enter(指令按钮可用，点击按钮后直接自动发送 data，默认 false。支持版本 8983)",-1)),Oa=re(()=>w("div",{class:"sub-title"},"action.anchor(本字段仅在指令按钮下有效，设置后后会忽略 action.enter 配置。 设置为 1 时 ，点击按钮自动唤起启手Q选图器，其他值暂无效果。 仅支持手机端版本 8983+ 的单聊场景，桌面端不支持)",-1)),ja=re(()=>w("div",{class:"sub-title"},"action.click_limit【已弃用】可操作点击的次数，默认不限",-1)),Na=re(()=>w("div",{class:"sub-title"},"action.at_bot_show_channel_list【已弃用】指令按钮可用，弹出子频道选择器，默认 false",-1)),Ga=re(()=>w("div",{class:"sub-title"},[w("span",{class:"required"},"*"),$("action.unsupport_tips")],-1)),Ya=J({__name:"button",props:["btnContent"],emits:["update:btnContent"],setup(e,{emit:t}){const o=e,l=t,a=R(!1),u=R(""),r=R(),i=Ie({row:0,col:0,value:We()}),d=m=>{if(r.value.rows[m].buttons.length>=10){ae.warning("超出最大列数限制！");return}r.value.rows[m].buttons.push(We())},p=()=>{if(r.value.rows.length>=10){ae.warning("超出最大行数限制！");return}r.value.rows.push({buttons:[We()]})},f=(m,c,_)=>{a.value=!0,i.row=c,i.col=_,i.value=m},v=()=>{a.value=!1,r.value.rows[i.row].buttons.splice(i.col,1),r.value.rows[i.row].buttons.length==0&&r.value.rows.splice(i.row,1)};return ke(()=>o.btnContent,m=>{r.value=m},{immediate:!0,deep:!0}),(m,c)=>{const _=y("el-input"),x=y("el-form-item"),z=y("el-button"),g=y("el-card"),b=y("el-form"),I=y("el-radio"),H=y("el-radio-group"),A=y("el-tag"),P=y("el-switch"),k=y("el-input-number"),U=y("el-dialog");return h(),V(B,null,[n(b,null,{default:s(()=>[n(x,{label:"appid"},{default:s(()=>[n(_,{class:"seg-btn-appid",modelValue:r.value.appid,"onUpdate:modelValue":c[0]||(c[0]=M=>r.value.appid=M),placeholder:"你的QQbot id"},null,8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[n(g,{class:"seg-btn-content"},{default:s(()=>[(h(!0),V(B,null,Y(r.value.rows,(M,F)=>(h(),V("div",{class:"seg-btn-coloum",key:F,style:{display:"flex","justify-content":"space-between"}},[w("div",za,[(h(!0),V(B,null,Y(M.buttons,(W,Z)=>(h(),V("div",Ua,[n(z,{type:W.render_data.style==1?"primary":"",plain:W.render_data.style==1,size:"small",onClick:_e=>f(W,F,Z)},{default:s(()=>[$(ne(W.render_data.label),1)]),_:2},1032,["type","plain","onClick"])]))),256))]),w("div",Ea,[n(z,{class:"add-btn",icon:"Plus",onClick:W=>d(F)},null,8,["onClick"])])]))),128)),w("div",Ia,[n(z,{icon:"Plus",onClick:p,style:{"margin-top":"3px"}})])]),_:1})]),_:1})]),_:1}),n(U,{modelValue:a.value,"onUpdate:modelValue":c[17]||(c[17]=M=>a.value=M),title:"按钮配置（重点配置星号）"},{footer:s(()=>[n(z,{type:"primary",size:"default",onClick:v},{default:s(()=>[$(" 删除 ")]),_:1}),n(z,{type:"primary",size:"default",onClick:c[16]||(c[16]=M=>(a.value=!1,l("update:btnContent",r.value)))},{default:s(()=>[$(" 确定 ")]),_:1})]),default:s(()=>[n(b,null,{default:s(()=>[n(x,null,{default:s(()=>[Ha,n(_,{placeholder:"按钮ID：在一个keyboard消息内设置唯一",modelValue:i.value.id,"onUpdate:modelValue":c[1]||(c[1]=M=>i.value.id=M)},null,8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[Ra,n(_,{modelValue:i.value.render_data.label,"onUpdate:modelValue":c[2]||(c[2]=M=>i.value.render_data.label=M),placeholder:"按钮上的文字"},null,8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[Da,n(_,{modelValue:i.value.render_data.visited_label,"onUpdate:modelValue":c[3]||(c[3]=M=>i.value.render_data.visited_label=M),placeholder:"点击后按钮的上文字"},null,8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[Fa,n(H,{modelValue:i.value.render_data.style,"onUpdate:modelValue":c[4]||(c[4]=M=>i.value.render_data.style=M)},{default:s(()=>[n(I,{value:0},{default:s(()=>[$("灰色线框")]),_:1}),n(I,{value:1},{default:s(()=>[$("蓝色线框")]),_:1})]),_:1},8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[La,n(H,{modelValue:i.value.action.type,"onUpdate:modelValue":c[5]||(c[5]=M=>i.value.action.type=M)},{default:s(()=>[n(I,{value:0},{default:s(()=>[$("跳转按钮：http 或 小程序 客户端识别 scheme")]),_:1}),n(I,{value:1},{default:s(()=>[$("回调按钮：回调后台接口, data 传给后台")]),_:1}),n(I,{value:2},{default:s(()=>[$("指令按钮：自动在输入框插入 @bot data")]),_:1})]),_:1},8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[Ta,n(H,{modelValue:i.value.action.permission.type,"onUpdate:modelValue":c[6]||(c[6]=M=>i.value.action.permission.type=M)},{default:s(()=>[n(I,{value:0},{default:s(()=>[$("指定用户可操作")]),_:1}),n(I,{value:1},{default:s(()=>[$("仅管理者可操作")]),_:1}),n(I,{value:2},{default:s(()=>[$("所有人可操作")]),_:1}),n(I,{value:3},{default:s(()=>[$("指定身份组可操作（仅频道可用）")]),_:1})]),_:1},8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[qa,w("div",null,[n(_,{modelValue:u.value,"onUpdate:modelValue":c[7]||(c[7]=M=>u.value=M),size:"small"},null,8,["modelValue"]),n(z,{size:"small",icon:"Plus",onClick:c[8]||(c[8]=M=>i.value.action.permission.specify_user_ids&&i.value.action.permission.specify_user_ids.push(u.value)),style:{"margin-left":"5px"}}),w("span",null,[(h(!0),V(B,null,Y(i.value.action.permission.specify_user_ids,(M,F)=>(h(),q(A,{key:F,class:"mx-1",closable:"",onClose:W=>i.value.action.permission.specify_user_ids&&i.value.action.permission.specify_user_ids.splice(F,1),style:{"margin-left":"5px"}},{default:s(()=>[$(ne(M),1)]),_:2},1032,["onClose"]))),128))])])]),_:1}),n(x,null,{default:s(()=>[Ba,n(_,{modelValue:i.value.action.data,"onUpdate:modelValue":c[9]||(c[9]=M=>i.value.action.data=M),placeholder:"操作相关的数据"},null,8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[Aa,n(P,{modelValue:i.value.action.reply,"onUpdate:modelValue":c[10]||(c[10]=M=>i.value.action.reply=M),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[Pa,n(P,{modelValue:i.value.action.enter,"onUpdate:modelValue":c[11]||(c[11]=M=>i.value.action.enter=M),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[Oa,n(k,{modelValue:i.value.action.anchor,"onUpdate:modelValue":c[12]||(c[12]=M=>i.value.action.anchor=M)},null,8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[ja,n(k,{modelValue:i.value.action.click_limit,"onUpdate:modelValue":c[13]||(c[13]=M=>i.value.action.click_limit=M)},null,8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[Na,n(P,{modelValue:i.value.action.at_bot_show_channel_list,"onUpdate:modelValue":c[14]||(c[14]=M=>i.value.action.at_bot_show_channel_list=M),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),n(x,null,{default:s(()=>[Ga,n(_,{modelValue:i.value.action.unsupport_tips,"onUpdate:modelValue":c[15]||(c[15]=M=>i.value.action.unsupport_tips=M),placeholder:"客户端不支持本action的时候，弹出的toast文案"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});const Ja=te(Ya,[["__scopeId","data-v-af5313ad"]]),Wa={class:"sub-title"},Qa={style:{display:"flex",width:"100%","max-width":"100%"}},Xa={style:{width:"50px"}},Ka={style:{width:"50px"}},Za=J({__name:"markdown",props:["mdContent"],emits:["update:mdContent"],setup(e,{emit:t}){const o=e,l=R(),a=u=>{l.value.content=u,ae.success("原生markdown保存成功，可点击页面保存添加到指令！")};return ke(()=>o.mdContent,u=>{l.value=u},{immediate:!0,deep:!0}),(u,r)=>{const i=y("el-input"),d=y("el-form-item"),p=y("el-divider"),f=y("el-button"),v=y("el-tag"),m=y("el-form");return h(),V(B,null,[n(m,null,{default:s(()=>[n(d,{label:"custom_template_id"},{default:s(()=>[n(i,{class:"seg-markdown-appid",modelValue:l.value.custom_template_id,"onUpdate:modelValue":r[0]||(r[0]=c=>l.value.custom_template_id=c),placeholder:"模板id"},null,8,["modelValue"])]),_:1}),n(d,null,{default:s(()=>[n(p,null,{default:s(()=>[$("模板Markdown")]),_:1}),n(m,null,{default:s(()=>[(h(!0),V(B,null,Y(l.value.params,(c,_)=>(h(),q(d,null,{default:s(()=>[w("div",Wa,ne(c.key),1),w("div",Qa,[n(i,{type:"textarea",modelValue:c.tempString,"onUpdate:modelValue":x=>c.tempString=x,style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"]),w("div",Xa,[n(f,{icon:"Plus",size:"small",onClick:x=>l.value.params.splice(_+1,0,JSON.parse(JSON.stringify(c))),style:{"margin-left":"5px"}},null,8,["onClick"]),n(f,{size:"small",icon:"Delete",style:{"margin-left":"5px"},onClick:x=>l.value.params.splice(_,1)},null,8,["onClick"])]),w("div",Ka,[n(f,{icon:"ArrowUpBold",size:"small",onClick:x=>[l.value.params[_-1],l.value.params[_]]=[l.value.params[_],l.value.params[_-1]],style:{"margin-left":"5px"}},null,8,["onClick"]),n(f,{size:"small",icon:"ArrowDownBold",onClick:x=>[l.value.params[_],l.value.params[_+1]]=[l.value.params[_+1],l.value.params[_]],style:{"margin-left":"5px"}},null,8,["onClick"])])]),w("div",null,[n(f,{icon:"Plus",size:"small",onClick:x=>l.value.params[_].values.push(c.tempString),style:{"margin-left":"5px"}},null,8,["onClick"]),w("div",null,[(h(!0),V(B,null,Y(c.values,(x,z)=>(h(),q(v,{key:z,class:"mx-1",closable:"",onClose:g=>c.values.splice(z,1),style:{"margin-left":"5px","text-overflow":"ellipsis"}},{default:s(()=>[$(ne(x),1)]),_:2},1032,["onClose"]))),128))])])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),n(p,null,{default:s(()=>[$("原生Markdown(填了优先使用)")]),_:1}),n(qt,{code:e.mdContent.content,ext:"md",isImmediate:!0,onGetCode:a},null,8,["code"])],64)}}});function es(){return`
/**
 * 编写后请记得先点击右上角保存代码，然后点击该页面顶部保存按钮即可保存此插件，保存后立即生效！
 * 这是自定义代码段，拥有JavaScript的正式环境，你可以像正常写yunzai的js插件一样编写执行逻辑
 * 该作用域提供了以下变量，包含了yunzai的基本API，你可以在全局直接使用
 * @params e 消息事件变量，包含了消息事件的全部属性和方法
 * @params Bot 全局Bot
 * @params puppeteer 渲染器，提供了如puppeteer.screenshot等方法
 * @params segment 消息段制作
 * @params loader yunzai的插件加载实例
 * @params logger yunzai日志打印
 */

/** 
 * 如果你使用npm方式安装小微插件，那么需要使用模块化导入yunzai的方法，例如const {Config} = await import('yunzai')
 * 如果你使用git安装小微插件，当前代码的执行路径为./plugins/micro-plugin/dist/apps/message.js
 * 换而言之，如果你需要相对路径导入模块，
 * 则需要使用 const puppeteer = await import('../../../../lib/puppeteer/puppeteer.js'),当然该方式不被推荐
 * 注意你不能在这里使用import xxx from 'xxx'语法，
 * 因为所有代码将在函数作用域执行，你可以使用以下的动态导入依赖示例
 */

const moment = (await import('moment')).default
const now = moment().format('YYYY/MM/DD HH:mm:ss')
logger.info('现在是：',now)
e.reply(now)
    `}const Zt=e=>(et("data-v-882f4703"),e=e(),tt(),e),ts={class:"root_box"},ls={class:"plugin_box"},ns=Zt(()=>w("div",{class:"sub-title"},"触发规则",-1)),os={class:"title_bar"},as=Zt(()=>w("div",{class:"sub-title"},"消息段",-1)),ss={class:"input_box"},rs={class:"input_box"},us={key:1},is={class:"input_box"},ds={class:"input_box"},cs={class:"input_box"},ps={class:"face-box"},fs={class:"input_box"},ms={class:"face-box",style:{height:"120px"}},vs={class:"input_box"},hs={class:"face-box",style:{height:"120px"}},gs={class:"input_box"},_s={class:"face-box",style:{height:"60px"}},bs={class:"type-title",style:{"font-weight":"500","margin-bottom":"10px"}},ys={class:"seg_card_box"},ws={class:"type-title",style:{"font-weight":"500","margin-bottom":"10px"}},xs={class:"seg_card_box"},ks={class:"type-title",style:{"font-weight":"500","margin-bottom":"10px"}},Cs={key:0,class:"pic_editor"},Vs=J({__name:"index",props:["editedPluginValue"],emits:["savePlugin"],setup(e,{emit:t}){const o=de(),{commands:l}=Xt(o),a=R(!1),u=Ie({path:"",curType:"",curMsgIndex:0}),r=R([]),i=R(""),d=R(),p=ft(),f=t,v=e,m=Ie({}),c=R([]),_=R(""),x=R("");R("");const z=R(0),g=R([]),b=R({id:"",event:"message",reg:"",cron:"",delayTime:0,flag:"",isGlobal:!0,isAt:!1,isQuote:!1,groups:[],friends:[],message:[]}),I=R([{type:"代码",default:{type:"code",data:es(),hash:""}},{type:"文本",default:{type:"text",data:""}},{type:"图片",default:{type:"image",url:"",data:"",hash:"",json:""}},{type:"音频",default:{type:"record",url:"",data:""}},{type:"视频",default:{type:"video",url:"",data:""}},{type:"表情",default:{type:"face",data:0}},{type:"戳一戳",default:{type:"poke",data:0}},{type:"骰子",default:{type:"dice",data:1}},{type:"猜拳",default:{type:"rps",data:1}},{type:"Markdown",default:{type:"markdown",content:Ma()}},{type:"按钮",default:{type:"button",content:{appid:"",rows:[{buttons:[We()]}]}}}]),H=R([{desc:"默认Flags",value:""},{desc:"(g)全局搜索",value:"g"},{desc:"(i)不区分大小写",value:"i"},{desc:"(m)多行搜索",value:"m"},{desc:"(s)允许 . 匹配换行符",value:"s"},{desc:"(u)使用 unicode 码的模式进行匹配",value:"u"},{desc:"(y)匹配从目标字符串的当前位置开始",value:"y"}]);ke(()=>v.editedPluginValue,E=>{var L;if(p.curEditedMode=="add"){b.value.id=E.id;return}Object.keys(E).length===0&&console.log("对象没有自身属性"),b.value=E,g.value=E.message,(L=E.message)==null||L.forEach((G,fe)=>{G.type=="text"&&(m["index"+fe]=G.data)})},{immediate:!0});const A=E=>{console.log(E),i.value=E.url,a.value=!0},P=(E,L)=>{console.log(E),console.log(L),g.value[u.curMsgIndex].url="file://"+E.data},k=E=>u.curType=="image"&&!E.type.includes("image/")?(ae.error("确保上传的是图片!"),!1):u.curType=="record"&&!E.type.includes("audio/")?(ae.error("确保上传的音频!"),!1):u.curType=="video"&&!E.type.includes("video/")?(ae.error("确保上传的是视频!"),!1):E.size/1024/1024>100?(ae.error("File size can not exceed 100MB!"),!1):!0,U=async(E,L)=>{a.value=!0;let G=await zt();if(G.code==200){let fe=G.data.replace(/^file:\/\//,"");u.path=fe+"data/micro-plugin/plugins/"+(b.value.id?b.value.id:p.curPluginId),u.curType=L,u.curMsgIndex=E}},M=()=>{d.value.submit(),a.value=!1},F=async(E,L)=>{let G;if(!E){let fe=await zt();fe.code==200&&(c.value=[{value:fe.data},{value:"http://"},{value:"https://"}])}G=c.value,L(G)},W=()=>{b.value.groups.push(_.value),_.value=""},Z=E=>{b.value.groups.splice(E,1)},_e=()=>{b.value.friends.push(x.value),x.value=""},Le=E=>{b.value.friends.splice(E,1)},Te=async(E,L)=>{z.value=E,p.scene=2},qe=async()=>{if(p.curEditedMode=="update"){const E=g.value[z.value];if(E.hash&&!E.json){let L=await il(b.value.id,E.hash);L.code==200&&l.updateContainer(JSON.parse(L.data))}else E.hash&&E.json&&l.updateContainer(JSON.parse(E.json))}},Q=()=>{p.scene=0,p.isPluginEdited=!1},el=async()=>{b.value.message=g.value;let E;if(p.curEditedMode=="add")E=await dl(b.value),ae.success("添加成功！");else{if(b.value.id==""){ae.error("当前的插件id未知，无法保存！");return}E=await cl(b.value.id,b.value),ae.success("修改成功！")}console.log(E),E.code==200&&(f("savePlugin",E.data),p.scene=0,p.isPluginEdited=!1)},tl=(E,L)=>{g.value[L].data=E},ll=E=>{g.value[z.value].data=E.data,g.value[z.value].hash=E.hash,E.json&&(g.value[z.value].json=E.json)},nl=async(E,L)=>{L.data=E,L.hash=await Kt(E),ae.success("保存代码段成功，可点击此页顶端保存按钮保存插件~")},ol=async()=>{if(p.curEditedMode=="update"&&g.value.find(E=>E.type=="button"||E.type=="markdown"||E.type=="code")){let E=await pl(Object.assign(b.value,{message:g.value}));E.code==200&&(b.value=E.data,g.value=E.data.message)}},al=E=>{if(E.type=="text"){if(g.value.find(L=>L.type=="record"||L.type=="video")){ae.warning("无法在同一条消息中存在文本和该类型！");return}g.value.push({type:"text",data:""})}else if(E.type=="image"){if(g.value.find(L=>L.type=="record"||L.type=="video")){ae.warning("无法在同一条消息中存在图片和该类型！");return}g.value.push({type:"image",url:"",data:"",hash:""})}else if(E.type=="face"){if(g.value.find(L=>L.type=="record"||L.type=="video")){ae.warning("无法在同一条消息中存在表情和该类型！");return}g.value.push({type:"face",data:0})}else if(E.type=="markdown"){if(g.value.some(L=>L.type!=="button")){ae.warning("同一条消息中仅可存在该类型和按钮！");return}g.value.push(E)}else{if(g.value.length>0){ae.warning("已添加的消息类型无法和其它消息类型共存！");return}g.value.push(E)}},ce=E=>{g.value.splice(E,1)};return ve(()=>{ol()}),(E,L)=>{const G=y("el-button"),fe=y("el-card"),Se=y("el-input"),ee=y("el-form-item"),bt=y("el-tooltip"),yt=y("el-option"),wt=y("el-select"),ot=y("el-switch"),xt=y("arrow-down"),se=y("el-icon"),kt=y("CircleCloseFilled"),Ct=y("el-dropdown-item"),Vt=y("el-dropdown-menu"),$t=y("el-dropdown"),St=y("el-form"),at=y("el-autocomplete"),sl=y("CircleCheck"),me=y("CloseBold"),be=y("el-image"),Be=y("el-input-number"),Ae=y("el-popover"),rl=y("el-upload"),ul=y("el-dialog");return h(),V("div",ts,[mt(w("div",ls,[n(fe,null,{default:s(()=>[n(G,{onClick:Q},{default:s(()=>[$("返回")]),_:1}),n(G,{onClick:el},{default:s(()=>[$("保存")]),_:1})]),_:1}),n(fe,{style:{margin:"10px 0"}},{default:s(()=>[ns,n(St,{"label-width":"84px"},{default:s(()=>[n(ee,{label:"事件类型"},{default:s(()=>[n(Se,{modelValue:b.value.event,"onUpdate:modelValue":L[0]||(L[0]=C=>b.value.event=C),placeholder:"目前暂支持message",disabled:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),n(ee,{label:"定时任务"},{default:s(()=>[n(bt,{class:"box-item",effect:"dark",content:"必须关闭全局触发，会将消息推送到白名单群或用户，且消息段无法使用e变量，填了需重启机器人生效",placement:"bottom-start"},{default:s(()=>[n(Se,{modelValue:b.value.cron,"onUpdate:modelValue":L[1]||(L[1]=C=>b.value.cron=C),placeholder:"cron表达式，如：0 0 0 * * ?",disabled:b.value.isGlobal==!0,style:{width:"100%"}},null,8,["modelValue","disabled"])]),_:1})]),_:1}),n(ee,{label:"正则表达式"},{default:s(()=>[n(Se,{modelValue:b.value.reg,"onUpdate:modelValue":L[2]||(L[2]=C=>b.value.reg=C),placeholder:"^hello",style:{width:"auto"}},null,8,["modelValue"]),n(wt,{modelValue:b.value.flag,"onUpdate:modelValue":L[3]||(L[3]=C=>b.value.flag=C),placeholder:"默认Flags",style:{width:"200px",margin:"0 5px"}},{default:s(()=>[(h(!0),V(B,null,Y(H.value,(C,O)=>(h(),q(yt,{key:O,label:C.desc,value:C.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),n(ee,{label:"延迟"},{default:s(()=>[n(Se,{modelValue:b.value.delayTime,"onUpdate:modelValue":L[4]||(L[4]=C=>b.value.delayTime=C),placeholder:"如果设置了多个相同指令插件，那么将会按照该时间顺序延迟执行（单位：毫秒）",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),n(ee,{label:"@回复"},{default:s(()=>[n(ot,{modelValue:b.value.isAt,"onUpdate:modelValue":L[5]||(L[5]=C=>b.value.isAt=C),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),n(ee,{label:"引用回复"},{default:s(()=>[n(ot,{modelValue:b.value.isQuote,"onUpdate:modelValue":L[6]||(L[6]=C=>b.value.isQuote=C),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),n(ee,{label:"全局触发"},{default:s(()=>[n(ot,{modelValue:b.value.isGlobal,"onUpdate:modelValue":L[7]||(L[7]=C=>b.value.isGlobal=C),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66"},"active-text":"Y","inactive-text":"N"},null,8,["modelValue"])]),_:1}),n(ee,{label:b.value.isGlobal?"黑名单群":"白名单群"},{default:s(()=>[n(Se,{modelValue:_.value,"onUpdate:modelValue":L[8]||(L[8]=C=>_.value=C),placeholder:"群号",style:{width:"100px"}},null,8,["modelValue"]),n(G,{icon:"Plus",onClick:W,style:{"margin-left":"10px"}}),b.value.groups.length>0?(h(),q($t,{key:0,"max-height":"200px",style:{"margin-left":"10px"}},{dropdown:s(()=>[n(Vt,null,{default:s(()=>[(h(!0),V(B,null,Y(b.value.groups,(C,O)=>(h(),q(Ct,{key:O},{default:s(()=>[$(ne(C)+" ",1),n(se,{class:"el-icon--right",onClick:T=>Z(O)},{default:s(()=>[n(kt)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),default:s(()=>[n(G,null,{default:s(()=>[n(se,null,{default:s(()=>[n(xt)]),_:1})]),_:1})]),_:1})):N("",!0)]),_:1},8,["label"]),n(ee,{label:b.value.isGlobal?"黑名单用户":"白名单用户"},{default:s(()=>[n(Se,{modelValue:x.value,"onUpdate:modelValue":L[9]||(L[9]=C=>x.value=C),placeholder:"好友",style:{width:"100px"}},null,8,["modelValue"]),n(G,{icon:"Plus",onClick:_e,style:{"margin-left":"10px"}}),b.value.friends.length>0?(h(),q($t,{key:0,"max-height":"200px",style:{"margin-left":"10px"}},{dropdown:s(()=>[n(Vt,null,{default:s(()=>[(h(!0),V(B,null,Y(b.value.friends,(C,O)=>(h(),q(Ct,{key:O},{default:s(()=>[$(ne(C)+" ",1),n(se,{class:"el-icon--right",onClick:T=>Le(O)},{default:s(()=>[n(kt)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),default:s(()=>[n(G,null,{default:s(()=>[n(se,null,{default:s(()=>[n(xt)]),_:1})]),_:1})]),_:1})):N("",!0)]),_:1},8,["label"])]),_:1})]),_:1}),n(fe,{style:{margin:"10px 0"}},{default:s(()=>[w("div",os,[n(bt,{class:"box-item",effect:"dark",content:"注意：该卡片内的所有消息均为同一条消息，这意味这你可以同时添加文字和多张图片，但是受平台限制音视频需要单独发送！",placement:"top-start"},{default:s(()=>[as]),_:1}),n(wt,{onChange:al,placeholder:"添加消息",style:{width:"150px",margin:"0 5px"}},{default:s(()=>[(h(!0),V(B,null,Y(I.value,(C,O)=>(h(),q(yt,{key:O,label:C.type,value:C.default},null,8,["label","value"]))),128))]),_:1})]),n(St,{style:{"margin-bottom":"100px"}},{default:s(()=>[(h(!0),V(B,null,Y(g.value,(C,O)=>(h(),V("div",{key:O},[C.type=="text"?(h(),q(ee,{key:0,label:"文本"},{default:s(()=>[w("div",ss,[n(Sa,{width:"100%",cusInputValue:m["index"+O],onInnerText:T=>tl(T,O)},null,8,["cusInputValue","onInnerText"]),n(G,{style:{"margin-left":"10px"},onClick:T=>ce(O),icon:"CloseBold"},null,8,["onClick"])])]),_:2},1024)):N("",!0),C.type=="image"?(h(),q(ee,{key:1,label:"图片"},{default:s(()=>[w("div",rs,[n(at,{modelValue:C.url,"onUpdate:modelValue":T=>C.url=T,"fetch-suggestions":F,clearable:"",disabled:C.hash!="",placeholder:"http://或https://或file://"},null,8,["modelValue","onUpdate:modelValue","disabled"]),n(G,{style:{"margin-left":"10px"},onClick:T=>U(O,C.type),disabled:C.url!=""||C.hash!=""},{default:s(()=>[$(" 上传图片 ")]),_:2},1032,["onClick","disabled"]),n(G,{style:{"margin-left":"10px"},onClick:T=>Te(O,C),disabled:C.url!=""},{default:s(()=>[C.hash?(h(),q(se,{key:0},{default:s(()=>[n(sl,{color:"rgb(103,158,255)"})]),_:1})):(h(),V("span",us,"在线制作"))]),_:2},1032,["onClick","disabled"]),n(G,{style:{"margin-left":"10px"},onClick:T=>ce(O)},{default:s(()=>[n(se,null,{default:s(()=>[n(me)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):N("",!0),C.type=="record"?(h(),q(ee,{key:2,label:"音频"},{default:s(()=>[w("div",is,[n(at,{modelValue:C.url,"onUpdate:modelValue":T=>C.url=T,"fetch-suggestions":F,clearable:"",placeholder:"http://或https://或file://"},null,8,["modelValue","onUpdate:modelValue"]),n(G,{style:{"margin-left":"10px"},onClick:T=>U(O,C.type),disabled:C.url!=""},{default:s(()=>[$(" 上传音频 ")]),_:2},1032,["onClick","disabled"]),n(G,{style:{"margin-left":"10px"},onClick:T=>ce(O)},{default:s(()=>[n(se,null,{default:s(()=>[n(me)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="video"?(h(),q(ee,{key:3,label:"视频"},{default:s(()=>[w("div",ds,[n(at,{modelValue:C.url,"onUpdate:modelValue":T=>C.url=T,"fetch-suggestions":F,clearable:"",placeholder:"http://或https://或file://"},null,8,["modelValue","onUpdate:modelValue"]),n(G,{style:{"margin-left":"10px"},onClick:T=>U(O,C.type),disabled:C.url!=""},{default:s(()=>[$(" 上传视频 ")]),_:2},1032,["onClick","disabled"]),n(G,{style:{"margin-left":"10px"},onClick:T=>ce(O)},{default:s(()=>[n(se,null,{default:s(()=>[n(me)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="face"?(h(),q(ee,{key:4,label:"表情"},{default:s(()=>[w("div",cs,[n(Ae,{placement:"top-start",title:"QQFaces",width:300,trigger:"hover"},{reference:s(()=>[n(Be,{modelValue:C.data,"onUpdate:modelValue":T=>C.data=T},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[w("div",ps,[(h(!0),V(B,null,Y(S(Dl),T=>(h(),q(be,{class:"face-image",key:T.QSid,src:`/qfaces/s${T.QSid}.gif`,onClick:Me=>(C.data=Number(T.QSid),g.value[O].path=`/qfaces/s${T.QSid}.gif`)},null,8,["src","onClick"]))),128))])]),_:2},1024),g.value[O].path?(h(),q(G,{key:0},{default:s(()=>[(h(),q(be,{class:"face-image",key:O,src:g.value[O].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):N("",!0),n(G,{style:{"margin-left":"10px"},onClick:T=>ce(O)},{default:s(()=>[n(se,null,{default:s(()=>[n(me)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="poke"?(h(),q(ee,{key:5,label:"戳一戳"},{default:s(()=>[w("div",fs,[n(Ae,{placement:"top-start",title:"戳一戳类型",width:220,trigger:"hover"},{reference:s(()=>[n(Be,{modelValue:C.data,"onUpdate:modelValue":T=>C.data=T,min:0,max:6},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[w("div",ms,[(h(),V(B,null,Y(6,(T,Me)=>n(be,{class:"face-image",key:Me,src:`/qpoke/${T}.gif`,style:{width:"50px",height:"50px"},onClick:Mt=>(C.data=Number(T),g.value[O].path=`/qpoke/${T}.gif`)},null,8,["src","onClick"])),64))])]),_:2},1024),g.value[O].path?(h(),q(G,{key:0},{default:s(()=>[(h(),q(be,{class:"face-image",key:O,src:g.value[O].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):N("",!0),n(G,{style:{"margin-left":"10px"},onClick:T=>ce(O)},{default:s(()=>[n(se,null,{default:s(()=>[n(me)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="dice"?(h(),q(ee,{key:6,label:"骰子"},{default:s(()=>[w("div",vs,[n(Ae,{placement:"top-start",title:"骰子(协议端不一定可用)",width:220,trigger:"hover"},{reference:s(()=>[n(Be,{modelValue:C.data,"onUpdate:modelValue":T=>C.data=T,min:0,max:6},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[w("div",hs,[(h(),V(B,null,Y(6,(T,Me)=>n(be,{class:"face-image",key:Me,src:`/dice/${T}.png`,style:{width:"50px",height:"50px"},onClick:Mt=>(C.data=Number(T),g.value[O].path=`/dice/${T}.png`)},null,8,["src","onClick"])),64))])]),_:2},1024),g.value[O].path?(h(),q(G,{key:0},{default:s(()=>[(h(),q(be,{class:"face-image",key:O,src:g.value[O].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):N("",!0),n(G,{style:{"margin-left":"10px"},onClick:T=>ce(O)},{default:s(()=>[n(se,null,{default:s(()=>[n(me)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="rps"?(h(),q(ee,{key:7,label:"猜拳"},{default:s(()=>[w("div",gs,[n(Ae,{placement:"top-start",title:"猜拳(协议端不一定可用)",width:220,trigger:"hover"},{reference:s(()=>[n(Be,{modelValue:C.data,"onUpdate:modelValue":T=>C.data=T,min:0,max:6},null,8,["modelValue","onUpdate:modelValue"])]),default:s(()=>[w("div",_s,[(h(),V(B,null,Y(3,(T,Me)=>n(be,{class:"face-image",key:Me,src:`/rps/${T}.png`,style:{width:"50px",height:"50px"},onClick:Mt=>(C.data=Number(T),g.value[O].path=`/rps/${T}.png`)},null,8,["src","onClick"])),64))])]),_:2},1024),g.value[O].path?(h(),q(G,{key:0},{default:s(()=>[(h(),q(be,{class:"face-image",key:O,src:g.value[O].path,style:{width:"30px",height:"30px"}},null,8,["src"]))]),_:2},1024)):N("",!0),n(G,{style:{"margin-left":"10px"},onClick:T=>ce(O)},{default:s(()=>[n(se,null,{default:s(()=>[n(me)]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="markdown"?(h(),q(ee,{key:8},{default:s(()=>[w("div",bs,[$("Markdown "),n(G,{style:{"margin-left":"10px"},size:"small",onClick:T=>ce(O)},{default:s(()=>[n(se,null,{default:s(()=>[n(me)]),_:1})]),_:2},1032,["onClick"])]),w("div",ys,[n(Za,{"md-content":C.content},null,8,["md-content"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="button"?(h(),q(ee,{key:9},{default:s(()=>[w("div",ws,[$("按钮(icqq) "),n(G,{style:{"margin-left":"10px"},size:"small",onClick:T=>ce(O)},{default:s(()=>[n(se,null,{default:s(()=>[n(me)]),_:1})]),_:2},1032,["onClick"])]),w("div",xs,[n(Ja,{"btn-content":C.content,"onUpdate:btnContent":T=>C.content=T},null,8,["btn-content","onUpdate:btnContent"])])]),_:2},1024)):N("",!0),(C==null?void 0:C.type)=="code"?(h(),q(ee,{key:10},{default:s(()=>[w("div",ks,[$("自定义代码 "),n(G,{style:{"margin-left":"10px"},size:"small",onClick:T=>ce(O)},{default:s(()=>[n(se,null,{default:s(()=>[n(me)]),_:1})]),_:2},1032,["onClick"])]),n(qt,{code:C.data,ext:"js",onGetCode:T=>nl(T,C)},null,8,["code","onGetCode"])]),_:2},1024)):N("",!0)]))),128))]),_:1})]),_:1})],512),[[vt,S(p).scene==1]]),n(ul,{modelValue:a.value,"onUpdate:modelValue":L[11]||(L[11]=C=>a.value=C),title:"请上传文件！"},{footer:s(()=>[n(G,{type:"primary",size:"default",onClick:M},{default:s(()=>[$(" 确认提交 ")]),_:1})]),default:s(()=>[n(rl,{class:"file_uploader",action:"/api/fs/upload",multiple:"",ref_key:"uploadRef",ref:d,"file-list":r.value,"onUpdate:fileList":L[10]||(L[10]=C=>r.value=C),data:u,"show-file-list":!0,"on-preview":A,"on-success":P,"before-upload":k,"auto-upload":!1},{trigger:s(()=>[n(G,{type:"primary"},{default:s(()=>[$("选择文件")]),_:1})]),_:1},8,["file-list","data"])]),_:1},8,["modelValue"]),S(p).scene==2?(h(),V("div",Cs,[n(ka,{onOuterHTML:ll,onMounted:qe})])):N("",!0)])}}});const $s=te(Vs,[["__scopeId","data-v-882f4703"]]),Ss=e=>(et("data-v-03424357"),e=e(),tt(),e),Ms={key:0,class:"plugins_box"},zs={class:"top_bar"},Us=Ss(()=>w("div",{class:"sub-title"},"指令列表",-1)),Es={style:{"font-size":"12px"}},Is={style:{"font-size":"12px"}},Hs={key:1,class:"Plugin_editor"},Rs=J({__name:"index",setup(e){const t=ft(),o=R([]);let l=[];const a=R({id:""}),u=R("");Ie({pageNo:1,pageSize:10}),ve(()=>{r()});const r=async()=>{let m=await fl();console.log(m),m.code==200&&(o.value=m.data,l=m.data)},i=()=>{t.isPluginEdited=!0,t.scene=1,t.curEditedMode="add",a.value.id=Fl(),t.curPluginId=a.value.id},d=async m=>{t.isPluginEdited=!0,t.scene=1,t.curEditedMode="update",a.value=o.value[m]},p=m=>{o.value=m,l=m},f=async m=>{let c=await ml(m);console.log(c),c.code==200&&(o.value=c.data,l=c.data)},v=()=>{o.value=l.filter(m=>m.reg.includes(u.value))};return(m,c)=>{const _=y("el-button"),x=y("el-input"),z=y("el-popover"),g=y("el-table-column"),b=y("el-popconfirm"),I=y("el-table"),H=y("el-card");return h(),V(B,null,[S(t).scene==0?(h(),V("div",Ms,[n(H,null,{default:s(()=>[w("div",zs,[Us,n(z,{placement:"bottom",width:300,trigger:"hover"},{reference:s(()=>[n(_,{icon:"Search",circle:"",style:{"margin-left":"auto"}})]),default:s(()=>[n(x,{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=A=>u.value=A),placeholder:"筛选指令",size:"small",onInput:v},{append:s(()=>[n(_,{icon:"Search",onClick:v})]),_:1},8,["modelValue"])]),_:1}),n(_,{type:"primary",icon:"Plus",onClick:i},{default:s(()=>[$(" 添加指令 ")]),_:1})]),n(I,{data:o.value},{default:s(()=>[n(g,{type:"index",label:"#"}),n(g,{label:"指令"},{default:s(({row:A,$index:P})=>[$(ne(A.reg),1)]),_:1}),n(g,{label:"消息类型"},{default:s(({row:A,$index:P})=>[w("span",Es,"["+ne(A.message.map(k=>k.type).join(","))+"]",1)]),_:1}),n(g,{label:"创建时间"},{default:s(({row:A,$index:P})=>[w("span",Is,ne(A.id),1)]),_:1}),n(g,{label:"操作",fixed:"right","min-width":"120px"},{default:s(({row:A,$index:P})=>[n(_,{type:"primary",size:"small",icon:"Edit",onClick:k=>d(P)},null,8,["onClick"]),n(b,{title:"删除后不可恢复，您确定吗？",onConfirm:k=>f(P)},{reference:s(()=>[n(_,{type:"primary",size:"small",icon:"Delete"})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1})])):N("",!0),S(t).isPluginEdited?(h(),V("div",Hs,[n($s,{editedPluginValue:a.value,onSavePlugin:p},null,8,["editedPluginValue"])])):N("",!0)],64)}}});const Ps=te(Rs,[["__scopeId","data-v-03424357"]]);export{Ps as default};
