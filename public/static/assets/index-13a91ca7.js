import{d as te,a as b,u as l,s as D,o as n,c as d,b as u,t as x,e as g,_ as $,f as A,r as a,g as q,F as y,h as p,w as t,i as e,j as S,k as L,l as oe,T as ne,n as le,m as O,p as ae,v as se,q as H,x as ce,y as R,z as re,A as E}from"./index-a5da050d.js";let _e=te("SettingStore",{state:()=>({foldMode:2,refresh:!1})});const C=_e,de={key:0,class:"logo"},ue={name:"Logo"},ie=b({...ue,setup(v){let i=C();return(s,c)=>l(D).logoHidden==!1?(n(),d("div",de,[u("p",null,x(l(i).foldMode==2?l(D).title:""),1)])):g("",!0)}});const pe=$(ie,[["__scopeId","data-v-f02bde5e"]]),me={name:"Menu"},fe=b({...me,props:["menuList"],setup(v){let i=A();const s=c=>{i.push(c.index)};return(c,r)=>{const _=a("el-icon"),m=a("el-menu-item"),k=a("Menu"),w=a("el-sub-menu");return n(!0),d(y,null,q(v.menuList,o=>(n(),d(y,{key:o.path},[o.children?g("",!0):(n(),d(y,{key:0},[o.meta.hidden?g("",!0):(n(),p(m,{key:0,index:o.path,onClick:s},{title:t(()=>[u("span",null,x(o.meta.title),1)]),default:t(()=>[e(_,null,{default:t(()=>[(n(),p(S(o.meta.icon)))]),_:2},1024)]),_:2},1032,["index"]))],64)),o.children&&o.children.length==1?(n(),d(y,{key:1},[o.children[0].meta.hidden?g("",!0):(n(),p(m,{key:0,index:o.children[0].path,onClick:s},{title:t(()=>[u("span",null,x(o.children[0].meta.title),1)]),default:t(()=>[e(_,null,{default:t(()=>[(n(),p(S(o.children[0].meta.icon)))]),_:2},1024)]),_:2},1032,["index"]))],64)):g("",!0),o.children&&o.children.length>1?(n(),d(y,{key:2},[o.meta.hidden?g("",!0):(n(),p(w,{key:0,index:o.path},{title:t(()=>[e(_,null,{default:t(()=>[(n(),p(S(o.meta.icon)))]),_:2},1024),u("span",null,x(o.meta.title),1)]),default:t(()=>[e(k,{menuList:o.children},null,8,["menuList"])]),_:2},1032,["index"]))],64)):g("",!0)],64))),128)}}}),he={class:"com"},ge={name:"Main"},ye=b({...ge,setup(v){let i=C(),s=L(!0);return oe(()=>i.refresh,()=>{s.value=!1,le(()=>{s.value=!0})}),(c,r)=>{const _=a("router-view");return n(),p(_,null,{default:t(({Component:m})=>[e(ne,{name:"fade"},{default:t(()=>[u("div",he,[l(s)?(n(),p(S(m),{key:0})):g("",!0)])]),_:2},1024)]),_:1})}}});const ve=$(ye,[["__scopeId","data-v-d6118171"]]),ke={style:{margin:"0px 2px"}},xe={name:"Breadcrumb"},be=b({...xe,setup(v){let i=O(),s=C();const c=()=>{if(s.foldMode>=2){s.foldMode=0;return}s.foldMode++};return(r,_)=>{const m=a("el-icon"),k=a("el-breadcrumb-item"),w=a("el-breadcrumb");return n(),d(y,null,[e(m,{style:{"margin-right":"10px"},onClick:c},{default:t(()=>[(n(),p(S(l(s).foldMode==2?"Expand":"Fold")))]),_:1}),e(w,{"separator-icon":"ArrowRight"},{default:t(()=>[(n(!0),d(y,null,q(l(i).matched,(o,N)=>ae((n(),p(k,{key:N,to:o.path},{default:t(()=>[e(m,{style:{margin:"0px 2px"}},{default:t(()=>[(n(),p(S(o.meta.icon)))]),_:2},1024),u("span",ke,x(o.meta.title),1)]),_:2},1032,["to"])),[[se,o.meta.title]])),128))]),_:1})],64)}}}),Se=["src"],we={class:"el-dropdown-link"},$e={name:"Setting"},Ce=b({...$e,setup(v){let i=A(),s=O(),c=C(),r=H(),_=L(!1);const m=()=>{c.refresh=!c.refresh},k=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},w=async()=>{await r.logOut(),i.push({path:"/login",query:{redirect:s.path}})},o=f=>{localStorage.setItem("TOKEN",String(f)),window.location.reload()},N=f=>{delete r.tokens[f],localStorage.setItem("HISTORY_TOKENS",JSON.stringify(r.tokens))},T=L("rgba(255, 69, 0, 0.68)"),U=L(["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"]),j=()=>{let f=document.documentElement;_.value?f.className="dark":f.className="",re.emit("themeColor",f.className)},K=()=>{document.documentElement.style.setProperty("--el-color-primary",T.value)};return(f,M)=>{const V=a("el-button"),Q=a("el-color-picker"),z=a("el-form-item"),J=a("el-switch"),P=a("el-form"),Y=a("el-popover"),G=a("arrow-down"),F=a("el-icon"),B=a("el-dropdown-item"),W=a("Close"),X=a("el-dropdown-menu"),Z=a("el-dropdown");return n(),d(y,null,[e(V,{type:"primary",size:"small",icon:"Refresh",circle:"",onClick:m}),e(V,{type:"primary",size:"small",icon:"FullScreen",circle:"",onClick:k}),e(Y,{placement:"bottom",title:"主题设置",width:300,trigger:"hover"},{reference:t(()=>[e(V,{size:"small",icon:"Setting",circle:""})]),default:t(()=>[e(P,null,{default:t(()=>[e(z,{label:"主题颜色"},{default:t(()=>[e(Q,{onChange:K,modelValue:T.value,"onUpdate:modelValue":M[0]||(M[0]=h=>T.value=h),size:"small","show-alpha":"",predefine:U.value},null,8,["modelValue","predefine"])]),_:1}),e(z,{label:"暗黑模式"},{default:t(()=>[e(J,{onChange:j,modelValue:l(_),"onUpdate:modelValue":M[1]||(M[1]=h=>ce(_)?_.value=h:_=h),class:"mt-2",style:{"margin-left":"24px"},"inline-prompt":"","active-icon":"MoonNight","inactive-icon":"Sunny"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),u("img",{class:"avatar",src:l(r).avatar?l(r).avatar:`https://q1.qlogo.cn/g?b=qq&s=0&nk=${l(r).masterQQ}`},null,8,Se),e(Z,null,{dropdown:t(()=>[e(X,{style:{maxHeight:"200px"}},{default:t(()=>[e(B,{onClick:w},{default:t(()=>[R("退出登录")]),_:1}),(n(!0),d(y,null,q(Object.keys(l(r).tokens),(h,ee)=>(n(),d("div",{key:ee},[l(r).tokens&&h!==l(r).token?(n(),p(B,{key:0,onClick:I=>o(h)},{default:t(()=>{var I;return[R(x((I=l(r).tokens[h])==null?void 0:I.username)+" ",1),e(F,{class:"el-icon-close",style:{"margin-left":"5px","align-self":"center"},onClick:ze=>N(h)},{default:t(()=>[e(W)]),_:2},1032,["onClick"])]}),_:2},1032,["onClick"])):g("",!0)]))),128))]),_:1})]),default:t(()=>[u("span",we,[R(x(l(r).username)+" ",1),e(F,{class:"el-icon--right"},{default:t(()=>[e(G)]),_:1})])]),_:1})],64)}}});const Me=$(Ce,[["__scopeId","data-v-a49b2ca3"]]),Le={class:"tabbar"},Ne={class:"tabbar_left"},Te={class:"tabbar_right"},Ve={name:"Tabbar"},Ie=b({...Ve,setup(v){return(i,s)=>(n(),d("div",Le,[u("div",Ne,[e(be)]),u("div",Te,[e(Me)])]))}});const Re=$(Ie,[["__scopeId","data-v-d77f91a0"]]),Ee={class:"layout_container"},qe={name:"Layout"},Oe=b({...qe,setup(v){let i=O(),s=H(),c=C();return(r,_)=>{const m=a("el-menu"),k=a("el-scrollbar");return n(),d("div",Ee,[u("div",{class:E(["layout_slider",{fold:l(c).foldMode==1,hidden:l(c).foldMode==0}])},[e(pe),e(k,{class:"scrollbar"},{default:t(()=>[e(m,{collapse:l(c).foldMode==1,"default-active":l(i).path,"active-text-color":"rgb(64, 158, 255)"},{default:t(()=>[e(fe,{menuList:l(s).menuRoutes},null,8,["menuList"])]),_:1},8,["collapse","default-active"])]),_:1})],2),u("div",{class:E(["layout_tabbar",{fold:l(c).foldMode==1,hidden:l(c).foldMode==0}])},[e(Re)],2),u("div",{class:E(["layout_main",{fold:l(c).foldMode==1,hidden:l(c).foldMode==0}])},[e(ve)],2)])}}});const Be=$(Oe,[["__scopeId","data-v-dcd87735"]]);export{Be as default};
