import{a as U}from"./index-06a62535.js";import{a as Y,k as o,B as Z,r as n,ac as $,o as d,h as B,w as i,b as r,i as a,u as t,x as g,c as w,F as E,g as F,p as ee,P as k,t as S,A as le,C as oe,D as ae,_ as te}from"./index-6f2f2fc7.js";const se=v=>(oe("data-v-6a8c9a45"),v=v(),ae(),v),ne={class:"log_select"},ce={class:"log_title"},ie=se(()=>r("span",{style:{"margin-right":"10px"}},"日志",-1)),re={class:"select_log"},ue={class:"timestamp"},de={class:"timestamp"},pe=Y({__name:"index",setup(v){let y=o([]),D=o([]),z=o("0"),c=o("0"),f=o(0),u=o(50),p=o(500),C=o(500),_=o("#c8c7c7"),I=o("#c8c7c7"),m=o(16),h=o(16);const T=o(["#c8c7c7","rgba(30, 244, 251, 1)","#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585"]),L=o({STDOUT:"stdout",TRACE:"level-trace",DEBUG:"level-debug",INFO:"level-info",WARN:"level-warn",WARNING:"level-warn",ERROR:"level-error",ERRO:"level-error",FATAL:"level-fatal",MARK:"level-mark"});Z(()=>{C.value=window.innerHeight-150,x()});const N=s=>{C.value=p.value},H=s=>{h.value=m.value},M=()=>{I.value=_.value},x=async s=>{console.log(z.value,s,c.value),z.value!=s&&(y.value=[],z.value=s||"0",f.value=0);let l;s=="0"||!s?l=await U("0",f.value,u.value):l=await U(s,f.value,u.value),l.code==200&&(y.value.push(...l.data.logs),D.value=l.data.logList,c.value=l.data.curLog)},O=()=>{f.value++,x(c.value)},P=s=>{x(s)},G=()=>{x(c.value)};return(s,l)=>{const W=n("el-color-picker"),A=n("el-button"),b=n("el-slider"),R=n("el-form-item"),q=n("el-form"),K=n("el-popover"),j=n("el-option"),J=n("el-select"),Q=n("el-card"),X=$("infinite-scroll");return d(),B(Q,{class:"log_box"},{default:i(()=>[r("div",ne,[r("div",ce,[ie,a(W,{onChange:M,modelValue:t(_),"onUpdate:modelValue":l[0]||(l[0]=e=>g(_)?_.value=e:_=e),size:"small","show-alpha":"",predefine:T.value},null,8,["modelValue","predefine"])]),r("div",re,[a(A,{class:"update_btn",size:"small",icon:"Refresh",circle:"",onClick:G,style:{"margin-right":"-5px"}}),a(K,{placement:"bottom",title:"日志设置",width:300,trigger:"hover"},{reference:i(()=>[a(A,{size:"small",icon:"Setting",circle:"",style:{"margin-right":"5px"}})]),default:i(()=>[a(q,null,{default:i(()=>[a(R,{label:"窗口高度"},{default:i(()=>[a(b,{modelValue:t(p),"onUpdate:modelValue":l[1]||(l[1]=e=>g(p)?p.value=e:p=e),size:"large",min:400,max:1e3,onInput:N},null,8,["modelValue"])]),_:1}),a(R,{label:"字体大小"},{default:i(()=>[a(b,{modelValue:t(m),"onUpdate:modelValue":l[2]||(l[2]=e=>g(m)?m.value=e:m=e),size:"large",min:12,max:30,onInput:H},null,8,["modelValue"])]),_:1}),a(R,{label:"分页大小"},{default:i(()=>[a(b,{modelValue:t(u),"onUpdate:modelValue":l[3]||(l[3]=e=>g(u)?u.value=e:u=e),size:"large",min:20,max:1e3},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(J,{modelValue:t(c),"onUpdate:modelValue":l[4]||(l[4]=e=>g(c)?c.value=e:c=e),placeholder:"Select",size:"small",style:{width:"130px"},onChange:P},{default:i(()=>[(d(!0),w(E,null,F(t(D),(e,V)=>(d(),B(j,{key:V,label:e.replace("command.",""),value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),ee((d(),w("ul",{class:"page-logs",style:k({height:`${t(C)}px`})},[(d(!0),w(E,null,F(t(y),(e,V)=>(d(),w("li",{class:"line",key:V,style:k({fontSize:`${t(h)}px`,marginTop:`${Math.round(t(h)*.2)}px`,lineHeight:`${String(Math.round(1.5*t(h)))}px`})},[r("span",ue,"["+S(V)+"]",1),r("span",de,S(e.time),1),r("span",{class:le(L.value[e.level]?L.value[e.level]:L.value.STDOUT)}," ["+S(e.level)+"] ",3),r("span",{class:"detail",style:k({color:`${t(I)}`})},S(e.detail),5)],4))),128))],4)),[[X,O]])]),_:1})}}});const ge=te(pe,[["__scopeId","data-v-6a8c9a45"]]);export{ge as default};
